let ae;const ye={getEnvironment(){return ae||(ae=[]),ae}};class ve extends Error{constructor(o){super(`Component exited ${o===0?"successfully":"with error"}`),this.code=o}}const Ie={exit(e){throw new ve(e.tag==="err"?1:0)}},Ee={getDirectories(){return[]}},he={getStdin(){return 0}},Be={getStdout(){return 1}},Ce={getStderr(){return 2}},$={readViaStream(e,o){console.log(`[filesystem] READ STREAM ${e} ${o}`)},writeViaStream(e,o){console.log(`[filesystem] WRITE STREAM ${e} ${o}`)},appendViaStream(e){console.log(`[filesystem] APPEND STREAM ${e}`)},advise(e,o,a,i){console.log("[filesystem] ADVISE",e,o,a,i)},syncData(e){console.log(`[filesystem] SYNC DATA ${e}`)},getFlags(e){console.log(`[filesystem] FLAGS FOR ${e}`)},getType(e){console.log(`[filesystem] GET TYPE ${e}`)},setFlags(e,o){console.log(`[filesystem] SET FLAGS ${e} ${JSON.stringify(o)}`)},setSize(e,o){console.log("[filesystem] SET SIZE",e,o)},setTimes(e,o,a){console.log("[filesystem] SET TIMES",e,o,a)},read(e,o,a){console.log("[filesystem] READ",e,o,a)},write(e,o,a){console.log("[filesystem] WRITE",e,o,a)},readDirectory(e){console.log("[filesystem] READ DIR",e)},sync(e){console.log("[filesystem] SYNC",e)},createDirectoryAt(e,o){console.log("[filesystem] CREATE DIRECTORY",e,o)},stat(e){console.log("[filesystem] STAT",e)},statAt(e,o,a){console.log("[filesystem] STAT",e,o,a)},setTimesAt(e){console.log("[filesystem] SET TIMES AT",e)},linkAt(e){console.log("[filesystem] LINK AT",e)},openAt(e){console.log(`[filesystem] OPEN AT ${e}`)},readlinkAt(e){console.log("[filesystem] READLINK AT",e)},removeDirectoryAt(e){console.log("[filesystem] REMOVE DIR AT",e)},renameAt(e){console.log("[filesystem] RENAME AT",e)},symlinkAt(e){console.log("[filesystem] SYMLINK AT",e)},unlinkFileAt(e){console.log("[filesystem] UNLINK FILE AT",e)},changeFilePermissionsAt(e){console.log("[filesystem] CHANGE FILE PERMISSIONS AT",e)},changeDirectoryPermissionsAt(e){console.log("[filesystem] CHANGE DIR PERMISSIONS AT",e)},lockShared(e){console.log("[filesystem] LOCK SHARED",e)},lockExclusive(e){console.log("[filesystem] LOCK EXCLUSIVE",e)},tryLockShared(e){console.log("[filesystem] TRY LOCK SHARED",e)},tryLockExclusive(e){console.log("[filesystem] TRY LOCK EXCLUSIVE",e)},unlock(e){console.log("[filesystem] UNLOCK",e)},dropDescriptor(e){console.log("[filesystem] DROP DESCRIPTOR",e)},readDirectoryEntry(e){console.log("[filesystem] READ DIRECTRY ENTRY",e)},dropDirectoryEntryStream(e){console.log("[filesystem] DROP DIRECTORY ENTRY",e)}},se={read(e,o){console.log(`[streams] Read ${e} ${o}`)},blockingRead(e,o){console.log(`[streams] Blocking read ${e} ${o}`)},skip(e,o){console.log(`[streams] Skip ${e}`)},blockingSkip(e,o){console.log(`[streams] Blocking skip ${e}`)},subscribeToInputStream(e){console.log(`[streams] Subscribe to input stream ${e}`)},dropInputStream(e){console.log(`[streams] Drop input stream ${e}`)},write(e,o){switch(e){case 0:throw new Error("TODO: write stdin");case 1:{const a=new TextDecoder;return console.log(a.decode(o)),BigInt(o.byteLength)}case 2:{const a=new TextDecoder;return console.error(a.decode(o)),BigInt(o.byteLength)}default:throw new Error(`TODO: write ${e}`)}},blockingWrite(e,o){console.log(`[streams] Blocking write ${e}`)},writeZeroes(e,o){console.log(`[streams] Write zeroes ${e}`)},blockingWriteZeroes(e,o){console.log(`[streams] Blocking write zeroes ${e}`)},splice(e,o,a){console.log(`[streams] Splice ${e}`)},blockingSplice(e,o,a){console.log(`[streams] Blocking splice ${e}`)},forward(e,o){console.log(`[streams] Forward ${e}`)},subscribeToOutputStream(e){console.log(`[streams] Subscribe to output stream ${e}`)},dropOutputStream(e){console.log(`[streams] Drop output stream ${e}`)}},oe=65536;let ce,be;function le(){return crypto.getRandomValues(new BigUint64Array(1))[0]}const Re={getRandomBytes(e){const o=new Uint8Array(Number(e));if(e>oe)for(var a=0;a<e;a+=oe)crypto.getRandomValues(o.slice(a,a+oe));else crypto.getRandomValues(o);return o},getRandomU64:le,insecureRandom(){return ce===void 0&&(ce=le(),be=le()),[ce,be]}},Ae=e=>WebAssembly.compile(Uint8Array.from(atob(e),o=>o.charCodeAt(0)));class fe extends Error{constructor(o){const a=typeof o!="string";super(a?`${String(o)} (see error.payload)`:o),Object.defineProperty(this,"payload",{value:o,enumerable:a})}}let ie=new DataView(new ArrayBuffer);const s=e=>ie.buffer===e.buffer?ie:ie=new DataView(e.buffer),de=e=>fetch(e).then(WebAssembly.compileStreaming);function F(e){return e&&_e.call(e,"payload")?e.payload:e}const _e=Object.prototype.hasOwnProperty,ne=WebAssembly.instantiate;function ke(){throw new TypeError("Wasm uninitialized use `await $init` first")}const G=e=>BigInt.asUintN(64,e);function Z(e){return e>>>0}const te=new TextDecoder,Te=new TextEncoder;let _=0;function L(e,o,a){if(typeof e!="string")throw new TypeError("expected a string");if(e.length===0)return _=0,1;let i=0,c=0,l=0;for(;e.length>0;){c=o(c,i,1,i+e.length),i+=e.length;const{read:t,written:n}=Te.encodeInto(e,new Uint8Array(a.buffer,c+l,i-l));l+=n,e=e.slice(t)}return i>l&&(c=o(c,i,1,l)),_=l,c}let d,J;const Xe=$.dropDirectoryEntryStream;function Se(e){Xe(e>>>0)}const Ye=$.dropDescriptor;function Ne(e){Ye(e>>>0)}const Le=Ie.exit;function Ze(e){let o;switch(e){case 0:{o={tag:"ok",val:void 0};break}case 1:{o={tag:"err",val:void 0};break}default:throw new TypeError("invalid variant discriminant for expected")}Le(o)}const Qe=Ce.getStderr;function xe(){const e=Qe();return Z(e)}const Ue=he.getStdin;function We(){const e=Ue();return Z(e)}const ze=Be.getStdout;function Fe(){const e=ze();return Z(e)}const Ve=se.dropInputStream;function De(e){Ve(e>>>0)}const Ge=se.dropOutputStream;function Je(e){Ge(e>>>0)}let T,r,M;const Me=Ee.getDirectories;function Oe(e){const a=Me(),i=a.length,c=M(0,0,4,i*12);for(let l=0;l<a.length;l++){const t=a[l],n=c+l*12,[A,b]=t;s(r).setInt32(n+0,Z(A),!0);const m=L(b,M,r),w=_;s(r).setInt32(n+8,w,!0),s(r).setInt32(n+4,m,!0)}s(r).setInt32(e+4,i,!0),s(r).setInt32(e+0,c,!0)}const $e=$.readViaStream;function He(e,o,a){let i;try{i={tag:"ok",val:$e(e>>>0,BigInt.asUintN(64,o))}}catch(l){i={tag:"err",val:F(l)}}const c=i;switch(c.tag){case"ok":{const l=c.val;s(r).setInt8(a+0,0,!0),s(r).setInt32(a+4,Z(l),!0);break}case"err":{const l=c.val;s(r).setInt8(a+0,1,!0);const t=l;let n;switch(t){case"access":{n=0;break}case"would-block":{n=1;break}case"already":{n=2;break}case"bad-descriptor":{n=3;break}case"busy":{n=4;break}case"deadlock":{n=5;break}case"quota":{n=6;break}case"exist":{n=7;break}case"file-too-large":{n=8;break}case"illegal-byte-sequence":{n=9;break}case"in-progress":{n=10;break}case"interrupted":{n=11;break}case"invalid":{n=12;break}case"io":{n=13;break}case"is-directory":{n=14;break}case"loop":{n=15;break}case"too-many-links":{n=16;break}case"message-size":{n=17;break}case"name-too-long":{n=18;break}case"no-device":{n=19;break}case"no-entry":{n=20;break}case"no-lock":{n=21;break}case"insufficient-memory":{n=22;break}case"insufficient-space":{n=23;break}case"not-directory":{n=24;break}case"not-empty":{n=25;break}case"not-recoverable":{n=26;break}case"unsupported":{n=27;break}case"no-tty":{n=28;break}case"no-such-device":{n=29;break}case"overflow":{n=30;break}case"not-permitted":{n=31;break}case"pipe":{n=32;break}case"read-only":{n=33;break}case"invalid-seek":{n=34;break}case"text-file-busy":{n=35;break}case"cross-device":{n=36;break}default:throw l instanceof Error&&console.error(l),new TypeError(`"${t}" is not one of the cases of error-code`)}s(r).setInt8(a+4,n,!0);break}default:throw new TypeError("invalid variant specified for result")}}const je=$.writeViaStream;function Pe(e,o,a){let i;try{i={tag:"ok",val:je(e>>>0,BigInt.asUintN(64,o))}}catch(l){i={tag:"err",val:F(l)}}const c=i;switch(c.tag){case"ok":{const l=c.val;s(r).setInt8(a+0,0,!0),s(r).setInt32(a+4,Z(l),!0);break}case"err":{const l=c.val;s(r).setInt8(a+0,1,!0);const t=l;let n;switch(t){case"access":{n=0;break}case"would-block":{n=1;break}case"already":{n=2;break}case"bad-descriptor":{n=3;break}case"busy":{n=4;break}case"deadlock":{n=5;break}case"quota":{n=6;break}case"exist":{n=7;break}case"file-too-large":{n=8;break}case"illegal-byte-sequence":{n=9;break}case"in-progress":{n=10;break}case"interrupted":{n=11;break}case"invalid":{n=12;break}case"io":{n=13;break}case"is-directory":{n=14;break}case"loop":{n=15;break}case"too-many-links":{n=16;break}case"message-size":{n=17;break}case"name-too-long":{n=18;break}case"no-device":{n=19;break}case"no-entry":{n=20;break}case"no-lock":{n=21;break}case"insufficient-memory":{n=22;break}case"insufficient-space":{n=23;break}case"not-directory":{n=24;break}case"not-empty":{n=25;break}case"not-recoverable":{n=26;break}case"unsupported":{n=27;break}case"no-tty":{n=28;break}case"no-such-device":{n=29;break}case"overflow":{n=30;break}case"not-permitted":{n=31;break}case"pipe":{n=32;break}case"read-only":{n=33;break}case"invalid-seek":{n=34;break}case"text-file-busy":{n=35;break}case"cross-device":{n=36;break}default:throw l instanceof Error&&console.error(l),new TypeError(`"${t}" is not one of the cases of error-code`)}s(r).setInt8(a+4,n,!0);break}default:throw new TypeError("invalid variant specified for result")}}const qe=$.appendViaStream;function Ke(e,o){let a;try{a={tag:"ok",val:qe(e>>>0)}}catch(c){a={tag:"err",val:F(c)}}const i=a;switch(i.tag){case"ok":{const c=i.val;s(r).setInt8(o+0,0,!0),s(r).setInt32(o+4,Z(c),!0);break}case"err":{const c=i.val;s(r).setInt8(o+0,1,!0);const l=c;let t;switch(l){case"access":{t=0;break}case"would-block":{t=1;break}case"already":{t=2;break}case"bad-descriptor":{t=3;break}case"busy":{t=4;break}case"deadlock":{t=5;break}case"quota":{t=6;break}case"exist":{t=7;break}case"file-too-large":{t=8;break}case"illegal-byte-sequence":{t=9;break}case"in-progress":{t=10;break}case"interrupted":{t=11;break}case"invalid":{t=12;break}case"io":{t=13;break}case"is-directory":{t=14;break}case"loop":{t=15;break}case"too-many-links":{t=16;break}case"message-size":{t=17;break}case"name-too-long":{t=18;break}case"no-device":{t=19;break}case"no-entry":{t=20;break}case"no-lock":{t=21;break}case"insufficient-memory":{t=22;break}case"insufficient-space":{t=23;break}case"not-directory":{t=24;break}case"not-empty":{t=25;break}case"not-recoverable":{t=26;break}case"unsupported":{t=27;break}case"no-tty":{t=28;break}case"no-such-device":{t=29;break}case"overflow":{t=30;break}case"not-permitted":{t=31;break}case"pipe":{t=32;break}case"read-only":{t=33;break}case"invalid-seek":{t=34;break}case"text-file-busy":{t=35;break}case"cross-device":{t=36;break}default:throw c instanceof Error&&console.error(c),new TypeError(`"${l}" is not one of the cases of error-code`)}s(r).setInt8(o+4,t,!0);break}default:throw new TypeError("invalid variant specified for result")}}const et=$.getType;function tt(e,o){let a;try{a={tag:"ok",val:et(e>>>0)}}catch(c){a={tag:"err",val:F(c)}}const i=a;switch(i.tag){case"ok":{const c=i.val;s(r).setInt8(o+0,0,!0);const l=c;let t;switch(l){case"unknown":{t=0;break}case"block-device":{t=1;break}case"character-device":{t=2;break}case"directory":{t=3;break}case"fifo":{t=4;break}case"symbolic-link":{t=5;break}case"regular-file":{t=6;break}case"socket":{t=7;break}default:throw c instanceof Error&&console.error(c),new TypeError(`"${l}" is not one of the cases of descriptor-type`)}s(r).setInt8(o+1,t,!0);break}case"err":{const c=i.val;s(r).setInt8(o+0,1,!0);const l=c;let t;switch(l){case"access":{t=0;break}case"would-block":{t=1;break}case"already":{t=2;break}case"bad-descriptor":{t=3;break}case"busy":{t=4;break}case"deadlock":{t=5;break}case"quota":{t=6;break}case"exist":{t=7;break}case"file-too-large":{t=8;break}case"illegal-byte-sequence":{t=9;break}case"in-progress":{t=10;break}case"interrupted":{t=11;break}case"invalid":{t=12;break}case"io":{t=13;break}case"is-directory":{t=14;break}case"loop":{t=15;break}case"too-many-links":{t=16;break}case"message-size":{t=17;break}case"name-too-long":{t=18;break}case"no-device":{t=19;break}case"no-entry":{t=20;break}case"no-lock":{t=21;break}case"insufficient-memory":{t=22;break}case"insufficient-space":{t=23;break}case"not-directory":{t=24;break}case"not-empty":{t=25;break}case"not-recoverable":{t=26;break}case"unsupported":{t=27;break}case"no-tty":{t=28;break}case"no-such-device":{t=29;break}case"overflow":{t=30;break}case"not-permitted":{t=31;break}case"pipe":{t=32;break}case"read-only":{t=33;break}case"invalid-seek":{t=34;break}case"text-file-busy":{t=35;break}case"cross-device":{t=36;break}default:throw c instanceof Error&&console.error(c),new TypeError(`"${l}" is not one of the cases of error-code`)}s(r).setInt8(o+1,t,!0);break}default:throw new TypeError("invalid variant specified for result")}}const rt=$.stat;function st(e,o){let a;try{a={tag:"ok",val:rt(e>>>0)}}catch(c){a={tag:"err",val:F(c)}}const i=a;switch(i.tag){case"ok":{const c=i.val;s(r).setInt8(o+0,0,!0);const{device:l,inode:t,type:n,linkCount:A,size:b,dataAccessTimestamp:m,dataModificationTimestamp:w,statusChangeTimestamp:X}=c;s(r).setBigInt64(o+8,G(l),!0),s(r).setBigInt64(o+16,G(t),!0);const S=n;let v;switch(S){case"unknown":{v=0;break}case"block-device":{v=1;break}case"character-device":{v=2;break}case"directory":{v=3;break}case"fifo":{v=4;break}case"symbolic-link":{v=5;break}case"regular-file":{v=6;break}case"socket":{v=7;break}default:throw n instanceof Error&&console.error(n),new TypeError(`"${S}" is not one of the cases of descriptor-type`)}s(r).setInt8(o+24,v,!0),s(r).setBigInt64(o+32,G(A),!0),s(r).setBigInt64(o+40,G(b),!0);const{seconds:Q,nanoseconds:x}=m;s(r).setBigInt64(o+48,G(Q),!0),s(r).setInt32(o+56,Z(x),!0);const{seconds:B,nanoseconds:Y}=w;s(r).setBigInt64(o+64,G(B),!0),s(r).setInt32(o+72,Z(Y),!0);const{seconds:u,nanoseconds:V}=X;s(r).setBigInt64(o+80,G(u),!0),s(r).setInt32(o+88,Z(V),!0);break}case"err":{const c=i.val;s(r).setInt8(o+0,1,!0);const l=c;let t;switch(l){case"access":{t=0;break}case"would-block":{t=1;break}case"already":{t=2;break}case"bad-descriptor":{t=3;break}case"busy":{t=4;break}case"deadlock":{t=5;break}case"quota":{t=6;break}case"exist":{t=7;break}case"file-too-large":{t=8;break}case"illegal-byte-sequence":{t=9;break}case"in-progress":{t=10;break}case"interrupted":{t=11;break}case"invalid":{t=12;break}case"io":{t=13;break}case"is-directory":{t=14;break}case"loop":{t=15;break}case"too-many-links":{t=16;break}case"message-size":{t=17;break}case"name-too-long":{t=18;break}case"no-device":{t=19;break}case"no-entry":{t=20;break}case"no-lock":{t=21;break}case"insufficient-memory":{t=22;break}case"insufficient-space":{t=23;break}case"not-directory":{t=24;break}case"not-empty":{t=25;break}case"not-recoverable":{t=26;break}case"unsupported":{t=27;break}case"no-tty":{t=28;break}case"no-such-device":{t=29;break}case"overflow":{t=30;break}case"not-permitted":{t=31;break}case"pipe":{t=32;break}case"read-only":{t=33;break}case"invalid-seek":{t=34;break}case"text-file-busy":{t=35;break}case"cross-device":{t=36;break}default:throw c instanceof Error&&console.error(c),new TypeError(`"${l}" is not one of the cases of error-code`)}s(r).setInt8(o+8,t,!0);break}default:throw new TypeError("invalid variant specified for result")}}const nt=$.openAt;function at(e,o,a,i,c,l,t,n){if(o&4294967294)throw new TypeError("flags have extraneous bits set");const A={symlinkFollow:!!(o&1)},b=a,m=i,w=te.decode(new Uint8Array(r.buffer,b,m));if(c&4294967280)throw new TypeError("flags have extraneous bits set");const X={create:!!(c&1),directory:!!(c&2),exclusive:!!(c&4),truncate:!!(c&8)};if(l&4294967232)throw new TypeError("flags have extraneous bits set");const S={read:!!(l&1),write:!!(l&2),fileIntegritySync:!!(l&4),dataIntegritySync:!!(l&8),requestedWriteSync:!!(l&16),mutateDirectory:!!(l&32)};if(t&4294967288)throw new TypeError("flags have extraneous bits set");const v={readable:!!(t&1),writable:!!(t&2),executable:!!(t&4)};let Q;try{Q={tag:"ok",val:nt(e>>>0,A,w,X,S,v)}}catch(B){Q={tag:"err",val:F(B)}}const x=Q;switch(x.tag){case"ok":{const B=x.val;s(r).setInt8(n+0,0,!0),s(r).setInt32(n+4,Z(B),!0);break}case"err":{const B=x.val;s(r).setInt8(n+0,1,!0);const Y=B;let u;switch(Y){case"access":{u=0;break}case"would-block":{u=1;break}case"already":{u=2;break}case"bad-descriptor":{u=3;break}case"busy":{u=4;break}case"deadlock":{u=5;break}case"quota":{u=6;break}case"exist":{u=7;break}case"file-too-large":{u=8;break}case"illegal-byte-sequence":{u=9;break}case"in-progress":{u=10;break}case"interrupted":{u=11;break}case"invalid":{u=12;break}case"io":{u=13;break}case"is-directory":{u=14;break}case"loop":{u=15;break}case"too-many-links":{u=16;break}case"message-size":{u=17;break}case"name-too-long":{u=18;break}case"no-device":{u=19;break}case"no-entry":{u=20;break}case"no-lock":{u=21;break}case"insufficient-memory":{u=22;break}case"insufficient-space":{u=23;break}case"not-directory":{u=24;break}case"not-empty":{u=25;break}case"not-recoverable":{u=26;break}case"unsupported":{u=27;break}case"no-tty":{u=28;break}case"no-such-device":{u=29;break}case"overflow":{u=30;break}case"not-permitted":{u=31;break}case"pipe":{u=32;break}case"read-only":{u=33;break}case"invalid-seek":{u=34;break}case"text-file-busy":{u=35;break}case"cross-device":{u=36;break}default:throw B instanceof Error&&console.error(B),new TypeError(`"${Y}" is not one of the cases of error-code`)}s(r).setInt8(n+4,u,!0);break}default:throw new TypeError("invalid variant specified for result")}}const ot=Re.getRandomBytes;function ct(e,o){const i=ot(BigInt.asUintN(64,e)),c=i.byteLength,l=M(0,0,1,c*1),t=new Uint8Array(i.buffer||i,i.byteOffset,c*1);new Uint8Array(r.buffer,l,c*1).set(t),s(r).setInt32(o+4,c,!0),s(r).setInt32(o+0,l,!0)}const lt=ye.getEnvironment;function it(e){const a=lt(),i=a.length,c=M(0,0,4,i*16);for(let l=0;l<a.length;l++){const t=a[l],n=c+l*16,[A,b]=t,m=L(A,M,r),w=_;s(r).setInt32(n+4,w,!0),s(r).setInt32(n+0,m,!0);const X=L(b,M,r),S=_;s(r).setInt32(n+12,S,!0),s(r).setInt32(n+8,X,!0)}s(r).setInt32(e+4,i,!0),s(r).setInt32(e+0,c,!0)}const ut=se.read;function bt(e,o,a){let i;try{i={tag:"ok",val:ut(e>>>0,BigInt.asUintN(64,o))}}catch(l){i={tag:"err",val:F(l)}}const c=i;switch(c.tag){case"ok":{const l=c.val;s(r).setInt8(a+0,0,!0);const[t,n]=l,A=t,b=A.byteLength,m=M(0,0,1,b*1),w=new Uint8Array(A.buffer||A,A.byteOffset,b*1);new Uint8Array(r.buffer,m,b*1).set(w),s(r).setInt32(a+8,b,!0),s(r).setInt32(a+4,m,!0),s(r).setInt8(a+12,n?1:0,!0);break}case"err":{c.val,s(r).setInt8(a+0,1,!0);break}default:throw new TypeError("invalid variant specified for result")}}const At=se.blockingRead;function dt(e,o,a){let i;try{i={tag:"ok",val:At(e>>>0,BigInt.asUintN(64,o))}}catch(l){i={tag:"err",val:F(l)}}const c=i;switch(c.tag){case"ok":{const l=c.val;s(r).setInt8(a+0,0,!0);const[t,n]=l,A=t,b=A.byteLength,m=M(0,0,1,b*1),w=new Uint8Array(A.buffer||A,A.byteOffset,b*1);new Uint8Array(r.buffer,m,b*1).set(w),s(r).setInt32(a+8,b,!0),s(r).setInt32(a+4,m,!0),s(r).setInt8(a+12,n?1:0,!0);break}case"err":{c.val,s(r).setInt8(a+0,1,!0);break}default:throw new TypeError("invalid variant specified for result")}}const ft=se.write;function kt(e,o,a,i){const c=o,l=a,t=new Uint8Array(r.buffer.slice(c,c+l*1));let n;try{n={tag:"ok",val:ft(e>>>0,t)}}catch(b){n={tag:"err",val:F(b)}}const A=n;switch(A.tag){case"ok":{const b=A.val;s(r).setInt8(i+0,0,!0),s(r).setBigInt64(i+8,G(b),!0);break}case"err":{A.val,s(r).setInt8(i+0,1,!0);break}default:throw new TypeError("invalid variant specified for result")}}const pt=se.blockingWrite;function gt(e,o,a,i){const c=o,l=a,t=new Uint8Array(r.buffer.slice(c,c+l*1));let n;try{n={tag:"ok",val:pt(e>>>0,t)}}catch(b){n={tag:"err",val:F(b)}}const A=n;switch(A.tag){case"ok":{const b=A.val;s(r).setInt8(i+0,0,!0),s(r).setBigInt64(i+8,G(b),!0);break}case"err":{A.val,s(r).setInt8(i+0,1,!0);break}default:throw new TypeError("invalid variant specified for result")}}let C,pe,ge;function mt(e,o){ue||ke();const a=C(0,0,4,48),i=e,c=i.byteLength,l=C(0,0,1,c*1),t=new Uint8Array(i.buffer||i,i.byteOffset,c*1);new Uint8Array(r.buffer,l,c*1).set(t),s(r).setInt32(a+4,c,!0),s(r).setInt32(a+0,l,!0);const{name:n,noTypescript:A,instantiation:b,map:m,compat:w,noNodejsCompat:X,base64Cutoff:S,tlaCompat:v,validLiftingOptimization:Q}=o,x=L(n,C,r),B=_;s(r).setInt32(a+12,B,!0),s(r).setInt32(a+8,x,!0);const Y=A;if(Y==null)s(r).setInt8(a+16,0,!0);else{const f=Y;s(r).setInt8(a+16,1,!0),s(r).setInt8(a+17,f?1:0,!0)}const u=b;if(u==null)s(r).setInt8(a+18,0,!0);else{const f=u;s(r).setInt8(a+18,1,!0),s(r).setInt8(a+19,f?1:0,!0)}const V=m;if(V==null)s(r).setInt8(a+20,0,!0);else{const f=V;s(r).setInt8(a+20,1,!0);const p=f,k=p.length,g=C(0,0,4,k*16);for(let E=0;E<p.length;E++){const h=p[E],W=g+E*16,[z,O]=h,y=L(z,C,r),I=_;s(r).setInt32(W+4,I,!0),s(r).setInt32(W+0,y,!0);const U=L(O,C,r),D=_;s(r).setInt32(W+12,D,!0),s(r).setInt32(W+8,U,!0)}s(r).setInt32(a+28,k,!0),s(r).setInt32(a+24,g,!0)}const H=w;if(H==null)s(r).setInt8(a+32,0,!0);else{const f=H;s(r).setInt8(a+32,1,!0),s(r).setInt8(a+33,f?1:0,!0)}const j=X;if(j==null)s(r).setInt8(a+34,0,!0);else{const f=j;s(r).setInt8(a+34,1,!0),s(r).setInt8(a+35,f?1:0,!0)}const P=S;if(P==null)s(r).setInt8(a+36,0,!0);else{const f=P;s(r).setInt8(a+36,1,!0),s(r).setInt32(a+40,Z(f),!0)}const q=v;if(q==null)s(r).setInt8(a+44,0,!0);else{const f=q;s(r).setInt8(a+44,1,!0),s(r).setInt8(a+45,f?1:0,!0)}const K=Q;if(K==null)s(r).setInt8(a+46,0,!0);else{const f=K;s(r).setInt8(a+46,1,!0),s(r).setInt8(a+47,f?1:0,!0)}const R=J.generate(a);let N;switch(s(r).getUint8(R+0,!0)){case 0:{const f=s(r).getInt32(R+8,!0),p=s(r).getInt32(R+4,!0),k=[];for(let y=0;y<f;y++){const I=p+y*16,U=s(r).getInt32(I+0,!0),D=s(r).getInt32(I+4,!0),ee=te.decode(new Uint8Array(r.buffer,U,D)),re=s(r).getInt32(I+8,!0),me=s(r).getInt32(I+12,!0),we=new Uint8Array(r.buffer.slice(re,re+me*1));k.push([ee,we])}const g=s(r).getInt32(R+16,!0),E=s(r).getInt32(R+12,!0),h=[];for(let y=0;y<g;y++){const I=E+y*8,U=s(r).getInt32(I+0,!0),D=s(r).getInt32(I+4,!0),ee=te.decode(new Uint8Array(r.buffer,U,D));h.push(ee)}const W=s(r).getInt32(R+24,!0),z=s(r).getInt32(R+20,!0),O=[];for(let y=0;y<W;y++){const I=z+y*12,U=s(r).getInt32(I+0,!0),D=s(r).getInt32(I+4,!0),ee=te.decode(new Uint8Array(r.buffer,U,D));let re;switch(s(r).getUint8(I+8,!0)){case 0:{re="function";break}case 1:{re="instance";break}default:throw new TypeError("invalid discriminant specified for ExportType")}O.push([ee,re])}N={tag:"ok",val:{files:k,imports:h,exports:O}};break}case 1:{const f=s(r).getInt32(R+4,!0),p=s(r).getInt32(R+8,!0);N={tag:"err",val:te.decode(new Uint8Array(r.buffer,f,p))};break}default:throw new TypeError("invalid variant discriminant for expected")}if(pe(R),N.tag==="err")throw new fe(N.val);return N.val}function wt(e,o){ue||ke();const a=L(e,C,r),i=_,{wit:c,world:l,tlaCompat:t,instantiation:n,map:A}=o,b=c;let m,w,X;switch(b.tag){case"source":{const p=b.val,k=L(p,C,r),g=_;m=0,w=k,X=g;break}case"binary":{const k=b.val,g=k.byteLength,E=C(0,0,1,g*1),h=new Uint8Array(k.buffer||k,k.byteOffset,g*1);new Uint8Array(r.buffer,E,g*1).set(h),m=1,w=E,X=g;break}case"path":{const p=b.val,k=L(p,C,r),g=_;m=2,w=k,X=g;break}default:throw new TypeError("invalid variant specified for Wit")}const S=l;let v,Q,x;if(S==null)v=0,Q=0,x=0;else{const k=L(S,C,r),g=_;v=1,Q=k,x=g}const B=t;let Y,u;if(B==null)Y=0,u=0;else{const p=B;Y=1,u=p?1:0}const V=n;let H,j;if(V==null)H=0,j=0;else{const p=V;H=1,j=p?1:0}const P=A;let q,K,R;if(P==null)q=0,K=0,R=0;else{const k=P,g=k.length,E=C(0,0,4,g*16);for(let h=0;h<k.length;h++){const W=k[h],z=E+h*16,[O,y]=W,I=L(O,C,r),U=_;s(r).setInt32(z+4,U,!0),s(r).setInt32(z+0,I,!0);const D=L(y,C,r),ee=_;s(r).setInt32(z+12,ee,!0),s(r).setInt32(z+8,D,!0)}q=1,K=E,R=g}const N=J["generate-types"](a,i,m,w,X,v,Q,x,Y,u,H,j,q,K,R);let f;switch(s(r).getUint8(N+0,!0)){case 0:{const p=s(r).getInt32(N+8,!0),k=s(r).getInt32(N+4,!0),g=[];for(let E=0;E<p;E++){const h=k+E*16,W=s(r).getInt32(h+0,!0),z=s(r).getInt32(h+4,!0),O=te.decode(new Uint8Array(r.buffer,W,z)),y=s(r).getInt32(h+8,!0),I=s(r).getInt32(h+12,!0),U=new Uint8Array(r.buffer.slice(y,y+I*1));g.push([O,U])}f={tag:"ok",val:g};break}case 1:{const p=s(r).getInt32(N+4,!0),k=s(r).getInt32(N+8,!0);f={tag:"err",val:te.decode(new Uint8Array(r.buffer,p,k))};break}default:throw new TypeError("invalid variant discriminant for expected")}if(ge(N),f.tag==="err")throw new fe(f.val);return f.val}let ue=!1;const yt=(async()=>{const e=de(new URL(""+new URL("../assets/js-component-bindgen-component.core.6dbacc21.wasm",import.meta.url).href,self.location)),o=de(new URL(""+new URL("../assets/js-component-bindgen-component.core2.ccfbc375.wasm",import.meta.url).href,self.location)),a=Ae("AGFzbQEAAAABUgxgAX8AYAN/fn8AYAJ/fwBgCH9/f39/f39/AGACfn8AYAR/f39/AGACf38Bf2AEf39/fwF/YAl/f39/f35+f38Bf2ABfwF/YAN/f38Bf2ABfwADGRgAAQECAgIDBAABAQUFBgcHCAYGBgkGCgsEBQFwARgYB3oZATAAAAExAAEBMgACATMAAwE0AAQBNQAFATYABgE3AAcBOAAIATkACQIxMAAKAjExAAsCMTIADAIxMwANAjE0AA4CMTUADwIxNgAQAjE3ABECMTgAEgIxOQATAjIwABQCMjEAFQIyMgAWAjIzABcIJGltcG9ydHMBAArNAhgJACAAQQARAAALDQAgACABIAJBAREBAAsNACAAIAEgAkECEQEACwsAIAAgAUEDEQIACwsAIAAgAUEEEQIACwsAIAAgAUEFEQIACxcAIAAgASACIAMgBCAFIAYgB0EGEQMACwsAIAAgAUEHEQQACwkAIABBCBEAAAsNACAAIAEgAkEJEQEACw0AIAAgASACQQoRAQALDwAgACABIAIgA0ELEQUACw8AIAAgASACIANBDBEFAAsLACAAIAFBDREGAAsPACAAIAEgAiADQQ4RBwALDwAgACABIAIgA0EPEQcACxkAIAAgASACIAMgBCAFIAYgByAIQRARCAALCwAgACABQRERBgALCwAgACABQRIRBgALCwAgACABQRMRBgALCQAgAEEUEQkACwsAIAAgAUEVEQYACw0AIAAgASACQRYRCgALCQAgAEEXEQsACwAuCXByb2R1Y2VycwEMcHJvY2Vzc2VkLWJ5AQ13aXQtY29tcG9uZW50BjAuMTEuMAC8CARuYW1lABMSd2l0LWNvbXBvbmVudDpzaGltAZ8IGAAvaW5kaXJlY3Qtd2FzaTpjbGktYmFzZS9wcmVvcGVucy1nZXQtZGlyZWN0b3JpZXMBM2luZGlyZWN0LXdhc2k6ZmlsZXN5c3RlbS9maWxlc3lzdGVtLXJlYWQtdmlhLXN0cmVhbQI0aW5kaXJlY3Qtd2FzaTpmaWxlc3lzdGVtL2ZpbGVzeXN0ZW0td3JpdGUtdmlhLXN0cmVhbQM1aW5kaXJlY3Qtd2FzaTpmaWxlc3lzdGVtL2ZpbGVzeXN0ZW0tYXBwZW5kLXZpYS1zdHJlYW0ELGluZGlyZWN0LXdhc2k6ZmlsZXN5c3RlbS9maWxlc3lzdGVtLWdldC10eXBlBShpbmRpcmVjdC13YXNpOmZpbGVzeXN0ZW0vZmlsZXN5c3RlbS1zdGF0BitpbmRpcmVjdC13YXNpOmZpbGVzeXN0ZW0vZmlsZXN5c3RlbS1vcGVuLWF0ByxpbmRpcmVjdC13YXNpOnJhbmRvbS9yYW5kb20tZ2V0LXJhbmRvbS1ieXRlcwgyaW5kaXJlY3Qtd2FzaTpjbGktYmFzZS9lbnZpcm9ubWVudC1nZXQtZW52aXJvbm1lbnQJHWluZGlyZWN0LXdhc2k6aW8vc3RyZWFtcy1yZWFkCiZpbmRpcmVjdC13YXNpOmlvL3N0cmVhbXMtYmxvY2tpbmctcmVhZAseaW5kaXJlY3Qtd2FzaTppby9zdHJlYW1zLXdyaXRlDCdpbmRpcmVjdC13YXNpOmlvL3N0cmVhbXMtYmxvY2tpbmctd3JpdGUNLGFkYXB0LXdhc2lfc25hcHNob3RfcHJldmlldzEtZmRfZmlsZXN0YXRfZ2V0DiRhZGFwdC13YXNpX3NuYXBzaG90X3ByZXZpZXcxLWZkX3JlYWQPJWFkYXB0LXdhc2lfc25hcHNob3RfcHJldmlldzEtZmRfd3JpdGUQJmFkYXB0LXdhc2lfc25hcHNob3RfcHJldmlldzEtcGF0aF9vcGVuESdhZGFwdC13YXNpX3NuYXBzaG90X3ByZXZpZXcxLXJhbmRvbV9nZXQSKGFkYXB0LXdhc2lfc25hcHNob3RfcHJldmlldzEtZW52aXJvbl9nZXQTLmFkYXB0LXdhc2lfc25hcHNob3RfcHJldmlldzEtZW52aXJvbl9zaXplc19nZXQUJWFkYXB0LXdhc2lfc25hcHNob3RfcHJldmlldzEtZmRfY2xvc2UVK2FkYXB0LXdhc2lfc25hcHNob3RfcHJldmlldzEtZmRfcHJlc3RhdF9nZXQWMGFkYXB0LXdhc2lfc25hcHNob3RfcHJldmlldzEtZmRfcHJlc3RhdF9kaXJfbmFtZRcmYWRhcHQtd2FzaV9zbmFwc2hvdF9wcmV2aWV3MS1wcm9jX2V4aXQ"),i=Ae("AGFzbQEAAAABUgxgAX8AYAN/fn8AYAJ/fwBgCH9/f39/f39/AGACfn8AYAR/f39/AGACf38Bf2AEf39/fwF/YAl/f39/f35+f38Bf2ABfwF/YAN/f38Bf2ABfwAClgEZAAEwAAAAATEAAQABMgABAAEzAAIAATQAAgABNQACAAE2AAMAATcABAABOAAAAAE5AAEAAjEwAAEAAjExAAUAAjEyAAUAAjEzAAYAAjE0AAcAAjE1AAcAAjE2AAgAAjE3AAYAAjE4AAYAAjE5AAYAAjIwAAkAAjIxAAYAAjIyAAoAAjIzAAsACCRpbXBvcnRzAXABGBgJHgEAQQALGAABAgMEBQYHCAkKCwwNDg8QERITFBUWFwAuCXByb2R1Y2VycwEMcHJvY2Vzc2VkLWJ5AQ13aXQtY29tcG9uZW50BjAuMTEuMAAcBG5hbWUAFRR3aXQtY29tcG9uZW50OmZpeHVwcw");Promise.all([e,o,a,i]).catch(()=>{}),{exports:d}=await ne(await a),{exports:J}=await ne(await e,{wasi_snapshot_preview1:{environ_get:d[18],environ_sizes_get:d[19],fd_close:d[20],fd_filestat_get:d[13],fd_prestat_dir_name:d[22],fd_prestat_get:d[21],fd_read:d[14],fd_write:d[15],path_open:d[16],proc_exit:d[23],random_get:d[17]}}),{exports:T}=await ne(await o,{__main_module__:{cabi_realloc:J.cabi_realloc},env:{memory:J.memory},"wasi:cli-base/environment":{"get-environment":d[8]},"wasi:cli-base/exit":{exit:Ze},"wasi:cli-base/preopens":{"get-directories":d[0]},"wasi:cli-base/stderr":{"get-stderr":xe},"wasi:cli-base/stdin":{"get-stdin":We},"wasi:cli-base/stdout":{"get-stdout":Fe},"wasi:filesystem/filesystem":{"append-via-stream":d[3],"drop-descriptor":Ne,"drop-directory-entry-stream":Se,"get-type":d[4],"open-at":d[6],"read-via-stream":d[1],stat:d[5],"write-via-stream":d[2]},"wasi:io/streams":{"blocking-read":d[10],"blocking-write":d[12],"drop-input-stream":De,"drop-output-stream":Je,read:d[9],write:d[11]},"wasi:random/random":{"get-random-bytes":d[7]}}),r=J.memory,M=T.cabi_import_realloc,await ne(await i,{"":{$imports:d.$imports,0:Oe,1:He,10:dt,11:kt,12:gt,13:T.fd_filestat_get,14:T.fd_read,15:T.fd_write,16:T.path_open,17:T.random_get,18:T.environ_get,19:T.environ_sizes_get,2:Pe,20:T.fd_close,21:T.fd_prestat_get,22:T.fd_prestat_dir_name,23:T.proc_exit,3:Ke,4:tt,5:st,6:at,7:ct,8:it,9:bt}}),C=J.cabi_realloc,pe=J.cabi_post_generate,ge=J["cabi_post_generate-types"],ue=!0})();export{yt as $init,mt as generate,wt as generateTypes};

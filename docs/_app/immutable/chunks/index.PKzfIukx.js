var no=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var ke=(n,e,t)=>(no(n,e,"read from private field"),t?t.call(n):e.get(n)),os=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},wi=(n,e,t,s)=>(no(n,e,"write to private field"),s?s.call(n,t):e.set(n,t),t);import{_ as Ra}from"./preload-helper.0HuHagjb.js";function kc(n){return new Promise(e=>{setTimeout(e,n)})}let so="https://unpkg.com";const as=new Map;async function Yi(n){if(as.has(n))return as.get(n);await kc(200);const e=fetch(n).then(async t=>{if(t.ok)return{url:t.url,body:await t.text()};throw new Error(await t.text())}).catch(t=>{throw as.delete(n),t});return as.set(n,e),e}async function vi(n){return(await Yi(n)).url}const xc=new TextDecoder,Ic=n=>({name:"loader",async resolveId(e,t){if(n.find(s=>s[0]==e)||(e.endsWith("/")&&(e=e.slice(0,-1)),e.startsWith("http:")||e.startsWith("https:")))return e;if(e.startsWith(".")){const s=new URL(e,t).href;return await vi(s)}else{try{const s=await vi(`${so}/${e}/package.json`),i=(await Yi(s)).body,r=JSON.parse(i);if(r.svelte||r.module||r.main){const o=s.replace(/\/package\.json$/,"");return new URL(r.svelte||r.module||r.main,`${o}/`).href}}catch{}return await vi(`${so}/${e}`)}},async load(e){let t=n.find(i=>i[0]==e);return t?typeof t[1]=="string"?t[1]:xc.decode(t[1]):(await Yi(e)).body},async transform(e,t){if(!t.endsWith(".js"))return;let s=e.match(/new URL\((.*)/g);if(!(!s||!s.length))return s.forEach(i=>{let r=i.match(/'.\/(.*)'/)[1];if(!r.endsWith(".wasm"))return;let o=n.find(l=>l[0]==r);if(!o)return;let a=URL.createObjectURL(new Blob([o[1]],{type:"application/wasm"}));!a||a=="undefined"||(e=e.replace(`new URL('./${r}', import.meta.url)`,`'${a}'`))}),{code:e,map:{mappings:""}}}});let Ma=0;const Oa=Symbol.dispose||Symbol.for("dispose"),$c=class{constructor(e){this.msg=e}toDebugString(){return this.msg}};let Sc=class{constructor(e){e||console.trace("no handler"),this.id=++Ma,this.handler=e}read(e){return this.handler.read?this.handler.read(e):this.handler.blockingRead.call(this,e)}blockingRead(e){return this.handler.blockingRead.call(this,e)}skip(e){if(this.handler.skip)return this.handler.skip.call(this,e);if(this.handler.read){const t=this.handler.read.call(this,e);return BigInt(t.byteLength)}return this.blockingSkip.call(this,e)}blockingSkip(e){if(this.handler.blockingSkip)return this.handler.blockingSkip.call(this,e);const t=this.handler.blockingRead.call(this,e);return BigInt(t.byteLength)}subscribe(){console.log(`[streams] Subscribe to input stream ${this.id}`)}[Oa](){this.handler.drop&&this.handler.drop.call(this)}},Nc=class{constructor(e){e||console.trace("no handler"),this.id=++Ma,this.open=!0,this.handler=e}checkWrite(e){return this.open?this.handler.checkWrite?this.handler.checkWrite.call(this,e):1000000n:0n}write(e){this.handler.write.call(this,e)}blockingWriteAndFlush(e){this.handler.write.call(this,e)}flush(){this.handler.flush&&this.handler.flush.call(this)}blockingFlush(){this.open=!0}writeZeroes(e){this.write.call(this,new Uint8Array(Number(e)))}blockingWriteZeroes(e){this.blockingWrite.call(this,new Uint8Array(Number(e)))}blockingWriteZeroesAndFlush(e){this.blockingWriteAndFlush.call(this,new Uint8Array(Number(e)))}splice(e,t){const s=Math.min(t,this.checkWrite.call(this)),i=e.read(s);return this.write.call(this,i),i.byteLength}blockingSplice(e,t){console.log(`[streams] Blocking splice ${this.id}`)}forward(e){console.log(`[streams] Forward ${this.id}`)}subscribe(){console.log(`[streams] Subscribe to output stream ${this.id}`)}[Oa](){}};const Pc={Error:$c},xr={InputStream:Sc,OutputStream:Nc},{InputStream:Cc,OutputStream:Rc}=xr;let Mc=null,Oc={dir:{}};const Wt={seconds:BigInt(0),nanoseconds:0};function ki(n,e,t){e==="."&&io&&Lc(io[0])===n&&(e=Mc,e.startsWith("/")&&e!=="/"&&(e=e.slice(1)));let s=n,i;do{if(!s||!s.dir)throw"not-directory";i=e.indexOf("/");const r=i===-1?e:e.slice(0,i);if(r==="..")throw"no-entry";r==="."||r===""||(!s.dir[r]&&t.create?s=s.dir[r]=t.directory?{dir:{}}:{source:new Uint8Array([])}:s=s.dir[r]),e=e.slice(i+1)}while(i!==-1);if(!s)throw"no-entry";return s}function ls(n){return typeof n.source=="string"&&(n.source=new TextEncoder().encode(n.source)),n.source}let La=class{constructor(e){this.idx=0,this.entries=e}readDirectoryEntry(){if(this.idx===this.entries.length)return null;const[e,t]=this.entries[this.idx];return this.idx+=1,{name:e,type:t.dir?"directory":"regular-file"}}};var Hn,xe,Xn,Zn;let Zs=(Zn=class{constructor(e,t){os(this,Hn,void 0);os(this,xe,void 0);os(this,Xn,0);t?wi(this,Hn,e):wi(this,xe,e)}_getEntry(e){return ke(e,xe)}readViaStream(e){const t=ls(ke(this,xe));let s=Number(e);return new Cc({blockingRead(i){if(s===t.byteLength)throw{tag:"closed"};const r=t.slice(s,s+Number(i));return s+=r.byteLength,r}})}writeViaStream(e){const t=ke(this,xe);let s=Number(e);return new Rc({write(i){const r=new Uint8Array(i.byteLength+t.source.byteLength);return r.set(t.source,0),r.set(i,s),s+=i.byteLength,t.source=r,i.byteLength}})}appendViaStream(){console.log("[filesystem] APPEND STREAM")}advise(e,t,s,i){console.log("[filesystem] ADVISE",e,t,s,i)}syncData(){console.log("[filesystem] SYNC DATA")}getFlags(){console.log("[filesystem] FLAGS FOR")}getType(){return ke(this,Hn)?"fifo":ke(this,xe).dir?"directory":ke(this,xe).source?"regular-file":"unknown"}setSize(e){console.log("[filesystem] SET SIZE",e)}setTimes(e,t){console.log("[filesystem] SET TIMES",e,t)}read(e,t){const s=ls(ke(this,xe));return[s.slice(t,t+e),t+e>=s.byteLength]}write(e,t){if(t!==0)throw"invalid-seek";return ke(this,xe).source=e,e.byteLength}readDirectory(){var e;if(!((e=ke(this,xe))!=null&&e.dir))throw"bad-descriptor";return new La(Object.entries(ke(this,xe).dir).sort(([t],[s])=>t>s?1:-1))}sync(){console.log("[filesystem] SYNC")}createDirectoryAt(e){if(ki(ke(this,xe),e,{create:!0,directory:!0}).source)throw"exist"}stat(){let e="unknown",t=BigInt(0);if(ke(this,xe).source){e="regular-file";const s=ls(ke(this,xe));t=BigInt(s.byteLength)}else ke(this,xe).dir&&(e="directory");return{type:e,linkCount:BigInt(0),size:t,dataAccessTimestamp:Wt,dataModificationTimestamp:Wt,statusChangeTimestamp:Wt}}statAt(e,t){const s=ki(ke(this,xe),t);let i="unknown",r=BigInt(0);if(s.source){i="regular-file";const o=ls(s);r=BigInt(o.byteLength)}else s.dir&&(i="directory");return{type:i,linkCount:BigInt(0),size:r,dataAccessTimestamp:Wt,dataModificationTimestamp:Wt,statusChangeTimestamp:Wt}}setTimesAt(){console.log("[filesystem] SET TIMES AT")}linkAt(){console.log("[filesystem] LINK AT")}openAt(e,t,s,i,r){const o=ki(ke(this,xe),t,s);return new Zn(o)}readlinkAt(){console.log("[filesystem] READLINK AT")}removeDirectoryAt(){console.log("[filesystem] REMOVE DIR AT")}renameAt(){console.log("[filesystem] RENAME AT")}symlinkAt(){console.log("[filesystem] SYMLINK AT")}unlinkFileAt(){console.log("[filesystem] UNLINK FILE AT")}isSameObject(e){return e===this}metadataHash(){let e=BigInt(0);return e+=BigInt(ke(this,Xn)),{upper:e,lower:BigInt(0)}}metadataHashAt(e,t){let s=BigInt(0);return s+=BigInt(ke(this,Xn)),{upper:s,lower:BigInt(0)}}},Hn=new WeakMap,xe=new WeakMap,Xn=new WeakMap,Zn);const Lc=Zs.prototype._getEntry;delete Zs.prototype._getEntry;let Da=[[new Zs(Oc),"/"]],io=Da[0];const Dc={getDirectories(){return Da}},Bc={Descriptor:Zs,DirectoryEntryStream:La},{InputStream:Ba,OutputStream:qs}=xr,Ir=Symbol.dispose??Symbol.for("dispose");let _c=[],Tc=[],zc=null;const Vc={getEnvironment(){return _c},getArguments(){return Tc},initialCwd(){return zc}};class Fc extends Error{constructor(e){super(`Component exited ${e?"successfully":"with error"}`),this.exitError=!0,this.ok=e}}const jc={exit(n){throw new Fc(n.tag==="err")}},Uc=new Ba({blockingRead(n){},subscribe(){},[Ir](){}});let _a=new TextDecoder;const Gc=new qs({write(n){console.log(_a.decode(n))},blockingFlush(){},[Ir](){}}),Wc=new qs({write(n){console.error(_a.decode(n))},blockingFlush(){},[Ir](){}}),Hc={InputStream:Ba,getStdin(){return Uc}},Xc={OutputStream:qs,getStdout(){return Gc}},Zc={OutputStream:qs,getStderr(){return Wc}};let $r=class{},qn=class{};const qc=new qn,Yc=new qn,Kc=new $r,Qc={TerminalInput:$r},Jc={TerminalOutput:qn},eu={TerminalOutput:qn,getTerminalStderr(){return Yc}},tu={TerminalInput:$r,getTerminalStdin(){return Kc}},nu={TerminalOutput:qn,getTerminalStdout(){return qc}},xi=65536;let Ii,ro;const Ki={getRandomBytes(n){const e=new Uint8Array(Number(n));if(n>xi)for(var t=0;t<n;t+=xi)crypto.getRandomValues(e.subarray(t,t+xi));else crypto.getRandomValues(e);return e},getRandomU64(){return crypto.getRandomValues(new BigUint64Array(1))[0]},insecureRandom(){return Ii===void 0&&(Ii=Ki.getRandomU64(),ro=Ki.getRandomU64()),[Ii,ro]}},{getEnvironment:su}=Vc,{exit:iu}=jc,{getStderr:ru}=Zc,{getStdin:ou}=Hc,{getStdout:au}=Xc,{TerminalInput:lu}=Qc,{TerminalOutput:Ta}=Jc,{getTerminalStderr:cu}=eu,{getTerminalStdin:uu}=tu,{getTerminalStdout:du}=nu,{getDirectories:hu}=Dc,{Descriptor:ct,DirectoryEntryStream:Sf,filesystemErrorCode:pu}=Bc,{Error:un}=Pc,{InputStream:Ys,OutputStream:Nt}=xr,{getRandomBytes:fu}=Ki,oo=n=>WebAssembly.compile(typeof Buffer<"u"?Buffer.from(n,"base64"):Uint8Array.from(atob(n),e=>e.charCodeAt(0)));class mu extends Error{constructor(e){const t=typeof e!="string";super(t?`${String(e)} (see error.payload)`:e),Object.defineProperty(this,"payload",{value:e,enumerable:t})}}let $i=new DataView(new ArrayBuffer);const x=n=>$i.buffer===n.buffer?$i:$i=new DataView(n.buffer),gu=typeof process<"u"&&process.versions&&process.versions.node;let Si;async function ao(n){return gu?(Si=Si||await Ra(()=>import("./__vite-browser-external.XPXQPciS.js"),__vite__mapDeps([]),import.meta.url),WebAssembly.compile(await Si.readFile(n))):fetch(n).then(WebAssembly.compileStreaming)}function je(n){return n&&yu.call(n,"payload")?n.payload:n}const yu=Object.prototype.hasOwnProperty,cs=WebAssembly.instantiate,Be=Symbol.dispose||Symbol.for("dispose");function bu(){throw new TypeError("Wasm uninitialized use `await $init` first")}const bt=n=>BigInt.asUintN(64,BigInt(n));function vs(n){return n>>>0}const xn=new TextDecoder,Eu=new TextEncoder;let wt=0;function en(n,e,t){if(typeof n!="string")throw new TypeError("expected a string");if(n.length===0)return wt=0,1;let s=0,i=0,r=0;for(;n.length>0;){i=e(i,s,1,s+=n.length*2);const{read:o,written:a}=Eu.encodeInto(n,new Uint8Array(t.buffer,i+r,s-r));r+=a,n=n.slice(o)}return wt=r,i}let Y,mt;function Au(){const n=ru();if(!(n instanceof Nt))throw new Error('Resource error: Not a valid "OutputStream" resource.');var e=Ks++;return Ke.set(e,{rep:n,own:!0}),e}function wu(n){let e;switch(n){case 0:{e={tag:"ok",val:void 0};break}case 1:{e={tag:"err",val:void 0};break}default:throw new TypeError("invalid variant discriminant for expected")}iu(e)}function vu(){const n=ou();if(!(n instanceof Ys))throw new Error('Resource error: Not a valid "InputStream" resource.');var e=Va++;return an.set(e,{rep:n,own:!0}),e}function ku(){const n=au();if(!(n instanceof Nt))throw new Error('Resource error: Not a valid "OutputStream" resource.');var e=Ks++;return Ke.set(e,{rep:n,own:!0}),e}let _e;function xu(n){var t=hu(),s=t.length,i=lt(0,0,4,s*12);for(let d=0;d<t.length;d++){const p=t[d],h=i+d*12;var[r,o]=p;if(!(r instanceof ct))throw new Error('Resource error: Not a valid "Descriptor" resource.');var a=ja++;He.set(a,{rep:r,own:!0}),x(v).setInt32(h+0,a,!0);var l=en(o,lt,v),c=wt;x(v).setInt32(h+8,c,!0),x(v).setInt32(h+4,l,!0)}x(v).setInt32(n+4,s,!0),x(v).setInt32(n+0,i,!0)}let v,lt;function Iu(n,e,t){var s=n,i=He.get(s).rep;let r;try{r={tag:"ok",val:ct.prototype.readViaStream.call(i,BigInt.asUintN(64,e))}}catch(c){r={tag:"err",val:je(c)}}var o=r;switch(o.tag){case"ok":{const c=o.val;if(x(v).setInt8(t+0,0,!0),!(c instanceof Ys))throw new Error('Resource error: Not a valid "InputStream" resource.');var a=Va++;an.set(a,{rep:c,own:!0}),x(v).setInt32(t+4,a,!0);break}case"err":{const c=o.val;x(v).setInt8(t+0,1,!0);var l=c;let d;switch(l){case"access":{d=0;break}case"would-block":{d=1;break}case"already":{d=2;break}case"bad-descriptor":{d=3;break}case"busy":{d=4;break}case"deadlock":{d=5;break}case"quota":{d=6;break}case"exist":{d=7;break}case"file-too-large":{d=8;break}case"illegal-byte-sequence":{d=9;break}case"in-progress":{d=10;break}case"interrupted":{d=11;break}case"invalid":{d=12;break}case"io":{d=13;break}case"is-directory":{d=14;break}case"loop":{d=15;break}case"too-many-links":{d=16;break}case"message-size":{d=17;break}case"name-too-long":{d=18;break}case"no-device":{d=19;break}case"no-entry":{d=20;break}case"no-lock":{d=21;break}case"insufficient-memory":{d=22;break}case"insufficient-space":{d=23;break}case"not-directory":{d=24;break}case"not-empty":{d=25;break}case"not-recoverable":{d=26;break}case"unsupported":{d=27;break}case"no-tty":{d=28;break}case"no-such-device":{d=29;break}case"overflow":{d=30;break}case"not-permitted":{d=31;break}case"pipe":{d=32;break}case"read-only":{d=33;break}case"invalid-seek":{d=34;break}case"text-file-busy":{d=35;break}case"cross-device":{d=36;break}default:throw c instanceof Error&&console.error(c),new TypeError(`"${l}" is not one of the cases of error-code`)}x(v).setInt8(t+4,d,!0);break}default:throw new TypeError("invalid variant specified for result")}}function $u(n,e,t){var s=n,i=He.get(s).rep;let r;try{r={tag:"ok",val:ct.prototype.writeViaStream.call(i,BigInt.asUintN(64,e))}}catch(c){r={tag:"err",val:je(c)}}var o=r;switch(o.tag){case"ok":{const c=o.val;if(x(v).setInt8(t+0,0,!0),!(c instanceof Nt))throw new Error('Resource error: Not a valid "OutputStream" resource.');var a=Ks++;Ke.set(a,{rep:c,own:!0}),x(v).setInt32(t+4,a,!0);break}case"err":{const c=o.val;x(v).setInt8(t+0,1,!0);var l=c;let d;switch(l){case"access":{d=0;break}case"would-block":{d=1;break}case"already":{d=2;break}case"bad-descriptor":{d=3;break}case"busy":{d=4;break}case"deadlock":{d=5;break}case"quota":{d=6;break}case"exist":{d=7;break}case"file-too-large":{d=8;break}case"illegal-byte-sequence":{d=9;break}case"in-progress":{d=10;break}case"interrupted":{d=11;break}case"invalid":{d=12;break}case"io":{d=13;break}case"is-directory":{d=14;break}case"loop":{d=15;break}case"too-many-links":{d=16;break}case"message-size":{d=17;break}case"name-too-long":{d=18;break}case"no-device":{d=19;break}case"no-entry":{d=20;break}case"no-lock":{d=21;break}case"insufficient-memory":{d=22;break}case"insufficient-space":{d=23;break}case"not-directory":{d=24;break}case"not-empty":{d=25;break}case"not-recoverable":{d=26;break}case"unsupported":{d=27;break}case"no-tty":{d=28;break}case"no-such-device":{d=29;break}case"overflow":{d=30;break}case"not-permitted":{d=31;break}case"pipe":{d=32;break}case"read-only":{d=33;break}case"invalid-seek":{d=34;break}case"text-file-busy":{d=35;break}case"cross-device":{d=36;break}default:throw c instanceof Error&&console.error(c),new TypeError(`"${l}" is not one of the cases of error-code`)}x(v).setInt8(t+4,d,!0);break}default:throw new TypeError("invalid variant specified for result")}}function Su(n,e){var t=n,s=He.get(t).rep;let i;try{i={tag:"ok",val:ct.prototype.appendViaStream.call(s)}}catch(l){i={tag:"err",val:je(l)}}var r=i;switch(r.tag){case"ok":{const l=r.val;if(x(v).setInt8(e+0,0,!0),!(l instanceof Nt))throw new Error('Resource error: Not a valid "OutputStream" resource.');var o=Ks++;Ke.set(o,{rep:l,own:!0}),x(v).setInt32(e+4,o,!0);break}case"err":{const l=r.val;x(v).setInt8(e+0,1,!0);var a=l;let c;switch(a){case"access":{c=0;break}case"would-block":{c=1;break}case"already":{c=2;break}case"bad-descriptor":{c=3;break}case"busy":{c=4;break}case"deadlock":{c=5;break}case"quota":{c=6;break}case"exist":{c=7;break}case"file-too-large":{c=8;break}case"illegal-byte-sequence":{c=9;break}case"in-progress":{c=10;break}case"interrupted":{c=11;break}case"invalid":{c=12;break}case"io":{c=13;break}case"is-directory":{c=14;break}case"loop":{c=15;break}case"too-many-links":{c=16;break}case"message-size":{c=17;break}case"name-too-long":{c=18;break}case"no-device":{c=19;break}case"no-entry":{c=20;break}case"no-lock":{c=21;break}case"insufficient-memory":{c=22;break}case"insufficient-space":{c=23;break}case"not-directory":{c=24;break}case"not-empty":{c=25;break}case"not-recoverable":{c=26;break}case"unsupported":{c=27;break}case"no-tty":{c=28;break}case"no-such-device":{c=29;break}case"overflow":{c=30;break}case"not-permitted":{c=31;break}case"pipe":{c=32;break}case"read-only":{c=33;break}case"invalid-seek":{c=34;break}case"text-file-busy":{c=35;break}case"cross-device":{c=36;break}default:throw l instanceof Error&&console.error(l),new TypeError(`"${a}" is not one of the cases of error-code`)}x(v).setInt8(e+4,c,!0);break}default:throw new TypeError("invalid variant specified for result")}}function Nu(n,e){var t=n,s=He.get(t).rep;let i;try{i={tag:"ok",val:ct.prototype.getType.call(s)}}catch(l){i={tag:"err",val:je(l)}}var r=i;switch(r.tag){case"ok":{const l=r.val;x(v).setInt8(e+0,0,!0);var o=l;let c;switch(o){case"unknown":{c=0;break}case"block-device":{c=1;break}case"character-device":{c=2;break}case"directory":{c=3;break}case"fifo":{c=4;break}case"symbolic-link":{c=5;break}case"regular-file":{c=6;break}case"socket":{c=7;break}default:throw l instanceof Error&&console.error(l),new TypeError(`"${o}" is not one of the cases of descriptor-type`)}x(v).setInt8(e+1,c,!0);break}case"err":{const l=r.val;x(v).setInt8(e+0,1,!0);var a=l;let c;switch(a){case"access":{c=0;break}case"would-block":{c=1;break}case"already":{c=2;break}case"bad-descriptor":{c=3;break}case"busy":{c=4;break}case"deadlock":{c=5;break}case"quota":{c=6;break}case"exist":{c=7;break}case"file-too-large":{c=8;break}case"illegal-byte-sequence":{c=9;break}case"in-progress":{c=10;break}case"interrupted":{c=11;break}case"invalid":{c=12;break}case"io":{c=13;break}case"is-directory":{c=14;break}case"loop":{c=15;break}case"too-many-links":{c=16;break}case"message-size":{c=17;break}case"name-too-long":{c=18;break}case"no-device":{c=19;break}case"no-entry":{c=20;break}case"no-lock":{c=21;break}case"insufficient-memory":{c=22;break}case"insufficient-space":{c=23;break}case"not-directory":{c=24;break}case"not-empty":{c=25;break}case"not-recoverable":{c=26;break}case"unsupported":{c=27;break}case"no-tty":{c=28;break}case"no-such-device":{c=29;break}case"overflow":{c=30;break}case"not-permitted":{c=31;break}case"pipe":{c=32;break}case"read-only":{c=33;break}case"invalid-seek":{c=34;break}case"text-file-busy":{c=35;break}case"cross-device":{c=36;break}default:throw l instanceof Error&&console.error(l),new TypeError(`"${a}" is not one of the cases of error-code`)}x(v).setInt8(e+1,c,!0);break}default:throw new TypeError("invalid variant specified for result")}}function Pu(n,e){var t=n,s=He.get(t).rep;let i;try{i={tag:"ok",val:ct.prototype.stat.call(s)}}catch(P){i={tag:"err",val:je(P)}}var r=i;switch(r.tag){case"ok":{const P=r.val;x(v).setInt8(e+0,0,!0);var{type:o,linkCount:a,size:l,dataAccessTimestamp:c,dataModificationTimestamp:d,statusChangeTimestamp:p}=P,h=o;let S;switch(h){case"unknown":{S=0;break}case"block-device":{S=1;break}case"character-device":{S=2;break}case"directory":{S=3;break}case"fifo":{S=4;break}case"symbolic-link":{S=5;break}case"regular-file":{S=6;break}case"socket":{S=7;break}default:throw o instanceof Error&&console.error(o),new TypeError(`"${h}" is not one of the cases of descriptor-type`)}x(v).setInt8(e+8,S,!0),x(v).setBigInt64(e+16,bt(a),!0),x(v).setBigInt64(e+24,bt(l),!0);var f=c;if(f==null)x(v).setInt8(e+32,0,!0);else{const I=f;x(v).setInt8(e+32,1,!0);var{seconds:A,nanoseconds:m}=I;x(v).setBigInt64(e+40,bt(A),!0),x(v).setInt32(e+48,vs(m),!0)}var y=d;if(y==null)x(v).setInt8(e+56,0,!0);else{const I=y;x(v).setInt8(e+56,1,!0);var{seconds:b,nanoseconds:k}=I;x(v).setBigInt64(e+64,bt(b),!0),x(v).setInt32(e+72,vs(k),!0)}var g=p;if(g==null)x(v).setInt8(e+80,0,!0);else{const I=g;x(v).setInt8(e+80,1,!0);var{seconds:E,nanoseconds:w}=I;x(v).setBigInt64(e+88,bt(E),!0),x(v).setInt32(e+96,vs(w),!0)}break}case"err":{const P=r.val;x(v).setInt8(e+0,1,!0);var $=P;let S;switch($){case"access":{S=0;break}case"would-block":{S=1;break}case"already":{S=2;break}case"bad-descriptor":{S=3;break}case"busy":{S=4;break}case"deadlock":{S=5;break}case"quota":{S=6;break}case"exist":{S=7;break}case"file-too-large":{S=8;break}case"illegal-byte-sequence":{S=9;break}case"in-progress":{S=10;break}case"interrupted":{S=11;break}case"invalid":{S=12;break}case"io":{S=13;break}case"is-directory":{S=14;break}case"loop":{S=15;break}case"too-many-links":{S=16;break}case"message-size":{S=17;break}case"name-too-long":{S=18;break}case"no-device":{S=19;break}case"no-entry":{S=20;break}case"no-lock":{S=21;break}case"insufficient-memory":{S=22;break}case"insufficient-space":{S=23;break}case"not-directory":{S=24;break}case"not-empty":{S=25;break}case"not-recoverable":{S=26;break}case"unsupported":{S=27;break}case"no-tty":{S=28;break}case"no-such-device":{S=29;break}case"overflow":{S=30;break}case"not-permitted":{S=31;break}case"pipe":{S=32;break}case"read-only":{S=33;break}case"invalid-seek":{S=34;break}case"text-file-busy":{S=35;break}case"cross-device":{S=36;break}default:throw P instanceof Error&&console.error(P),new TypeError(`"${$}" is not one of the cases of error-code`)}x(v).setInt8(e+8,S,!0);break}default:throw new TypeError("invalid variant specified for result")}}function Cu(n,e,t,s,i,r,o){var a=n,l=He.get(a).rep;if(e&4294967294)throw new TypeError("flags have extraneous bits set");var c={symlinkFollow:!!(e&1)},d=t,p=s,h=xn.decode(new Uint8Array(v.buffer,d,p));if(i&4294967280)throw new TypeError("flags have extraneous bits set");var f={create:!!(i&1),directory:!!(i&2),exclusive:!!(i&4),truncate:!!(i&8)};if(r&4294967232)throw new TypeError("flags have extraneous bits set");var A={read:!!(r&1),write:!!(r&2),fileIntegritySync:!!(r&4),dataIntegritySync:!!(r&8),requestedWriteSync:!!(r&16),mutateDirectory:!!(r&32)};let m;try{m={tag:"ok",val:ct.prototype.openAt.call(l,c,h,f,A)}}catch(g){m={tag:"err",val:je(g)}}var y=m;switch(y.tag){case"ok":{const g=y.val;if(x(v).setInt8(o+0,0,!0),!(g instanceof ct))throw new Error('Resource error: Not a valid "Descriptor" resource.');var b=ja++;He.set(b,{rep:g,own:!0}),x(v).setInt32(o+4,b,!0);break}case"err":{const g=y.val;x(v).setInt8(o+0,1,!0);var k=g;let E;switch(k){case"access":{E=0;break}case"would-block":{E=1;break}case"already":{E=2;break}case"bad-descriptor":{E=3;break}case"busy":{E=4;break}case"deadlock":{E=5;break}case"quota":{E=6;break}case"exist":{E=7;break}case"file-too-large":{E=8;break}case"illegal-byte-sequence":{E=9;break}case"in-progress":{E=10;break}case"interrupted":{E=11;break}case"invalid":{E=12;break}case"io":{E=13;break}case"is-directory":{E=14;break}case"loop":{E=15;break}case"too-many-links":{E=16;break}case"message-size":{E=17;break}case"name-too-long":{E=18;break}case"no-device":{E=19;break}case"no-entry":{E=20;break}case"no-lock":{E=21;break}case"insufficient-memory":{E=22;break}case"insufficient-space":{E=23;break}case"not-directory":{E=24;break}case"not-empty":{E=25;break}case"not-recoverable":{E=26;break}case"unsupported":{E=27;break}case"no-tty":{E=28;break}case"no-such-device":{E=29;break}case"overflow":{E=30;break}case"not-permitted":{E=31;break}case"pipe":{E=32;break}case"read-only":{E=33;break}case"invalid-seek":{E=34;break}case"text-file-busy":{E=35;break}case"cross-device":{E=36;break}default:throw g instanceof Error&&console.error(g),new TypeError(`"${k}" is not one of the cases of error-code`)}x(v).setInt8(o+4,E,!0);break}default:throw new TypeError("invalid variant specified for result")}}function Ru(n,e){var t=n,s=He.get(t).rep;let i;try{i={tag:"ok",val:ct.prototype.metadataHash.call(s)}}catch(c){i={tag:"err",val:je(c)}}var r=i;switch(r.tag){case"ok":{const c=r.val;x(v).setInt8(e+0,0,!0);var{lower:o,upper:a}=c;x(v).setBigInt64(e+8,bt(o),!0),x(v).setBigInt64(e+16,bt(a),!0);break}case"err":{const c=r.val;x(v).setInt8(e+0,1,!0);var l=c;let d;switch(l){case"access":{d=0;break}case"would-block":{d=1;break}case"already":{d=2;break}case"bad-descriptor":{d=3;break}case"busy":{d=4;break}case"deadlock":{d=5;break}case"quota":{d=6;break}case"exist":{d=7;break}case"file-too-large":{d=8;break}case"illegal-byte-sequence":{d=9;break}case"in-progress":{d=10;break}case"interrupted":{d=11;break}case"invalid":{d=12;break}case"io":{d=13;break}case"is-directory":{d=14;break}case"loop":{d=15;break}case"too-many-links":{d=16;break}case"message-size":{d=17;break}case"name-too-long":{d=18;break}case"no-device":{d=19;break}case"no-entry":{d=20;break}case"no-lock":{d=21;break}case"insufficient-memory":{d=22;break}case"insufficient-space":{d=23;break}case"not-directory":{d=24;break}case"not-empty":{d=25;break}case"not-recoverable":{d=26;break}case"unsupported":{d=27;break}case"no-tty":{d=28;break}case"no-such-device":{d=29;break}case"overflow":{d=30;break}case"not-permitted":{d=31;break}case"pipe":{d=32;break}case"read-only":{d=33;break}case"invalid-seek":{d=34;break}case"text-file-busy":{d=35;break}case"cross-device":{d=36;break}default:throw c instanceof Error&&console.error(c),new TypeError(`"${l}" is not one of the cases of error-code`)}x(v).setInt8(e+8,d,!0);break}default:throw new TypeError("invalid variant specified for result")}}function Mu(n,e){var t=n,s=ut.get(t).rep,r=pu(s);if(r==null)x(v).setInt8(e+0,0,!0);else{const a=r;x(v).setInt8(e+0,1,!0);var o=a;let l;switch(o){case"access":{l=0;break}case"would-block":{l=1;break}case"already":{l=2;break}case"bad-descriptor":{l=3;break}case"busy":{l=4;break}case"deadlock":{l=5;break}case"quota":{l=6;break}case"exist":{l=7;break}case"file-too-large":{l=8;break}case"illegal-byte-sequence":{l=9;break}case"in-progress":{l=10;break}case"interrupted":{l=11;break}case"invalid":{l=12;break}case"io":{l=13;break}case"is-directory":{l=14;break}case"loop":{l=15;break}case"too-many-links":{l=16;break}case"message-size":{l=17;break}case"name-too-long":{l=18;break}case"no-device":{l=19;break}case"no-entry":{l=20;break}case"no-lock":{l=21;break}case"insufficient-memory":{l=22;break}case"insufficient-space":{l=23;break}case"not-directory":{l=24;break}case"not-empty":{l=25;break}case"not-recoverable":{l=26;break}case"unsupported":{l=27;break}case"no-tty":{l=28;break}case"no-such-device":{l=29;break}case"overflow":{l=30;break}case"not-permitted":{l=31;break}case"pipe":{l=32;break}case"read-only":{l=33;break}case"invalid-seek":{l=34;break}case"text-file-busy":{l=35;break}case"cross-device":{l=36;break}default:throw a instanceof Error&&console.error(a),new TypeError(`"${o}" is not one of the cases of error-code`)}x(v).setInt8(e+1,l,!0)}}function Ou(n,e,t){var s=n,i=an.get(s).rep;let r;try{r={tag:"ok",val:Ys.prototype.read.call(i,BigInt.asUintN(64,e))}}catch(f){r={tag:"err",val:je(f)}}var o=r;switch(o.tag){case"ok":{const f=o.val;x(v).setInt8(t+0,0,!0);var a=f,l=a.byteLength,c=lt(0,0,1,l*1),d=new Uint8Array(a.buffer||a,a.byteOffset,l*1);new Uint8Array(v.buffer,c,l*1).set(d),x(v).setInt32(t+8,l,!0),x(v).setInt32(t+4,c,!0);break}case"err":{const f=o.val;x(v).setInt8(t+0,1,!0);var p=f;switch(p.tag){case"last-operation-failed":{const A=p.val;if(x(v).setInt8(t+4,0,!0),!(A instanceof un))throw new Error('Resource error: Not a valid "Error" resource.');var h=dn++;ut.set(h,{rep:A,own:!0}),x(v).setInt32(t+8,h,!0);break}case"closed":{x(v).setInt8(t+4,1,!0);break}default:throw new TypeError(`invalid variant tag value \`${JSON.stringify(p.tag)}\` (received \`${p}\`) specified for \`StreamError\``)}break}default:throw new TypeError("invalid variant specified for result")}}function Lu(n,e,t){var s=n,i=an.get(s).rep;let r;try{r={tag:"ok",val:Ys.prototype.blockingRead.call(i,BigInt.asUintN(64,e))}}catch(f){r={tag:"err",val:je(f)}}var o=r;switch(o.tag){case"ok":{const f=o.val;x(v).setInt8(t+0,0,!0);var a=f,l=a.byteLength,c=lt(0,0,1,l*1),d=new Uint8Array(a.buffer||a,a.byteOffset,l*1);new Uint8Array(v.buffer,c,l*1).set(d),x(v).setInt32(t+8,l,!0),x(v).setInt32(t+4,c,!0);break}case"err":{const f=o.val;x(v).setInt8(t+0,1,!0);var p=f;switch(p.tag){case"last-operation-failed":{const A=p.val;if(x(v).setInt8(t+4,0,!0),!(A instanceof un))throw new Error('Resource error: Not a valid "Error" resource.');var h=dn++;ut.set(h,{rep:A,own:!0}),x(v).setInt32(t+8,h,!0);break}case"closed":{x(v).setInt8(t+4,1,!0);break}default:throw new TypeError(`invalid variant tag value \`${JSON.stringify(p.tag)}\` (received \`${p}\`) specified for \`StreamError\``)}break}default:throw new TypeError("invalid variant specified for result")}}function Du(n,e){var t=n,s=Ke.get(t).rep;let i;try{i={tag:"ok",val:Nt.prototype.checkWrite.call(s)}}catch(l){i={tag:"err",val:je(l)}}var r=i;switch(r.tag){case"ok":{const l=r.val;x(v).setInt8(e+0,0,!0),x(v).setBigInt64(e+8,bt(l),!0);break}case"err":{const l=r.val;x(v).setInt8(e+0,1,!0);var o=l;switch(o.tag){case"last-operation-failed":{const c=o.val;if(x(v).setInt8(e+8,0,!0),!(c instanceof un))throw new Error('Resource error: Not a valid "Error" resource.');var a=dn++;ut.set(a,{rep:c,own:!0}),x(v).setInt32(e+12,a,!0);break}case"closed":{x(v).setInt8(e+8,1,!0);break}default:throw new TypeError(`invalid variant tag value \`${JSON.stringify(o.tag)}\` (received \`${o}\`) specified for \`StreamError\``)}break}default:throw new TypeError("invalid variant specified for result")}}function Bu(n,e,t,s){var i=n,r=Ke.get(i).rep,o=e,a=t,l=new Uint8Array(v.buffer.slice(o,o+a*1));let c;try{c={tag:"ok",val:Nt.prototype.write.call(r,l)}}catch(f){c={tag:"err",val:je(f)}}var d=c;switch(d.tag){case"ok":{d.val,x(v).setInt8(s+0,0,!0);break}case"err":{const f=d.val;x(v).setInt8(s+0,1,!0);var p=f;switch(p.tag){case"last-operation-failed":{const A=p.val;if(x(v).setInt8(s+4,0,!0),!(A instanceof un))throw new Error('Resource error: Not a valid "Error" resource.');var h=dn++;ut.set(h,{rep:A,own:!0}),x(v).setInt32(s+8,h,!0);break}case"closed":{x(v).setInt8(s+4,1,!0);break}default:throw new TypeError(`invalid variant tag value \`${JSON.stringify(p.tag)}\` (received \`${p}\`) specified for \`StreamError\``)}break}default:throw new TypeError("invalid variant specified for result")}}function _u(n,e,t,s){var i=n,r=Ke.get(i).rep,o=e,a=t,l=new Uint8Array(v.buffer.slice(o,o+a*1));let c;try{c={tag:"ok",val:Nt.prototype.blockingWriteAndFlush.call(r,l)}}catch(f){c={tag:"err",val:je(f)}}var d=c;switch(d.tag){case"ok":{d.val,x(v).setInt8(s+0,0,!0);break}case"err":{const f=d.val;x(v).setInt8(s+0,1,!0);var p=f;switch(p.tag){case"last-operation-failed":{const A=p.val;if(x(v).setInt8(s+4,0,!0),!(A instanceof un))throw new Error('Resource error: Not a valid "Error" resource.');var h=dn++;ut.set(h,{rep:A,own:!0}),x(v).setInt32(s+8,h,!0);break}case"closed":{x(v).setInt8(s+4,1,!0);break}default:throw new TypeError(`invalid variant tag value \`${JSON.stringify(p.tag)}\` (received \`${p}\`) specified for \`StreamError\``)}break}default:throw new TypeError("invalid variant specified for result")}}function Tu(n,e){var t=n,s=Ke.get(t).rep;let i;try{i={tag:"ok",val:Nt.prototype.blockingFlush.call(s)}}catch(l){i={tag:"err",val:je(l)}}var r=i;switch(r.tag){case"ok":{r.val,x(v).setInt8(e+0,0,!0);break}case"err":{const l=r.val;x(v).setInt8(e+0,1,!0);var o=l;switch(o.tag){case"last-operation-failed":{const c=o.val;if(x(v).setInt8(e+4,0,!0),!(c instanceof un))throw new Error('Resource error: Not a valid "Error" resource.');var a=dn++;ut.set(a,{rep:c,own:!0}),x(v).setInt32(e+8,a,!0);break}case"closed":{x(v).setInt8(e+4,1,!0);break}default:throw new TypeError(`invalid variant tag value \`${JSON.stringify(o.tag)}\` (received \`${o}\`) specified for \`StreamError\``)}break}default:throw new TypeError("invalid variant specified for result")}}function zu(n,e){var s=fu(BigInt.asUintN(64,n)),i=s.byteLength,r=lt(0,0,1,i*1),o=new Uint8Array(s.buffer||s,s.byteOffset,i*1);new Uint8Array(v.buffer,r,i*1).set(o),x(v).setInt32(e+4,i,!0),x(v).setInt32(e+0,r,!0)}function Vu(n){var t=su(),s=t.length,i=lt(0,0,4,s*16);for(let p=0;p<t.length;p++){const h=t[p],f=i+p*16;var[r,o]=h,a=en(r,lt,v),l=wt;x(v).setInt32(f+4,l,!0),x(v).setInt32(f+0,a,!0);var c=en(o,lt,v),d=wt;x(v).setInt32(f+12,d,!0),x(v).setInt32(f+8,c,!0)}x(v).setInt32(n+4,s,!0),x(v).setInt32(n+0,i,!0)}function Fu(n){var t=uu();if(t==null)x(v).setInt8(n+0,0,!0);else{const i=t;if(x(v).setInt8(n+0,1,!0),!(i instanceof lu))throw new Error('Resource error: Not a valid "TerminalInput" resource.');var s=Qu++;Qi.set(s,{rep:i,own:!0}),x(v).setInt32(n+4,s,!0)}}function ju(n){var t=du();if(t==null)x(v).setInt8(n+0,0,!0);else{const i=t;if(x(v).setInt8(n+0,1,!0),!(i instanceof Ta))throw new Error('Resource error: Not a valid "TerminalOutput" resource.');var s=Fa++;Rs.set(s,{rep:i,own:!0}),x(v).setInt32(n+4,s,!0)}}function Uu(n){var t=cu();if(t==null)x(v).setInt8(n+0,0,!0);else{const i=t;if(x(v).setInt8(n+0,1,!0),!(i instanceof Ta))throw new Error('Resource error: Not a valid "TerminalOutput" resource.');var s=Fa++;Rs.set(s,{rep:i,own:!0}),x(v).setInt32(n+4,s,!0)}}let Ct,za;function Gu(n){const e=lo.get(n);if(!e)throw new Error(`Resource error: Invalid handle ${n}`);lo.delete(n),e.own&&e.rep[Be]&&e.rep[Be]()}function Wu(n){const e=ut.get(n);if(!e)throw new Error(`Resource error: Invalid handle ${n}`);ut.delete(n),e.own&&e.rep[Be]&&e.rep[Be]()}function Hu(n){const e=an.get(n);if(!e)throw new Error(`Resource error: Invalid handle ${n}`);an.delete(n),e.own&&e.rep[Be]&&e.rep[Be]()}function Xu(n){const e=Ke.get(n);if(!e)throw new Error(`Resource error: Invalid handle ${n}`);Ke.delete(n),e.own&&e.rep[Be]&&e.rep[Be]()}function Zu(n){const e=He.get(n);if(!e)throw new Error(`Resource error: Invalid handle ${n}`);He.delete(n),e.own&&e.rep[Be]&&e.rep[Be]()}function qu(n){const e=Qi.get(n);if(!e)throw new Error(`Resource error: Invalid handle ${n}`);Qi.delete(n),e.own&&e.rep[Be]&&e.rep[Be]()}function Yu(n){const e=Rs.get(n);if(!e)throw new Error(`Resource error: Invalid handle ${n}`);Rs.delete(n),e.own&&e.rep[Be]&&e.rep[Be]()}function Ku(n,e){Ua||bu();var t=Ct(0,0,4,52),s=n,i=s.byteLength,r=Ct(0,0,1,i*1),o=new Uint8Array(s.buffer||s,s.byteOffset,i*1);new Uint8Array(v.buffer,r,i*1).set(o),x(v).setInt32(t+4,i,!0),x(v).setInt32(t+0,r,!0);var{name:a,noTypescript:l,instantiation:c,map:d,compat:p,noNodejsCompat:h,base64Cutoff:f,tlaCompat:A,validLiftingOptimization:m,tracing:y,noNamespacedExports:b}=e,k=en(a,Ct,v),g=wt;x(v).setInt32(t+12,g,!0),x(v).setInt32(t+8,k,!0);var E=l;if(E==null)x(v).setInt8(t+16,0,!0);else{const K=E;x(v).setInt8(t+16,1,!0),x(v).setInt8(t+17,K?1:0,!0)}var w=c;if(w==null)x(v).setInt8(t+18,0,!0);else{const K=w;x(v).setInt8(t+18,1,!0);var $=K;switch($.tag){case"async":{x(v).setInt8(t+19,0,!0);break}case"sync":{x(v).setInt8(t+19,1,!0);break}default:throw new TypeError(`invalid variant tag value \`${JSON.stringify($.tag)}\` (received \`${$}\`) specified for \`InstantiationMode\``)}}var P=d;if(P==null)x(v).setInt8(t+20,0,!0);else{const K=P;x(v).setInt8(t+20,1,!0);var S=K,I=S.length,C=Ct(0,0,4,I*16);for(let Ce=0;Ce<S.length;Ce++){const En=S[Ce],rs=C+Ce*16;var[V,M]=En,T=en(V,Ct,v),D=wt;x(v).setInt32(rs+4,D,!0),x(v).setInt32(rs+0,T,!0);var O=en(M,Ct,v),_=wt;x(v).setInt32(rs+12,_,!0),x(v).setInt32(rs+8,O,!0)}x(v).setInt32(t+28,I,!0),x(v).setInt32(t+24,C,!0)}var F=p;if(F==null)x(v).setInt8(t+32,0,!0);else{const K=F;x(v).setInt8(t+32,1,!0),x(v).setInt8(t+33,K?1:0,!0)}var H=h;if(H==null)x(v).setInt8(t+34,0,!0);else{const K=H;x(v).setInt8(t+34,1,!0),x(v).setInt8(t+35,K?1:0,!0)}var oe=f;if(oe==null)x(v).setInt8(t+36,0,!0);else{const K=oe;x(v).setInt8(t+36,1,!0),x(v).setInt32(t+40,vs(K),!0)}var Q=A;if(Q==null)x(v).setInt8(t+44,0,!0);else{const K=Q;x(v).setInt8(t+44,1,!0),x(v).setInt8(t+45,K?1:0,!0)}var G=m;if(G==null)x(v).setInt8(t+46,0,!0);else{const K=G;x(v).setInt8(t+46,1,!0),x(v).setInt8(t+47,K?1:0,!0)}var ae=y;if(ae==null)x(v).setInt8(t+48,0,!0);else{const K=ae;x(v).setInt8(t+48,1,!0),x(v).setInt8(t+49,K?1:0,!0)}var Pe=b;if(Pe==null)x(v).setInt8(t+50,0,!0);else{const K=Pe;x(v).setInt8(t+50,1,!0),x(v).setInt8(t+51,K?1:0,!0)}const ve=mt.generate(t);let he;switch(x(v).getUint8(ve+0,!0)){case 0:{var $e=x(v).getInt32(ve+8,!0),tt=x(v).getInt32(ve+4,!0),ge=[];for(let K=0;K<$e;K++){const Ce=tt+K*16;var ye=x(v).getInt32(Ce+0,!0),pt=x(v).getInt32(Ce+4,!0),gn=xn.decode(new Uint8Array(v.buffer,ye,pt)),ss=x(v).getInt32(Ce+8,!0),hi=x(v).getInt32(Ce+12,!0),pi=new Uint8Array(v.buffer.slice(ss,ss+hi*1));ge.push([gn,pi])}var fi=x(v).getInt32(ve+16,!0),mi=x(v).getInt32(ve+12,!0),is=[];for(let K=0;K<fi;K++){const Ce=mi+K*8;var Gt=x(v).getInt32(Ce+0,!0),Re=x(v).getInt32(Ce+4,!0),yn=xn.decode(new Uint8Array(v.buffer,Gt,Re));is.push(yn)}var gi=x(v).getInt32(ve+24,!0),yi=x(v).getInt32(ve+20,!0),bn=[];for(let K=0;K<gi;K++){const Ce=yi+K*12;var bi=x(v).getInt32(Ce+0,!0),Ei=x(v).getInt32(Ce+4,!0),Ai=xn.decode(new Uint8Array(v.buffer,bi,Ei));let En;switch(x(v).getUint8(Ce+8,!0)){case 0:{En="function";break}case 1:{En="instance";break}default:throw new TypeError("invalid discriminant specified for ExportType")}bn.push([Ai,En])}he={tag:"ok",val:{files:ge,imports:is,exports:bn}};break}case 1:{var Ac=x(v).getInt32(ve+4,!0),wc=x(v).getInt32(ve+8,!0),vc=xn.decode(new Uint8Array(v.buffer,Ac,wc));he={tag:"err",val:vc};break}default:throw new TypeError("invalid variant discriminant for expected")}if(za(ve),he.tag==="err")throw new mu(he.val);return he.val}const ut=new Map;let dn=0;const an=new Map;let Va=0;const Ke=new Map;let Ks=0;const Qi=new Map;let Qu=0;const Rs=new Map;let Fa=0;const He=new Map;let ja=0;const lo=new Map;let Ua=!1;const Ju=(async()=>{const n=ao(new URL(""+new URL("../assets/js-component-bindgen-component.core.dJCIGcvV.wasm",import.meta.url).href,import.meta.url)),e=ao(new URL(""+new URL("../assets/js-component-bindgen-component.core2.vGyQq4l7.wasm",import.meta.url).href,import.meta.url)),t=oo("AGFzbQEAAAABUQxgAX8AYAN/fn8AYAJ/fwBgB39/f39/f38AYAR/f39/AGACfn8AYAl/f39/f35+f38Bf2ACf38Bf2AEf39/fwF/YAF/AX9gA39/fwF/YAF/AAMgHwABAQICAgMCAgEBAgQEAgUAAAAABgcHCAgHBwkHCgsEBQFwAR8fB50BIAEwAAABMQABATIAAgEzAAMBNAAEATUABQE2AAYBNwAHATgACAE5AAkCMTAACgIxMQALAjEyAAwCMTMADQIxNAAOAjE1AA8CMTYAEAIxNwARAjE4ABICMTkAEwIyMAAUAjIxABUCMjIAFgIyMwAXAjI0ABgCMjUAGQIyNgAaAjI3ABsCMjgAHAIyOQAdAjMwAB4IJGltcG9ydHMBAAqZAx8JACAAQQARAAALDQAgACABIAJBAREBAAsNACAAIAEgAkECEQEACwsAIAAgAUEDEQIACwsAIAAgAUEEEQIACwsAIAAgAUEFEQIACxUAIAAgASACIAMgBCAFIAZBBhEDAAsLACAAIAFBBxECAAsLACAAIAFBCBECAAsNACAAIAEgAkEJEQEACw0AIAAgASACQQoRAQALCwAgACABQQsRAgALDwAgACABIAIgA0EMEQQACw8AIAAgASACIANBDREEAAsLACAAIAFBDhECAAsLACAAIAFBDxEFAAsJACAAQRARAAALCQAgAEEREQAACwkAIABBEhEAAAsJACAAQRMRAAALGQAgACABIAIgAyAEIAUgBiAHIAhBFBEGAAsLACAAIAFBFREHAAsLACAAIAFBFhEHAAsPACAAIAEgAiADQRcRCAALDwAgACABIAIgA0EYEQgACwsAIAAgAUEZEQcACwsAIAAgAUEaEQcACwkAIABBGxEJAAsLACAAIAFBHBEHAAsNACAAIAEgAkEdEQoACwkAIABBHhELAAsALglwcm9kdWNlcnMBDHByb2Nlc3NlZC1ieQENd2l0LWNvbXBvbmVudAYwLjIwLjAA+g0EbmFtZQATEndpdC1jb21wb25lbnQ6c2hpbQHdDR8AN2luZGlyZWN0LXdhc2k6ZmlsZXN5c3RlbS9wcmVvcGVuc0AwLjIuMC1nZXQtZGlyZWN0b3JpZXMBR2luZGlyZWN0LXdhc2k6ZmlsZXN5c3RlbS90eXBlc0AwLjIuMC1bbWV0aG9kXWRlc2NyaXB0b3IucmVhZC12aWEtc3RyZWFtAkhpbmRpcmVjdC13YXNpOmZpbGVzeXN0ZW0vdHlwZXNAMC4yLjAtW21ldGhvZF1kZXNjcmlwdG9yLndyaXRlLXZpYS1zdHJlYW0DSWluZGlyZWN0LXdhc2k6ZmlsZXN5c3RlbS90eXBlc0AwLjIuMC1bbWV0aG9kXWRlc2NyaXB0b3IuYXBwZW5kLXZpYS1zdHJlYW0EQGluZGlyZWN0LXdhc2k6ZmlsZXN5c3RlbS90eXBlc0AwLjIuMC1bbWV0aG9kXWRlc2NyaXB0b3IuZ2V0LXR5cGUFPGluZGlyZWN0LXdhc2k6ZmlsZXN5c3RlbS90eXBlc0AwLjIuMC1bbWV0aG9kXWRlc2NyaXB0b3Iuc3RhdAY/aW5kaXJlY3Qtd2FzaTpmaWxlc3lzdGVtL3R5cGVzQDAuMi4wLVttZXRob2RdZGVzY3JpcHRvci5vcGVuLWF0B0VpbmRpcmVjdC13YXNpOmZpbGVzeXN0ZW0vdHlwZXNAMC4yLjAtW21ldGhvZF1kZXNjcmlwdG9yLm1ldGFkYXRhLWhhc2gIOmluZGlyZWN0LXdhc2k6ZmlsZXN5c3RlbS90eXBlc0AwLjIuMC1maWxlc3lzdGVtLWVycm9yLWNvZGUJOGluZGlyZWN0LXdhc2k6aW8vc3RyZWFtc0AwLjIuMC1bbWV0aG9kXWlucHV0LXN0cmVhbS5yZWFkCkFpbmRpcmVjdC13YXNpOmlvL3N0cmVhbXNAMC4yLjAtW21ldGhvZF1pbnB1dC1zdHJlYW0uYmxvY2tpbmctcmVhZAtAaW5kaXJlY3Qtd2FzaTppby9zdHJlYW1zQDAuMi4wLVttZXRob2Rdb3V0cHV0LXN0cmVhbS5jaGVjay13cml0ZQw6aW5kaXJlY3Qtd2FzaTppby9zdHJlYW1zQDAuMi4wLVttZXRob2Rdb3V0cHV0LXN0cmVhbS53cml0ZQ1NaW5kaXJlY3Qtd2FzaTppby9zdHJlYW1zQDAuMi4wLVttZXRob2Rdb3V0cHV0LXN0cmVhbS5ibG9ja2luZy13cml0ZS1hbmQtZmx1c2gOQ2luZGlyZWN0LXdhc2k6aW8vc3RyZWFtc0AwLjIuMC1bbWV0aG9kXW91dHB1dC1zdHJlYW0uYmxvY2tpbmctZmx1c2gPMmluZGlyZWN0LXdhc2k6cmFuZG9tL3JhbmRvbUAwLjIuMC1nZXQtcmFuZG9tLWJ5dGVzEDNpbmRpcmVjdC13YXNpOmNsaS9lbnZpcm9ubWVudEAwLjIuMC1nZXQtZW52aXJvbm1lbnQROWluZGlyZWN0LXdhc2k6Y2xpL3Rlcm1pbmFsLXN0ZGluQDAuMi4wLWdldC10ZXJtaW5hbC1zdGRpbhI7aW5kaXJlY3Qtd2FzaTpjbGkvdGVybWluYWwtc3Rkb3V0QDAuMi4wLWdldC10ZXJtaW5hbC1zdGRvdXQTO2luZGlyZWN0LXdhc2k6Y2xpL3Rlcm1pbmFsLXN0ZGVyckAwLjIuMC1nZXQtdGVybWluYWwtc3RkZXJyFCZhZGFwdC13YXNpX3NuYXBzaG90X3ByZXZpZXcxLXBhdGhfb3BlbhUsYWRhcHQtd2FzaV9zbmFwc2hvdF9wcmV2aWV3MS1mZF9maWxlc3RhdF9nZXQWJ2FkYXB0LXdhc2lfc25hcHNob3RfcHJldmlldzEtcmFuZG9tX2dldBckYWRhcHQtd2FzaV9zbmFwc2hvdF9wcmV2aWV3MS1mZF9yZWFkGCVhZGFwdC13YXNpX3NuYXBzaG90X3ByZXZpZXcxLWZkX3dyaXRlGShhZGFwdC13YXNpX3NuYXBzaG90X3ByZXZpZXcxLWVudmlyb25fZ2V0Gi5hZGFwdC13YXNpX3NuYXBzaG90X3ByZXZpZXcxLWVudmlyb25fc2l6ZXNfZ2V0GyVhZGFwdC13YXNpX3NuYXBzaG90X3ByZXZpZXcxLWZkX2Nsb3NlHCthZGFwdC13YXNpX3NuYXBzaG90X3ByZXZpZXcxLWZkX3ByZXN0YXRfZ2V0HTBhZGFwdC13YXNpX3NuYXBzaG90X3ByZXZpZXcxLWZkX3ByZXN0YXRfZGlyX25hbWUeJmFkYXB0LXdhc2lfc25hcHNob3RfcHJldmlldzEtcHJvY19leGl0"),s=oo("AGFzbQEAAAABUQxgAX8AYAN/fn8AYAJ/fwBgB39/f39/f38AYAR/f39/AGACfn8AYAl/f39/f35+f38Bf2ACf38Bf2AEf39/fwF/YAF/AX9gA39/fwF/YAF/AALAASAAATAAAAABMQABAAEyAAEAATMAAgABNAACAAE1AAIAATYAAwABNwACAAE4AAIAATkAAQACMTAAAQACMTEAAgACMTIABAACMTMABAACMTQAAgACMTUABQACMTYAAAACMTcAAAACMTgAAAACMTkAAAACMjAABgACMjEABwACMjIABwACMjMACAACMjQACAACMjUABwACMjYABwACMjcACQACMjgABwACMjkACgACMzAACwAIJGltcG9ydHMBcAEfHwklAQBBAAsfAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHgAuCXByb2R1Y2VycwEMcHJvY2Vzc2VkLWJ5AQ13aXQtY29tcG9uZW50BjAuMjAuMAAcBG5hbWUAFRR3aXQtY29tcG9uZW50OmZpeHVwcw");({exports:Y}=await cs(await t)),{exports:mt}=await cs(await n,{wasi_snapshot_preview1:{environ_get:Y[25],environ_sizes_get:Y[26],fd_close:Y[27],fd_filestat_get:Y[21],fd_prestat_dir_name:Y[29],fd_prestat_get:Y[28],fd_read:Y[23],fd_write:Y[24],path_open:Y[20],proc_exit:Y[30],random_get:Y[22]}}),{exports:_e}=await cs(await e,{__main_module__:{cabi_realloc:mt.cabi_realloc},env:{memory:mt.memory},"wasi:cli/environment@0.2.0":{"get-environment":Y[16]},"wasi:cli/exit@0.2.0":{exit:wu},"wasi:cli/stderr@0.2.0":{"get-stderr":Au},"wasi:cli/stdin@0.2.0":{"get-stdin":vu},"wasi:cli/stdout@0.2.0":{"get-stdout":ku},"wasi:cli/terminal-input@0.2.0":{"[resource-drop]terminal-input":qu},"wasi:cli/terminal-output@0.2.0":{"[resource-drop]terminal-output":Yu},"wasi:cli/terminal-stderr@0.2.0":{"get-terminal-stderr":Y[19]},"wasi:cli/terminal-stdin@0.2.0":{"get-terminal-stdin":Y[17]},"wasi:cli/terminal-stdout@0.2.0":{"get-terminal-stdout":Y[18]},"wasi:filesystem/preopens@0.2.0":{"get-directories":Y[0]},"wasi:filesystem/types@0.2.0":{"[method]descriptor.append-via-stream":Y[3],"[method]descriptor.get-type":Y[4],"[method]descriptor.metadata-hash":Y[7],"[method]descriptor.open-at":Y[6],"[method]descriptor.read-via-stream":Y[1],"[method]descriptor.stat":Y[5],"[method]descriptor.write-via-stream":Y[2],"[resource-drop]descriptor":Zu,"[resource-drop]directory-entry-stream":Gu,"filesystem-error-code":Y[8]},"wasi:io/error@0.2.0":{"[resource-drop]error":Wu},"wasi:io/streams@0.2.0":{"[method]input-stream.blocking-read":Y[10],"[method]input-stream.read":Y[9],"[method]output-stream.blocking-flush":Y[14],"[method]output-stream.blocking-write-and-flush":Y[13],"[method]output-stream.check-write":Y[11],"[method]output-stream.write":Y[12],"[resource-drop]input-stream":Hu,"[resource-drop]output-stream":Xu},"wasi:random/random@0.2.0":{"get-random-bytes":Y[15]}}),v=mt.memory,lt=_e.cabi_import_realloc,await cs(await s,{"":{$imports:Y.$imports,0:xu,1:Iu,10:Lu,11:Du,12:Bu,13:_u,14:Tu,15:zu,16:Vu,17:Fu,18:ju,19:Uu,2:$u,20:_e.path_open,21:_e.fd_filestat_get,22:_e.random_get,23:_e.fd_read,24:_e.fd_write,25:_e.environ_get,26:_e.environ_sizes_get,27:_e.fd_close,28:_e.fd_prestat_get,29:_e.fd_prestat_dir_name,3:Su,30:_e.proc_exit,4:Nu,5:Pu,6:Cu,7:Ru,8:Mu,9:Ou}}),Ct=mt.cabi_realloc,za=mt.cabi_post_generate,mt["cabi_post_generate-types"],Ua=!0})();async function ed(){return await Ju,Ku.apply(this,arguments)}/*
  @license
	Rollup.js v4.9.6
	Sun, 21 Jan 2024 05:51:51 GMT - commit ecb6b0a430098052781aa6ee04ec92ee70960321

	https://github.com/rollup/rollup

	Released under the MIT License.
*/var Sr="4.9.6";function td(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ga={exports:{}};(function(n){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(64),r=new Uint8Array(128);for(let m=0;m<s.length;m++){const y=s.charCodeAt(m);i[m]=y,r[y]=m}const o=typeof TextDecoder<"u"?new TextDecoder:typeof Buffer<"u"?{decode:m=>Buffer.from(m.buffer,m.byteOffset,m.byteLength).toString()}:{decode(m){let y="";for(let b=0;b<m.length;b++)y+=String.fromCharCode(m[b]);return y}};function a(m){const y=new Int32Array(5),b=[];let k=0;do{const g=l(m,k),E=[];let w=!0,$=0;y[0]=0;for(let P=k;P<g;P++){let S;P=c(m,P,y,0);const I=y[0];I<$&&(w=!1),$=I,d(m,P,g)?(P=c(m,P,y,1),P=c(m,P,y,2),P=c(m,P,y,3),d(m,P,g)?(P=c(m,P,y,4),S=[I,y[1],y[2],y[3],y[4]]):S=[I,y[1],y[2],y[3]]):S=[I],E.push(S)}w||p(E),b.push(E),k=g+1}while(k<=m.length);return b}function l(m,y){const b=m.indexOf(";",y);return b===-1?m.length:b}function c(m,y,b,k){let g=0,E=0,w=0;do{const P=m.charCodeAt(y++);w=r[P],g|=(31&w)<<E,E+=5}while(32&w);const $=1&g;return g>>>=1,$&&(g=-2147483648|-g),b[k]+=g,y}function d(m,y,b){return!(y>=b)&&m.charCodeAt(y)!==44}function p(m){m.sort(h)}function h(m,y){return m[0]-y[0]}function f(m){const y=new Int32Array(5),b=16384,k=b-36,g=new Uint8Array(b),E=g.subarray(0,k);let w=0,$="";for(let P=0;P<m.length;P++){const S=m[P];if(P>0&&(w===b&&($+=o.decode(g),w=0),g[w++]=59),S.length!==0){y[0]=0;for(let I=0;I<S.length;I++){const C=S[I];w>k&&($+=o.decode(E),g.copyWithin(0,k,w),w-=k),I>0&&(g[w++]=44),w=A(g,w,y,C,0),C.length!==1&&(w=A(g,w,y,C,1),w=A(g,w,y,C,2),w=A(g,w,y,C,3),C.length!==4&&(w=A(g,w,y,C,4)))}}}return $+o.decode(g.subarray(0,w))}function A(m,y,b,k,g){const E=k[g];let w=E-b[g];b[g]=E,w=w<0?-w<<1|1:w<<1;do{let $=31&w;w>>>=5,w>0&&($|=32),m[y++]=i[$]}while(w>0);return y}n.decode=a,n.encode=f,Object.defineProperty(n,"__esModule",{value:!0})})(Ga.exports);var Nr=Ga.exports;class Ms{constructor(e){this.bits=e instanceof Ms?e.bits.slice():[]}add(e){this.bits[e>>5]|=1<<(31&e)}has(e){return!!(this.bits[e>>5]&1<<(31&e))}}let co=class Ji{constructor(e,t,s){this.start=e,this.end=t,this.original=s,this.intro="",this.outro="",this.content=s,this.storeName=!1,this.edited=!1,this.previous=null,this.next=null}appendLeft(e){this.outro+=e}appendRight(e){this.intro=this.intro+e}clone(){const e=new Ji(this.start,this.end,this.original);return e.intro=this.intro,e.outro=this.outro,e.content=this.content,e.storeName=this.storeName,e.edited=this.edited,e}contains(e){return this.start<e&&e<this.end}eachNext(e){let t=this;for(;t;)e(t),t=t.next}eachPrevious(e){let t=this;for(;t;)e(t),t=t.previous}edit(e,t,s){return this.content=e,s||(this.intro="",this.outro=""),this.storeName=t,this.edited=!0,this}prependLeft(e){this.outro=e+this.outro}prependRight(e){this.intro=e+this.intro}split(e){const t=e-this.start,s=this.original.slice(0,t),i=this.original.slice(t);this.original=s;const r=new Ji(e,this.end,i);return r.outro=this.outro,this.outro="",this.end=e,this.edited?(r.edit("",!1),this.content=""):this.content=s,r.next=this.next,r.next&&(r.next.previous=r),r.previous=this,this.next=r,r}toString(){return this.intro+this.content+this.outro}trimEnd(e){if(this.outro=this.outro.replace(e,""),this.outro.length)return!0;const t=this.content.replace(e,"");return t.length?(t!==this.content&&(this.split(this.start+t.length).edit("",void 0,!0),this.edited&&this.edit(t,this.storeName,!0)),!0):(this.edit("",void 0,!0),this.intro=this.intro.replace(e,""),!!this.intro.length||void 0)}trimStart(e){if(this.intro=this.intro.replace(e,""),this.intro.length)return!0;const t=this.content.replace(e,"");if(t.length){if(t!==this.content){const s=this.split(this.end-t.length);this.edited&&s.edit(t,this.storeName,!0),this.edit("",void 0,!0)}return!0}return this.edit("",void 0,!0),this.outro=this.outro.replace(e,""),!!this.outro.length||void 0}};function nd(){return typeof window<"u"&&typeof window.btoa=="function"?n=>window.btoa(unescape(encodeURIComponent(n))):typeof Buffer=="function"?n=>Buffer.from(n,"utf-8").toString("base64"):()=>{throw new Error("Unsupported environment: `window.btoa` or `Buffer` should be supported.")}}const sd=nd();class Qs{constructor(e){this.version=3,this.file=e.file,this.sources=e.sources,this.sourcesContent=e.sourcesContent,this.names=e.names,this.mappings=Nr.encode(e.mappings),e.x_google_ignoreList!==void 0&&(this.x_google_ignoreList=e.x_google_ignoreList)}toString(){return JSON.stringify(this)}toUrl(){return"data:application/json;charset=utf-8;base64,"+sd(this.toString())}}function Wa(n,e){const t=n.split(/[/\\]/),s=e.split(/[/\\]/);for(t.pop();t[0]===s[0];)t.shift(),s.shift();if(t.length){let i=t.length;for(;i--;)t[i]=".."}return t.concat(s).join("/")}const id=Object.prototype.toString;function Ha(n){return id.call(n)==="[object Object]"}function er(n){const e=n.split(`
`),t=[];for(let s=0,i=0;s<e.length;s++)t.push(i),i+=e[s].length+1;return function(s){let i=0,r=t.length;for(;i<r;){const a=i+r>>1;s<t[a]?r=a:i=a+1}const o=i-1;return{line:o,column:s-t[o]}}}const rd=/\w/;class Xa{constructor(e){this.hires=e,this.generatedCodeLine=0,this.generatedCodeColumn=0,this.raw=[],this.rawSegments=this.raw[this.generatedCodeLine]=[],this.pending=null}addEdit(e,t,s,i){if(t.length){let r=t.indexOf(`
`,0),o=-1;for(;r>=0;){const l=[this.generatedCodeColumn,e,s.line,s.column];i>=0&&l.push(i),this.rawSegments.push(l),this.generatedCodeLine+=1,this.raw[this.generatedCodeLine]=this.rawSegments=[],this.generatedCodeColumn=0,o=r,r=t.indexOf(`
`,r+1)}const a=[this.generatedCodeColumn,e,s.line,s.column];i>=0&&a.push(i),this.rawSegments.push(a),this.advance(t.slice(o+1))}else this.pending&&(this.rawSegments.push(this.pending),this.advance(t));this.pending=null}addUneditedChunk(e,t,s,i,r){let o=t.start,a=!0,l=!1;for(;o<t.end;){if(this.hires||a||r.has(o)){const c=[this.generatedCodeColumn,e,i.line,i.column];this.hires==="boundary"?rd.test(s[o])?l||(this.rawSegments.push(c),l=!0):(this.rawSegments.push(c),l=!1):this.rawSegments.push(c)}s[o]===`
`?(i.line+=1,i.column=0,this.generatedCodeLine+=1,this.raw[this.generatedCodeLine]=this.rawSegments=[],this.generatedCodeColumn=0,a=!0):(i.column+=1,this.generatedCodeColumn+=1,a=!1),o+=1}this.pending=null}advance(e){if(!e)return;const t=e.split(`
`);if(t.length>1){for(let s=0;s<t.length-1;s++)this.generatedCodeLine++,this.raw[this.generatedCodeLine]=this.rawSegments=[];this.generatedCodeColumn=0}this.generatedCodeColumn+=t[t.length-1].length}}const An=`
`,Ht={insertLeft:!1,insertRight:!1,storeName:!1};class zt{constructor(e,t={}){const s=new co(0,e.length,e);Object.defineProperties(this,{original:{writable:!0,value:e},outro:{writable:!0,value:""},intro:{writable:!0,value:""},firstChunk:{writable:!0,value:s},lastChunk:{writable:!0,value:s},lastSearchedChunk:{writable:!0,value:s},byStart:{writable:!0,value:{}},byEnd:{writable:!0,value:{}},filename:{writable:!0,value:t.filename},indentExclusionRanges:{writable:!0,value:t.indentExclusionRanges},sourcemapLocations:{writable:!0,value:new Ms},storedNames:{writable:!0,value:{}},indentStr:{writable:!0,value:void 0},ignoreList:{writable:!0,value:t.ignoreList}}),this.byStart[0]=s,this.byEnd[e.length]=s}addSourcemapLocation(e){this.sourcemapLocations.add(e)}append(e){if(typeof e!="string")throw new TypeError("outro content must be a string");return this.outro+=e,this}appendLeft(e,t){if(typeof t!="string")throw new TypeError("inserted content must be a string");this._split(e);const s=this.byEnd[e];return s?s.appendLeft(t):this.intro+=t,this}appendRight(e,t){if(typeof t!="string")throw new TypeError("inserted content must be a string");this._split(e);const s=this.byStart[e];return s?s.appendRight(t):this.outro+=t,this}clone(){const e=new zt(this.original,{filename:this.filename});let t=this.firstChunk,s=e.firstChunk=e.lastSearchedChunk=t.clone();for(;t;){e.byStart[s.start]=s,e.byEnd[s.end]=s;const i=t.next,r=i&&i.clone();r&&(s.next=r,r.previous=s,s=r),t=i}return e.lastChunk=s,this.indentExclusionRanges&&(e.indentExclusionRanges=this.indentExclusionRanges.slice()),e.sourcemapLocations=new Ms(this.sourcemapLocations),e.intro=this.intro,e.outro=this.outro,e}generateDecodedMap(e){e=e||{};const t=Object.keys(this.storedNames),s=new Xa(e.hires),i=er(this.original);return this.intro&&s.advance(this.intro),this.firstChunk.eachNext(r=>{const o=i(r.start);r.intro.length&&s.advance(r.intro),r.edited?s.addEdit(0,r.content,o,r.storeName?t.indexOf(r.original):-1):s.addUneditedChunk(0,r,this.original,o,this.sourcemapLocations),r.outro.length&&s.advance(r.outro)}),{file:e.file?e.file.split(/[/\\]/).pop():void 0,sources:[e.source?Wa(e.file||"",e.source):e.file||""],sourcesContent:e.includeContent?[this.original]:void 0,names:t,mappings:s.raw,x_google_ignoreList:this.ignoreList?[0]:void 0}}generateMap(e){return new Qs(this.generateDecodedMap(e))}_ensureindentStr(){this.indentStr===void 0&&(this.indentStr=function(e){const t=e.split(`
`),s=t.filter(o=>/^\t+/.test(o)),i=t.filter(o=>/^ {2,}/.test(o));if(s.length===0&&i.length===0)return null;if(s.length>=i.length)return"	";const r=i.reduce((o,a)=>{const l=/^ +/.exec(a)[0].length;return Math.min(l,o)},1/0);return new Array(r+1).join(" ")}(this.original))}_getRawIndentString(){return this._ensureindentStr(),this.indentStr}getIndentString(){return this._ensureindentStr(),this.indentStr===null?"	":this.indentStr}indent(e,t){const s=/^[^\r\n]/gm;if(Ha(e)&&(t=e,e=void 0),e===void 0&&(this._ensureindentStr(),e=this.indentStr||"	"),e==="")return this;const i={};(t=t||{}).exclude&&(typeof t.exclude[0]=="number"?[t.exclude]:t.exclude).forEach(c=>{for(let d=c[0];d<c[1];d+=1)i[d]=!0});let r=t.indentStart!==!1;const o=c=>r?`${e}${c}`:(r=!0,c);this.intro=this.intro.replace(s,o);let a=0,l=this.firstChunk;for(;l;){const c=l.end;if(l.edited)i[a]||(l.content=l.content.replace(s,o),l.content.length&&(r=l.content[l.content.length-1]===`
`));else for(a=l.start;a<c;){if(!i[a]){const d=this.original[a];d===`
`?r=!0:d!=="\r"&&r&&(r=!1,a===l.start||(this._splitChunk(l,a),l=l.next),l.prependRight(e))}a+=1}a=l.end,l=l.next}return this.outro=this.outro.replace(s,o),this}insert(){throw new Error("magicString.insert(...) is deprecated. Use prependRight(...) or appendLeft(...)")}insertLeft(e,t){return Ht.insertLeft||(console.warn("magicString.insertLeft(...) is deprecated. Use magicString.appendLeft(...) instead"),Ht.insertLeft=!0),this.appendLeft(e,t)}insertRight(e,t){return Ht.insertRight||(console.warn("magicString.insertRight(...) is deprecated. Use magicString.prependRight(...) instead"),Ht.insertRight=!0),this.prependRight(e,t)}move(e,t,s){if(s>=e&&s<=t)throw new Error("Cannot move a selection inside itself");this._split(e),this._split(t),this._split(s);const i=this.byStart[e],r=this.byEnd[t],o=i.previous,a=r.next,l=this.byStart[s];if(!l&&r===this.lastChunk)return this;const c=l?l.previous:this.lastChunk;return o&&(o.next=a),a&&(a.previous=o),c&&(c.next=i),l&&(l.previous=r),i.previous||(this.firstChunk=r.next),r.next||(this.lastChunk=i.previous,this.lastChunk.next=null),i.previous=c,r.next=l||null,c||(this.firstChunk=i),l||(this.lastChunk=r),this}overwrite(e,t,s,i){return i=i||{},this.update(e,t,s,{...i,overwrite:!i.contentOnly})}update(e,t,s,i){if(typeof s!="string")throw new TypeError("replacement content must be a string");for(;e<0;)e+=this.original.length;for(;t<0;)t+=this.original.length;if(t>this.original.length)throw new Error("end is out of bounds");if(e===t)throw new Error("Cannot overwrite a zero-length range – use appendLeft or prependRight instead");this._split(e),this._split(t),i===!0&&(Ht.storeName||(console.warn("The final argument to magicString.overwrite(...) should be an options object. See https://github.com/rich-harris/magic-string"),Ht.storeName=!0),i={storeName:!0});const r=i!==void 0&&i.storeName,o=i!==void 0&&i.overwrite;if(r){const c=this.original.slice(e,t);Object.defineProperty(this.storedNames,c,{writable:!0,value:!0,enumerable:!0})}const a=this.byStart[e],l=this.byEnd[t];if(a){let c=a;for(;c!==l;){if(c.next!==this.byStart[c.end])throw new Error("Cannot overwrite across a split point");c=c.next,c.edit("",!1)}a.edit(s,r,!o)}else{const c=new co(e,t,"").edit(s,r);l.next=c,c.previous=l}return this}prepend(e){if(typeof e!="string")throw new TypeError("outro content must be a string");return this.intro=e+this.intro,this}prependLeft(e,t){if(typeof t!="string")throw new TypeError("inserted content must be a string");this._split(e);const s=this.byEnd[e];return s?s.prependLeft(t):this.intro=t+this.intro,this}prependRight(e,t){if(typeof t!="string")throw new TypeError("inserted content must be a string");this._split(e);const s=this.byStart[e];return s?s.prependRight(t):this.outro=t+this.outro,this}remove(e,t){for(;e<0;)e+=this.original.length;for(;t<0;)t+=this.original.length;if(e===t)return this;if(e<0||t>this.original.length)throw new Error("Character is out of bounds");if(e>t)throw new Error("end must be greater than start");this._split(e),this._split(t);let s=this.byStart[e];for(;s;)s.intro="",s.outro="",s.edit(""),s=t>s.end?this.byStart[s.end]:null;return this}lastChar(){if(this.outro.length)return this.outro[this.outro.length-1];let e=this.lastChunk;do{if(e.outro.length)return e.outro[e.outro.length-1];if(e.content.length)return e.content[e.content.length-1];if(e.intro.length)return e.intro[e.intro.length-1]}while(e=e.previous);return this.intro.length?this.intro[this.intro.length-1]:""}lastLine(){let e=this.outro.lastIndexOf(An);if(e!==-1)return this.outro.substr(e+1);let t=this.outro,s=this.lastChunk;do{if(s.outro.length>0){if(e=s.outro.lastIndexOf(An),e!==-1)return s.outro.substr(e+1)+t;t=s.outro+t}if(s.content.length>0){if(e=s.content.lastIndexOf(An),e!==-1)return s.content.substr(e+1)+t;t=s.content+t}if(s.intro.length>0){if(e=s.intro.lastIndexOf(An),e!==-1)return s.intro.substr(e+1)+t;t=s.intro+t}}while(s=s.previous);return e=this.intro.lastIndexOf(An),e!==-1?this.intro.substr(e+1)+t:this.intro+t}slice(e=0,t=this.original.length){for(;e<0;)e+=this.original.length;for(;t<0;)t+=this.original.length;let s="",i=this.firstChunk;for(;i&&(i.start>e||i.end<=e);){if(i.start<t&&i.end>=t)return s;i=i.next}if(i&&i.edited&&i.start!==e)throw new Error(`Cannot use replaced character ${e} as slice start anchor.`);const r=i;for(;i;){!i.intro||r===i&&i.start!==e||(s+=i.intro);const o=i.start<t&&i.end>=t;if(o&&i.edited&&i.end!==t)throw new Error(`Cannot use replaced character ${t} as slice end anchor.`);const a=r===i?e-i.start:0,l=o?i.content.length+t-i.end:i.content.length;if(s+=i.content.slice(a,l),!i.outro||o&&i.end!==t||(s+=i.outro),o)break;i=i.next}return s}snip(e,t){const s=this.clone();return s.remove(0,e),s.remove(t,s.original.length),s}_split(e){if(this.byStart[e]||this.byEnd[e])return;let t=this.lastSearchedChunk;const s=e>t.end;for(;t;){if(t.contains(e))return this._splitChunk(t,e);t=s?this.byStart[t.end]:this.byEnd[t.start]}}_splitChunk(e,t){if(e.edited&&e.content.length){const i=er(this.original)(t);throw new Error(`Cannot split a chunk that has already been edited (${i.line}:${i.column} – "${e.original}")`)}const s=e.split(t);return this.byEnd[t]=e,this.byStart[t]=s,this.byEnd[s.end]=s,e===this.lastChunk&&(this.lastChunk=s),this.lastSearchedChunk=e,!0}toString(){let e=this.intro,t=this.firstChunk;for(;t;)e+=t.toString(),t=t.next;return e+this.outro}isEmpty(){let e=this.firstChunk;do if(e.intro.length&&e.intro.trim()||e.content.length&&e.content.trim()||e.outro.length&&e.outro.trim())return!1;while(e=e.next);return!0}length(){let e=this.firstChunk,t=0;do t+=e.intro.length+e.content.length+e.outro.length;while(e=e.next);return t}trimLines(){return this.trim("[\\r\\n]")}trim(e){return this.trimStart(e).trimEnd(e)}trimEndAborted(e){const t=new RegExp((e||"\\s")+"+$");if(this.outro=this.outro.replace(t,""),this.outro.length)return!0;let s=this.lastChunk;do{const i=s.end,r=s.trimEnd(t);if(s.end!==i&&(this.lastChunk===s&&(this.lastChunk=s.next),this.byEnd[s.end]=s,this.byStart[s.next.start]=s.next,this.byEnd[s.next.end]=s.next),r)return!0;s=s.previous}while(s);return!1}trimEnd(e){return this.trimEndAborted(e),this}trimStartAborted(e){const t=new RegExp("^"+(e||"\\s")+"+");if(this.intro=this.intro.replace(t,""),this.intro.length)return!0;let s=this.firstChunk;do{const i=s.end,r=s.trimStart(t);if(s.end!==i&&(s===this.lastChunk&&(this.lastChunk=s.next),this.byEnd[s.end]=s,this.byStart[s.next.start]=s.next,this.byEnd[s.next.end]=s.next),r)return!0;s=s.next}while(s);return!1}trimStart(e){return this.trimStartAborted(e),this}hasChanged(){return this.original!==this.toString()}_replaceRegexp(e,t){function s(i,r){return typeof t=="string"?t.replace(/\$(\$|&|\d+)/g,(o,a)=>a==="$"?"$":a==="&"?i[0]:+a<i.length?i[+a]:`$${a}`):t(...i,i.index,r,i.groups)}if(e.global)(function(i,r){let o;const a=[];for(;o=i.exec(r);)a.push(o);return a})(e,this.original).forEach(i=>{i.index!=null&&this.overwrite(i.index,i.index+i[0].length,s(i,this.original))});else{const i=this.original.match(e);i&&i.index!=null&&this.overwrite(i.index,i.index+i[0].length,s(i,this.original))}return this}_replaceString(e,t){const{original:s}=this,i=s.indexOf(e);return i!==-1&&this.overwrite(i,i+e.length,t),this}replace(e,t){return typeof e=="string"?this._replaceString(e,t):this._replaceRegexp(e,t)}_replaceAllString(e,t){const{original:s}=this,i=e.length;for(let r=s.indexOf(e);r!==-1;r=s.indexOf(e,r+i))this.overwrite(r,r+i,t);return this}replaceAll(e,t){if(typeof e=="string")return this._replaceAllString(e,t);if(!e.global)throw new TypeError("MagicString.prototype.replaceAll called with a non-global RegExp argument");return this._replaceRegexp(e,t)}}const uo=Object.prototype.hasOwnProperty;let od=class Za{constructor(e={}){this.intro=e.intro||"",this.separator=e.separator!==void 0?e.separator:`
`,this.sources=[],this.uniqueSources=[],this.uniqueSourceIndexByFilename={}}addSource(e){if(e instanceof zt)return this.addSource({content:e,filename:e.filename,separator:this.separator});if(!Ha(e)||!e.content)throw new Error("bundle.addSource() takes an object with a `content` property, which should be an instance of MagicString, and an optional `filename`");if(["filename","ignoreList","indentExclusionRanges","separator"].forEach(t=>{uo.call(e,t)||(e[t]=e.content[t])}),e.separator===void 0&&(e.separator=this.separator),e.filename)if(uo.call(this.uniqueSourceIndexByFilename,e.filename)){const t=this.uniqueSources[this.uniqueSourceIndexByFilename[e.filename]];if(e.content.original!==t.content)throw new Error(`Illegal source: same filename (${e.filename}), different contents`)}else this.uniqueSourceIndexByFilename[e.filename]=this.uniqueSources.length,this.uniqueSources.push({filename:e.filename,content:e.content.original});return this.sources.push(e),this}append(e,t){return this.addSource({content:new zt(e),separator:t&&t.separator||""}),this}clone(){const e=new Za({intro:this.intro,separator:this.separator});return this.sources.forEach(t=>{e.addSource({filename:t.filename,content:t.content.clone(),separator:t.separator})}),e}generateDecodedMap(e={}){const t=[];let s;this.sources.forEach(r=>{Object.keys(r.content.storedNames).forEach(o=>{~t.indexOf(o)||t.push(o)})});const i=new Xa(e.hires);return this.intro&&i.advance(this.intro),this.sources.forEach((r,o)=>{o>0&&i.advance(this.separator);const a=r.filename?this.uniqueSourceIndexByFilename[r.filename]:-1,l=r.content,c=er(l.original);l.intro&&i.advance(l.intro),l.firstChunk.eachNext(d=>{const p=c(d.start);d.intro.length&&i.advance(d.intro),r.filename?d.edited?i.addEdit(a,d.content,p,d.storeName?t.indexOf(d.original):-1):i.addUneditedChunk(a,d,l.original,p,l.sourcemapLocations):i.advance(d.content),d.outro.length&&i.advance(d.outro)}),l.outro&&i.advance(l.outro),r.ignoreList&&a!==-1&&(s===void 0&&(s=[]),s.push(a))}),{file:e.file?e.file.split(/[/\\]/).pop():void 0,sources:this.uniqueSources.map(r=>e.file?Wa(e.file,r.filename):r.filename),sourcesContent:this.uniqueSources.map(r=>e.includeContent?r.content:null),names:t,mappings:i.raw,x_google_ignoreList:s}}generateMap(e){return new Qs(this.generateDecodedMap(e))}getIndentString(){const e={};return this.sources.forEach(t=>{const s=t.content._getRawIndentString();s!==null&&(e[s]||(e[s]=0),e[s]+=1)}),Object.keys(e).sort((t,s)=>e[t]-e[s])[0]||"	"}indent(e){if(arguments.length||(e=this.getIndentString()),e==="")return this;let t=!this.intro||this.intro.slice(-1)===`
`;return this.sources.forEach((s,i)=>{const r=s.separator!==void 0?s.separator:this.separator,o=t||i>0&&/\r?\n$/.test(r);s.content.indent(e,{exclude:s.indentExclusionRanges,indentStart:o}),t=s.content.lastChar()===`
`}),this.intro&&(this.intro=e+this.intro.replace(/^[^\n]/gm,(s,i)=>i>0?e+s:s)),this}prepend(e){return this.intro=e+this.intro,this}toString(){const e=this.sources.map((t,s)=>{const i=t.separator!==void 0?t.separator:this.separator;return(s>0?i:"")+t.content.toString()}).join("");return this.intro+e}isEmpty(){return(!this.intro.length||!this.intro.trim())&&!this.sources.some(e=>!e.content.isEmpty())}length(){return this.sources.reduce((e,t)=>e+t.content.length(),this.intro.length)}trimLines(){return this.trim("[\\r\\n]")}trim(e){return this.trimStart(e).trimEnd(e)}trimStart(e){const t=new RegExp("^"+(e||"\\s")+"+");if(this.intro=this.intro.replace(t,""),!this.intro){let s,i=0;do if(s=this.sources[i++],!s)break;while(!s.content.trimStartAborted(e))}return this}trimEnd(e){const t=new RegExp((e||"\\s")+"+$");let s,i=this.sources.length-1;do if(s=this.sources[i--],!s){this.intro=this.intro.replace(t,"");break}while(!s.content.trimEndAborted(e));return this}};const ad=/^(?:\/|(?:[A-Za-z]:)?[/\\|])/,ld=/^\.?\.\//,cd=/\\/g,tn=/[/\\]/,ud=/\.[^.]+$/;function $t(n){return ad.test(n)}function Pr(n){return ld.test(n)}function Yn(n){return n.replace(cd,"/")}function dt(n){return n.split(tn).pop()||""}function Vt(n){const e=/[/\\][^/\\]*$/.exec(n);return e?n.slice(0,-e[0].length)||"/":"."}function vt(n){const e=ud.exec(dt(n));return e?e[0]:""}function hn(n,e){const t=n.split(tn).filter(Boolean),s=e.split(tn).filter(Boolean);for(t[0]==="."&&t.shift(),s[0]==="."&&s.shift();t[0]&&s[0]&&t[0]===s[0];)t.shift(),s.shift();for(;s[0]===".."&&t.length>0;)s.shift(),t.pop();for(;t.pop();)s.unshift("..");return s.join("/")}function We(...n){const e=n.shift();if(!e)return"/";let t=e.split(tn);for(const s of n)if($t(s))t=s.split(tn);else{const i=s.split(tn);for(;i[0]==="."||i[0]==="..";)i.shift()===".."&&t.pop();t.push(...i)}return t.join("/")}const dd=/[\n\r'\\\u2028\u2029]/,hd=/([\n\r'\u2028\u2029])/g,pd=/\\/g;function Js(n){return dd.test(n)?n.replace(pd,"\\\\").replace(hd,"\\$1"):n}function tr(n){const e=dt(n);return e.slice(0,Math.max(0,e.length-vt(n).length))}function U(n){return $t(n)?hn(We(),n):n}function Os(n){return n[0]==="/"||n[0]==="."&&(n[1]==="/"||n[1]===".")||$t(n)}const fd=/^(\.\.\/)*\.\.$/;function qa(n,e,t,s){for(;e.startsWith("../");)e=e.slice(3),n="_/"+n;let i=Yn(hn(Vt(n),e));if(t&&i.endsWith(".js")&&(i=i.slice(0,-3)),s){if(i==="")return"../"+dt(e);if(fd.test(i))return[...i.split("/"),"..",dt(e)].join("/")}return i?i.startsWith("..")?i:"./"+i:"."}class Jt{constructor(e,t,s){this.options=t,this.inputBase=s,this.defaultVariableName="",this.namespaceVariableName="",this.variableName="",this.fileName=null,this.importAttributes=null,this.id=e.id,this.moduleInfo=e.info,this.renormalizeRenderPath=e.renormalizeRenderPath,this.suggestedVariableName=e.suggestedVariableName}getFileName(){if(this.fileName)return this.fileName;const{paths:e}=this.options;return this.fileName=(typeof e=="function"?e(this.id):e[this.id])||(this.renormalizeRenderPath?Yn(hn(this.inputBase,this.id)):this.id)}getImportAttributes(e){return this.importAttributes||(this.importAttributes=function(t,{getObject:s}){if(!t)return null;const i=Object.entries(t).map(([r,o])=>[r,`'${o}'`]);return i.length>0?s(i,{lineBreakIndent:null}):null}(this.options.format==="es"&&this.options.externalImportAttributes&&this.moduleInfo.attributes,e))}getImportPath(e){return Js(this.renormalizeRenderPath?qa(e,this.getFileName(),this.options.format==="amd",!1):this.getFileName())}}function ze(n,e,t){const s=n.get(e);if(s!==void 0)return s;const i=t();return n.set(e,i),i}function Ft(){return new Set}function ho(){return[]}const ne=Symbol("Unknown Key"),Ls=Symbol("Unknown Non-Accessor Key"),Dn=Symbol("Unknown Integer"),Cr=Symbol("Symbol.toStringTag"),W=[],q=[ne],md=[Ls],nr=[Dn],nn=Symbol("Entities");class ln{constructor(){this.entityPaths=Object.create(null,{[nn]:{value:new Set}})}trackEntityAtPathAndGetIfTracked(e,t){const s=this.getEntities(e);return!!s.has(t)||(s.add(t),!1)}withTrackedEntityAtPath(e,t,s,i){const r=this.getEntities(e);if(r.has(t))return i;r.add(t);const o=s();return r.delete(t),o}getEntities(e){let t=this.entityPaths;for(const s of e)t=t[s]=t[s]||Object.create(null,{[nn]:{value:new Set}});return t[nn]}}const be=new ln;class po{constructor(){this.entityPaths=Object.create(null,{[nn]:{value:new Map}})}trackEntityAtPathAndGetIfTracked(e,t,s){let i=this.entityPaths;for(const o of e)i=i[o]=i[o]||Object.create(null,{[nn]:{value:new Map}});const r=ze(i[nn],t,Ft);return!!r.has(s)||(r.add(s),!1)}}function ee(n,e){return(n&e)!=0}function te(n,e,t){return n&~e|-t&e}const ue=Symbol("Unknown Value"),Ya=Symbol("Unknown Truthy Value");class Ue{constructor(){this.flags=0}get included(){return ee(this.flags,1)}set included(e){this.flags=te(this.flags,1,e)}deoptimizeArgumentsOnInteractionAtPath(e,t,s){St(e)}deoptimizePath(e){}getLiteralValueAtPath(e,t,s){return ue}getReturnExpressionWhenCalledAtPath(e,t,s,i){return me}hasEffectsOnInteractionAtPath(e,t,s){return!0}include(e,t,s){this.included=!0}includeCallArguments(e,t){for(const s of t)s.include(e,!1)}shouldBeIncluded(e){return!0}}const X=new class extends Ue{},me=[X,!1],St=n=>{for(const e of n.args)e==null||e.deoptimizePath(q)},ei={args:[null],type:0},Rr={args:[null,X],type:1},ti={args:[null],type:2,withNew:!1};class Ut extends Ue{constructor(e){super(),this.name=e,this.alwaysRendered=!1,this.forbiddenNames=null,this.initReached=!1,this.isId=!1,this.isReassigned=!1,this.kind=null,this.renderBaseName=null,this.renderName=null}addReference(e){}forbidName(e){(this.forbiddenNames||(this.forbiddenNames=new Set)).add(e)}getBaseVariableName(){var e;return((e=this.renderedLikeHoisted)==null?void 0:e.getBaseVariableName())||this.renderBaseName||this.renderName||this.name}getName(e,t){if(t!=null&&t(this))return this.name;if(this.renderedLikeHoisted)return this.renderedLikeHoisted.getName(e,t);const s=this.renderName||this.name;return this.renderBaseName?`${this.renderBaseName}${e(s)}`:s}hasEffectsOnInteractionAtPath(e,{type:t},s){return t!==0||e.length>0}include(){var e;this.included=!0,(e=this.renderedLikeHoisted)==null||e.include()}renderLikeHoisted(e){this.renderedLikeHoisted=e}markCalledFromTryStatement(){}setRenderNames(e,t){this.renderBaseName=e,this.renderName=t}}class Ds extends Ut{constructor(e,t){super(t),this.referenced=!1,this.module=e,this.isNamespace=t==="*"}addReference(e){this.referenced=!0,this.name!=="default"&&this.name!=="*"||this.module.suggestName(e.name)}hasEffectsOnInteractionAtPath(e,{type:t}){return t!==0||e.length>(this.isNamespace?1:0)}include(){super.include(),this.module.used=!0}}const Ne=Object.freeze(Object.create(null)),Me=Object.freeze({}),pe=Object.freeze([]),Ka=Object.freeze(new class extends Set{add(){throw new Error("Cannot add to empty set")}}),ni=new Set(["await","break","case","catch","class","const","continue","debugger","default","delete","do","else","enum","eval","export","extends","false","finally","for","function","if","implements","import","in","instanceof","interface","let","NaN","new","null","package","private","protected","public","return","static","super","switch","this","throw","true","try","typeof","undefined","var","void","while","with","yield"]),Qa=/[^\w$]/g,Ja=n=>(e=>/\d/.test(e[0]))(n)||ni.has(n)||n==="arguments";function si(n){return n=n.replace(/-(\w)/g,(e,t)=>t.toUpperCase()).replace(Qa,"_"),Ja(n)&&(n=`_${n}`),n||"_"}const Bs=/^[$_\p{ID_Start}][$\u200C\u200D\p{ID_Continue}]*$/u,gd=/^(?:0|[1-9]\d*)$/;function Mr(n){return Bs.test(n)?n==="__proto__"?'["__proto__"]':n:gd.test(n)&&+n<=Number.MAX_SAFE_INTEGER?n:JSON.stringify(n)}function Xt(n){return Bs.test(n)?n:JSON.stringify(n)}const j="warn",Bt="info",Kn="debug",_t={[Kn]:0,[Bt]:1,silent:3,[j]:2};function yd(n,e){return n.start<=e&&e<n.end}function Or(n,e,t){return function(s,i={}){const{offsetLine:r=0,offsetColumn:o=0}=i;let a=0;const l=s.split(`
`).map((d,p)=>{const h=a+d.length+1,f={start:a,end:h,line:p};return a=h,f});let c=0;return function(d,p){if(typeof d=="string"&&(d=s.indexOf(d,p??0)),d===-1)return;let h=l[c];const f=d>=h.end?1:-1;for(;h;){if(yd(h,d))return{line:r+h.line,column:o+d-h.start,character:d};c+=f,h=l[c]}}}(n,t)(e,t&&t.startIndex)}function Ni(n){return n.replace(/^\t+/,e=>e.split("	").join("  "))}const bd=120,Ed=10,Pi="...";function el(n,e,t){let s=n.split(`
`);if(e>s.length)return"";const i=Math.max(Ni(s[e-1].slice(0,t)).length+Ed+Pi.length,bd),r=Math.max(0,e-3);let o=Math.min(e+2,s.length);for(s=s.slice(r,o);!/\S/.test(s[s.length-1]);)s.pop(),o-=1;const a=String(o).length;return s.map((l,c)=>{const d=r+c+1===e;let p=String(c+r+1);for(;p.length<a;)p=` ${p}`;let h=Ni(l);if(h.length>i&&(h=`${h.slice(0,i-Pi.length)}${Pi}`),d){const f=function(A){let m="";for(;A--;)m+=" ";return m}(a+2+Ni(l.slice(0,t)).length)+"^";return`${p}: ${h}
${f}`}return`${p}: ${h}`}).join(`
`)}function ht(n,e){const t=n.length<=1,s=n.map(r=>`"${r}"`);let i=t?s[0]:`${s.slice(0,-1).join(", ")} and ${s.slice(-1)[0]}`;return e&&(i+=` ${t?e[0]:e[1]}`),i}function we(n){return`https://rollupjs.org/${n}`}const tl="troubleshooting/#error-name-is-not-exported-by-module",Ad="troubleshooting/#warning-sourcemap-is-likely-to-be-incorrect",nl="configuration-options/#output-amd-id",Bn="configuration-options/#output-dir",Lr="configuration-options/#output-exports",wd="configuration-options/#output-extend",sl="configuration-options/#output-format",vd="configuration-options/#output-globals",il="configuration-options/#output-inlinedynamicimports",Dr="configuration-options/#output-interop",fo="configuration-options/#output-manualchunks",mo="configuration-options/#output-name",kd="configuration-options/#output-sourcemapfile";function L(n){throw n instanceof Error||(n=Object.assign(new Error(n.message),n),Object.defineProperty(n,"name",{value:"RollupError",writable:!0})),n}function _s(n,e,t,s){if(typeof e=="object"){const{line:i,column:r}=e;n.loc={column:r,file:s,line:i}}else{n.pos=e;const i=Or(t,e,{offsetLine:1});if(!i)return;const{line:r,column:o}=i;n.loc={column:o,file:s,line:r}}if(n.frame===void 0){const{line:i,column:r}=n.loc;n.frame=el(t,i,r)}}const xd="ADDON_ERROR",Id="ALREADY_CLOSED",$d="ANONYMOUS_PLUGIN_CACHE",Sd="ASSET_NOT_FINALISED",Nd="CANNOT_EMIT_FROM_OPTIONS_HOOK",Pd="CHUNK_NOT_GENERATED",Cd="CIRCULAR_REEXPORT",Rd="DEPRECATED_FEATURE",Md="DUPLICATE_PLUGIN_NAME",Od="FILE_NAME_CONFLICT",Ld="ILLEGAL_IDENTIFIER_AS_NAME",Dd="INVALID_CHUNK",rl="INVALID_EXPORT_OPTION",ol="INVALID_IMPORT_ATTRIBUTE",Bd="INVALID_LOG_POSITION",_d="INVALID_OPTION",al="INVALID_PLUGIN_HOOK",Td="INVALID_SETASSETSOURCE",ll="MISSING_EXPORT",zd="MISSING_GLOBAL_NAME",sr="MISSING_IMPLICIT_DEPENDANT",go="MISSING_NAME_OPTION_FOR_IIFE_EXPORT",Vd="MISSING_NODE_BUILTINS",Fd="MISSING_OPTION",jd="MIXED_EXPORTS",Ud="NO_TRANSFORM_MAP_OR_AST_WITHOUT_CODE",Gd="OPTIMIZE_CHUNK_STATUS",cl="PARSE_ERROR",Wd="PLUGIN_ERROR",ul="SOURCEMAP_BROKEN",dl="UNEXPECTED_NAMED_IMPORT",Hd="UNKNOWN_OPTION",yo="UNRESOLVED_ENTRY",bo="UNRESOLVED_IMPORT",Xd="VALIDATION_ERROR";function Eo(){return{code:Id,message:'Bundle is already closed, no more calls to "generate" or "write" are allowed.'}}function hl(n){return{code:"CANNOT_CALL_NAMESPACE",message:`Cannot call a namespace ("${n}").`}}function Zd({fileName:n,code:e},{pos:t,message:s}){const i={code:"CHUNK_INVALID",message:`Chunk "${n}" is not valid JavaScript: ${s}.`};return _s(i,t,e,n),i}function qd(n){return{code:"CIRCULAR_DEPENDENCY",ids:n,message:`Circular dependency: ${n.map(U).join(" -> ")}`}}function Yd(n,e,{line:t,column:s}){return{code:"FIRST_SIDE_EFFECT",message:`First side effect in ${U(e)} is at (${t}:${s})
${el(n,t,s)}`}}function pl(n,e){return{code:"ILLEGAL_REASSIGNMENT",message:`Illegal reassignment of import "${n}" in "${U(e)}".`}}function ks(n,e,t,s){return{code:"INCONSISTENT_IMPORT_ATTRIBUTES",message:`Module "${U(s)}" tried to import "${U(t)}" with ${Ao(e)} attributes, but it was already imported elsewhere with ${Ao(n)} attributes. Please ensure that import attributes for the same module are always consistent.`}}const Ao=n=>{const e=Object.entries(n);return e.length===0?"no":e.map(([t,s])=>`"${t}": "${s}"`).join(", ")};function Kd(n,e,t){return{code:"INVALID_ANNOTATION",id:e,message:`A comment

"${n}"

in "${U(e)}" contains an annotation that Rollup cannot interpret due to the position of the comment. The comment will be removed to avoid issues.`,url:we(t==="noSideEffects"?"configuration-options/#no-side-effects":"configuration-options/#pure")}}function wo(n,e,t){return{code:rl,message:`"${n}" was specified for "output.exports", but entry module "${U(t)}" has the following exports: ${ht(e)}`,url:we(Lr)}}function vo(n){return{code:ol,message:`Rollup could not statically analyze an import attribute of a dynamic import in "${U(n)}". Import attributes need to have string keys and values. The attribute will be removed.`}}function Ee(n,e,t,s){return{code:_d,message:`Invalid value ${s===void 0?"":`${JSON.stringify(s)} `}for option "${n}" - ${t}.`,url:we(e)}}function Ts(n,e,t){const s=vt(t)===".json";return{binding:n,code:ll,exporter:t,id:e,message:`"${n}" is not exported by "${U(t)}", imported by "${U(e)}".${s?" (Note that you need @rollup/plugin-json to import JSON files)":""}`,url:we(tl)}}function Qd(n){const e=[...n.implicitlyLoadedBefore].map(t=>U(t.id)).sort();return{code:sr,message:`Module "${U(n.id)}" that should be implicitly loaded before ${ht(e)} is not included in the module graph. Either it was not imported by an included module or only via a tree-shaken dynamic import, or no imported bindings were used and it had otherwise no side-effects.`}}function ko(n,e,t){return{code:Gd,message:`${t}, there are
${n} chunks, of which
${e} are below minChunkSize.`}}function pn(n){return{code:"REDECLARATION_ERROR",message:`Identifier "${n}" has already been declared`}}function xo(n,e){let t=n.message.replace(/ \(\d+:\d+\)$/,"");return e.endsWith(".json")?t+=" (Note that you need @rollup/plugin-json to import JSON files)":e.endsWith(".js")||(t+=" (Note that you need plugins to import files that are not JavaScript)"),{cause:n,code:cl,id:e,message:t,stack:n.stack}}function _n(n,e,{hook:t,id:s}={}){const i=n.code;return n.pluginCode||i==null||typeof i=="string"&&i.startsWith("PLUGIN_")||(n.pluginCode=i),n.code=Wd,n.plugin=e,t&&(n.hook=t),s&&(n.id=s),n}function Jd(n){return{code:ul,message:`Multiple conflicting contents for sourcemap source ${n}`}}function Io(n,e,t){const s=t?"reexport":"import";return{code:dl,exporter:n,message:`The named export "${e}" was ${s}ed from the external module "${U(n)}" even though its interop type is "defaultOnly". Either remove or change this ${s} or change the value of the "output.interop" option.`,url:we(Dr)}}function eh(n){return{code:dl,exporter:n,message:`There was a namespace "*" reexport from the external module "${U(n)}" even though its interop type is "defaultOnly". This will be ignored as namespace reexports only reexport named exports. If this is not intended, either remove or change this reexport or change the value of the "output.interop" option.`,url:we(Dr)}}function De(n){return{code:Xd,message:n}}function th(n,e,t,s,i){(function(r,o,a,l,c,d){if(a||c){const p=function(h,f,A){return{code:Rd,message:h,url:we(f),...A?{plugin:A}:{}}}(r,o,d);if(c)return L(p);l(j,p)}})(n,e,t,s.onLog,s.strictDeprecations,i)}class re{constructor(e,t,s,i,r,o){this.options=e,this.id=t,this.renormalizeRenderPath=r,this.dynamicImporters=[],this.execIndex=1/0,this.exportedVariables=new Map,this.importers=[],this.reexported=!1,this.used=!1,this.declarations=new Map,this.mostCommonSuggestion=0,this.nameSuggestions=new Map,this.suggestedVariableName=si(t.split(/[/\\]/).pop());const{importers:a,dynamicImporters:l}=this;this.info={ast:null,attributes:o,code:null,dynamicallyImportedIdResolutions:pe,dynamicallyImportedIds:pe,get dynamicImporters(){return l.sort()},exportedBindings:null,exports:null,hasDefaultExport:null,id:t,implicitlyLoadedAfterOneOf:pe,implicitlyLoadedBefore:pe,importedIdResolutions:pe,importedIds:pe,get importers(){return a.sort()},isEntry:!1,isExternal:!0,isIncluded:null,meta:i,moduleSideEffects:s,syntheticNamedExports:!1}}getVariableForExportName(e){const t=this.declarations.get(e);if(t)return[t];const s=new Ds(this,e);return this.declarations.set(e,s),this.exportedVariables.set(s,e),[s]}suggestName(e){const t=(this.nameSuggestions.get(e)??0)+1;this.nameSuggestions.set(e,t),t>this.mostCommonSuggestion&&(this.mostCommonSuggestion=t,this.suggestedVariableName=e)}warnUnusedImports(){const e=[...this.declarations].filter(([a,l])=>a!=="*"&&!l.included&&!this.reexported&&!l.referenced).map(([a])=>a);if(e.length===0)return;const t=new Set;for(const a of e)for(const l of this.declarations.get(a).module.importers)t.add(l);const s=[...t];var i,r,o;this.options.onLog(j,{code:"UNUSED_EXTERNAL_IMPORT",exporter:i=this.id,ids:o=s,message:`${ht(r=e,["is","are"])} imported from external module "${i}" but never used in ${ht(o.map(a=>U(a)))}.`,names:r})}}const Yt={ArrayPattern(n,e){for(const t of e.elements)t&&Yt[t.type](n,t)},AssignmentPattern(n,e){Yt[e.left.type](n,e.left)},Identifier(n,e){n.push(e.name)},MemberExpression(){},ObjectPattern(n,e){for(const t of e.properties)t.type==="RestElement"?Yt.RestElement(n,t):Yt[t.value.type](n,t.value)},RestElement(n,e){Yt[e.argument.type](n,e.argument)}},nh=function(n){const e=[];return Yt[n.type](e,n),e};function ir(){return{brokenFlow:!1,hasBreak:!1,hasContinue:!1,includedCallArguments:new Set,includedLabels:new Set}}function zs(){return{accessed:new ln,assigned:new ln,brokenFlow:!1,called:new po,hasBreak:!1,hasContinue:!1,ignore:{breaks:!1,continues:!1,labels:new Set,returnYield:!1,this:!1},includedLabels:new Set,instantiated:new po,replacedVariableInits:new Map}}function Qn(n,e=null){return Object.create(e,n)}new Set("break case class catch const continue debugger default delete do else export extends finally for function if import in instanceof let new return super switch this throw try typeof var void while with yield enum await implements package protected static interface private public arguments Infinity NaN undefined null true false eval uneval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Symbol Error EvalError InternalError RangeError ReferenceError SyntaxError TypeError URIError Number Math Date String RegExp Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array Map Set WeakMap WeakSet SIMD ArrayBuffer DataView JSON Promise Generator GeneratorFunction Reflect Proxy Intl".split(" ")).add("");const Jn=new class extends Ue{getLiteralValueAtPath(){}},Lt={value:{hasEffectsWhenCalled:null,returns:X}},Br=new class extends Ue{getReturnExpressionWhenCalledAtPath(n){return n.length===1?ts(rr,n[0]):me}hasEffectsOnInteractionAtPath(n,e,t){return e.type===0?n.length>1:e.type!==2||n.length!==1||es(rr,n[0],e,t)}},kt={value:{hasEffectsWhenCalled:null,returns:Br}},fn=new class extends Ue{getReturnExpressionWhenCalledAtPath(n){return n.length===1?ts(or,n[0]):me}hasEffectsOnInteractionAtPath(n,e,t){return e.type===0?n.length>1:e.type!==2||n.length!==1||es(or,n[0],e,t)}},Kt={value:{hasEffectsWhenCalled:null,returns:fn}},_r=new class extends Ue{getReturnExpressionWhenCalledAtPath(n){return n.length===1?ts(Tn,n[0]):me}hasEffectsOnInteractionAtPath(n,e,t){return e.type===0?n.length>1:e.type!==2||n.length!==1||es(Tn,n[0],e,t)}},Z={value:{hasEffectsWhenCalled:null,returns:_r}},$o={value:{hasEffectsWhenCalled({args:n},e){const t=n[2];return n.length<3||typeof t.getLiteralValueAtPath(W,be,{deoptimizeCache(){}})=="symbol"&&t.hasEffectsOnInteractionAtPath(W,ti,e)},returns:_r}},ii=Qn({hasOwnProperty:kt,isPrototypeOf:kt,propertyIsEnumerable:kt,toLocaleString:Z,toString:Z,valueOf:Lt}),rr=Qn({valueOf:kt},ii),or=Qn({toExponential:Z,toFixed:Z,toLocaleString:Z,toPrecision:Z,valueOf:Kt},ii),sh=Qn({exec:Lt,test:kt},ii),Tn=Qn({anchor:Z,at:Lt,big:Z,blink:Z,bold:Z,charAt:Z,charCodeAt:Kt,codePointAt:Lt,concat:Z,endsWith:kt,fixed:Z,fontcolor:Z,fontsize:Z,includes:kt,indexOf:Kt,italics:Z,lastIndexOf:Kt,link:Z,localeCompare:Kt,match:Lt,matchAll:Lt,normalize:Z,padEnd:Z,padStart:Z,repeat:Z,replace:$o,replaceAll:$o,search:Kt,slice:Z,small:Z,split:Lt,startsWith:kt,strike:Z,sub:Z,substr:Z,substring:Z,sup:Z,toLocaleLowerCase:Z,toLocaleUpperCase:Z,toLowerCase:Z,toString:Z,toUpperCase:Z,trim:Z,trimEnd:Z,trimLeft:Z,trimRight:Z,trimStart:Z,valueOf:Z},ii);function es(n,e,t,s){var i,r;return typeof e!="string"||!n[e]||((r=(i=n[e]).hasEffectsWhenCalled)==null?void 0:r.call(i,t,s))||!1}function ts(n,e){return typeof e=="string"&&n[e]?[n[e].returns,!1]:me}const rt=["var","let","const","init","get","set","constructor","method","-","+","!","~","typeof","void","delete","++","--","==","!=","===","!==","<","<=",">",">=","<<",">>",">>>","+","-","*","/","%","|","^","&","||","&&","in","instanceof","**","??","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","|=","^=","&=","**=","&&=","||=","??=","pure","noSideEffects"],Qt="_rollupAnnotations",fl="_rollupRemoved";function ml(n,e){return R(0,new Uint32Array(n),e)}const ih=[function(n,e,t){const s=e[n++];L(function(i,r){return{code:cl,message:i,pos:r}}(Te(n,e,t),s))},function(n,e,t){return{type:"ArrayExpression",start:e[n++],end:e[n++],elements:le(n,e,t)}},function(n,e,t){return{type:"ArrayPattern",start:e[n++],end:e[n++],elements:le(n,e,t)}},function(n,e,t){const s=e[n++],i=e[n++],r=e[n++],o=(1&r)==1,a=(2&r)==2,l=(4&r)==4,c=le(e[n++],e,t),d=R(e[n++],e,t),p=Zt(n,e);return{type:"ArrowFunctionExpression",start:s,end:i,async:o,expression:a,generator:l,...p.length>0?{[Qt]:p}:{},params:c,body:d,id:null}},function(n,e,t){const s=e[n++],i=e[n++],r=rt[e[n++]],o=R(e[n++],e,t);return{type:"AssignmentExpression",start:s,end:i,operator:r,left:R(n,e,t),right:o}},function(n,e,t){const s=e[n++],i=e[n++],r=R(e[n++],e,t);return{type:"AssignmentPattern",start:s,end:i,left:R(n,e,t),right:r}},function(n,e,t){return{type:"AwaitExpression",start:e[n++],end:e[n++],argument:R(n,e,t)}},function(n,e,t){const s=e[n++],i=e[n++],r=rt[e[n++]],o=R(e[n++],e,t);return{type:"BinaryExpression",start:s,end:i,operator:r,left:R(n,e,t),right:o}},function(n,e,t){return{type:"BlockStatement",start:e[n++],end:e[n++],body:le(n,e,t)}},function(n,e,t){const s=e[n++],i=e[n++],r=e[n];return{type:"BreakStatement",start:s,end:i,label:r===0?null:R(r,e,t)}},function(n,e,t){const s=e[n++],i=e[n++],r=(1&e[n++])==1,o=R(e[n++],e,t),a=le(e[n++],e,t),l=Zt(n,e);return{type:"CallExpression",start:s,end:i,optional:r,...l.length>0?{[Qt]:l}:{},callee:o,arguments:a}},function(n,e,t){const s=e[n++],i=e[n++],r=e[n++];return{type:"CatchClause",start:s,end:i,param:r===0?null:R(r,e,t),body:R(e[n],e,t)}},function(n,e,t){return{type:"ChainExpression",start:e[n++],end:e[n++],expression:R(n,e,t)}},function(n,e,t){return{type:"ClassBody",start:e[n++],end:e[n++],body:le(n,e,t)}},function(n,e,t){const s=e[n++],i=e[n++],r=e[n++],o=r===0?null:R(r,e,t),a=e[n++];return{type:"ClassDeclaration",start:s,end:i,id:o,superClass:a===0?null:R(a,e,t),body:R(e[n],e,t)}},function(n,e,t){const s=e[n++],i=e[n++],r=e[n++],o=r===0?null:R(r,e,t),a=e[n++];return{type:"ClassExpression",start:s,end:i,id:o,superClass:a===0?null:R(a,e,t),body:R(e[n],e,t)}},function(n,e,t){const s=e[n++],i=e[n++],r=R(e[n++],e,t),o=R(e[n++],e,t);return{type:"ConditionalExpression",start:s,end:i,test:R(n,e,t),consequent:r,alternate:o}},function(n,e,t){const s=e[n++],i=e[n++],r=e[n];return{type:"ContinueStatement",start:s,end:i,label:r===0?null:R(r,e,t)}},function(n,e){return{type:"DebuggerStatement",start:e[n++],end:e[n++]}},function(n,e,t){const s=e[n++],i=e[n++],r=R(e[n++],e,t),o=Te(n,e,t);return{type:"ExpressionStatement",start:s,end:i,directive:o,expression:r}},function(n,e,t){const s=e[n++],i=e[n++],r=R(e[n++],e,t);return{type:"DoWhileStatement",start:s,end:i,body:R(n,e,t),test:r}},function(n,e){return{type:"EmptyStatement",start:e[n++],end:e[n++]}},function(n,e,t){const s=e[n++],i=e[n++],r=e[n++];return{type:"ExportAllDeclaration",start:s,end:i,exported:r===0?null:R(r,e,t),source:R(e[n++],e,t),attributes:le(e[n],e,t)}},function(n,e,t){return{type:"ExportDefaultDeclaration",start:e[n++],end:e[n++],declaration:R(n,e,t)}},function(n,e,t){const s=e[n++],i=e[n++],r=e[n++],o=r===0?null:R(r,e,t),a=le(e[n++],e,t),l=e[n++],c=l===0?null:R(l,e,t);return{type:"ExportNamedDeclaration",start:s,end:i,specifiers:le(n,e,t),source:o,attributes:a,declaration:c}},function(n,e,t){const s=e[n++],i=e[n++],r=e[n++],o=R(n,e,t);return{type:"ExportSpecifier",start:s,end:i,local:o,exported:r===0?{...o}:R(r,e,t)}},function(n,e,t){return{type:"ExpressionStatement",start:e[n++],end:e[n++],expression:R(n,e,t)}},function(n,e,t){const s=e[n++],i=e[n++],r=R(e[n++],e,t),o=R(e[n++],e,t);return{type:"ForInStatement",start:s,end:i,left:R(n,e,t),right:r,body:o}},function(n,e,t){const s=e[n++],i=e[n++],r=(1&e[n++])==1,o=R(e[n++],e,t),a=R(e[n++],e,t);return{type:"ForOfStatement",start:s,end:i,await:r,left:R(n,e,t),right:o,body:a}},function(n,e,t){const s=e[n++],i=e[n++],r=e[n++],o=r===0?null:R(r,e,t),a=e[n++],l=a===0?null:R(a,e,t),c=e[n++];return{type:"ForStatement",start:s,end:i,init:o,test:l,update:c===0?null:R(c,e,t),body:R(e[n],e,t)}},function(n,e,t){const s=e[n++],i=e[n++],r=e[n++],o=(1&r)==1,a=(2&r)==2,l=e[n++],c=l===0?null:R(l,e,t),d=le(e[n++],e,t),p=R(e[n++],e,t),h=Zt(n,e);return{type:"FunctionDeclaration",start:s,end:i,async:o,generator:a,...h.length>0?{[Qt]:h}:{},id:c,params:d,body:p,expression:!1}},function(n,e,t){const s=e[n++],i=e[n++],r=e[n++],o=(1&r)==1,a=(2&r)==2,l=e[n++],c=l===0?null:R(l,e,t),d=le(e[n++],e,t),p=R(e[n++],e,t),h=Zt(n,e);return{type:"FunctionExpression",start:s,end:i,async:o,generator:a,...h.length>0?{[Qt]:h}:{},id:c,params:d,body:p,expression:!1}},function(n,e,t){return{type:"Identifier",start:e[n++],end:e[n++],name:Te(n,e,t)}},function(n,e,t){const s=e[n++],i=e[n++],r=R(e[n++],e,t),o=e[n++],a=o===0?null:R(o,e,t);return{type:"IfStatement",start:s,end:i,test:R(n,e,t),consequent:r,alternate:a}},function(n,e,t){const s=e[n++],i=e[n++],r=R(e[n++],e,t);return{type:"ImportAttribute",start:s,end:i,key:R(n,e,t),value:r}},function(n,e,t){const s=e[n++],i=e[n++],r=R(e[n++],e,t),o=le(e[n++],e,t);return{type:"ImportDeclaration",start:s,end:i,specifiers:le(n,e,t),source:r,attributes:o}},function(n,e,t){return{type:"ImportDefaultSpecifier",start:e[n++],end:e[n++],local:R(n,e,t)}},function(n,e,t){const s=e[n++],i=e[n++],r=e[n++],o=r===0?null:R(r,e,t);return{type:"ImportExpression",start:s,end:i,source:R(n,e,t),options:o}},function(n,e,t){return{type:"ImportNamespaceSpecifier",start:e[n++],end:e[n++],local:R(n,e,t)}},function(n,e,t){const s=e[n++],i=e[n++],r=e[n++],o=R(e[n],e,t);return{type:"ImportSpecifier",start:s,end:i,imported:r===0?{...o}:R(r,e,t),local:o}},function(n,e,t){const s=e[n++],i=e[n++],r=R(e[n++],e,t);return{type:"LabeledStatement",start:s,end:i,label:R(n,e,t),body:r}},function(n,e,t){const s=e[n++],i=e[n++],r=Te(e[n++],e,t),o=Te(n,e,t);return{type:"Literal",start:s,end:i,bigint:o,raw:r,value:BigInt(o)}},function(n,e){const t=e[n++],s=e[n++],i=(1&e[n++])==1;return{type:"Literal",start:t,end:s,value:i,raw:i?"true":"false"}},function(n,e){return{type:"Literal",start:e[n++],end:e[n++],raw:"null",value:null}},function(n,e,t){const s=e[n++],i=e[n++],r=e[n++];return{type:"Literal",start:s,end:i,raw:r===0?void 0:Te(r,e,t),value:new DataView(e.buffer).getFloat64(n<<2,!0)}},function(n,e,t){const s=e[n++],i=e[n++],r=Te(e[n++],e,t),o=Te(n,e,t);return{type:"Literal",start:s,end:i,raw:`/${r}/${o}`,regex:{flags:o,pattern:r},value:new RegExp(r,o)}},function(n,e,t){const s=e[n++],i=e[n++],r=e[n++],o=r===0?void 0:Te(r,e,t);return{type:"Literal",start:s,end:i,value:Te(n,e,t),raw:o}},function(n,e,t){const s=e[n++],i=e[n++],r=rt[e[n++]],o=R(e[n++],e,t);return{type:"LogicalExpression",start:s,end:i,operator:r,left:R(n,e,t),right:o}},function(n,e,t){const s=e[n++],i=e[n++],r=e[n++],o=(1&r)==1,a=(2&r)==2,l=R(e[n++],e,t);return{type:"MemberExpression",start:s,end:i,computed:o,optional:a,object:R(n,e,t),property:l}},function(n,e,t){const s=e[n++],i=e[n++],r=R(e[n++],e,t);return{type:"MetaProperty",start:s,end:i,meta:R(n,e,t),property:r}},function(n,e,t){const s=e[n++],i=e[n++],r=e[n++],o=(1&r)==1,a=(2&r)==2,l=R(e[n++],e,t),c=rt[e[n++]];return{type:"MethodDefinition",start:s,end:i,computed:o,static:a,key:R(n,e,t),value:l,kind:c}},function(n,e,t){const s=e[n++],i=e[n++],r=R(e[n++],e,t),o=le(e[n++],e,t),a=Zt(n,e);return{type:"NewExpression",start:s,end:i,...a.length>0?{[Qt]:a}:{},callee:r,arguments:o}},function(n,e,t){return{type:"ObjectExpression",start:e[n++],end:e[n++],properties:le(n,e,t)}},function(n,e,t){return{type:"ObjectPattern",start:e[n++],end:e[n++],properties:le(n,e,t)}},function(n,e,t){return{type:"PrivateIdentifier",start:e[n++],end:e[n++],name:Te(n,e,t)}},function(n,e,t){const s=e[n++],i=e[n++],r=Zt(e[n++],e);return{type:"Program",start:s,end:i,body:le(n,e,t),...r.length>0?{[fl]:r}:{},sourceType:"module"}},function(n,e,t){const s=e[n++],i=e[n++],r=e[n++],o=(1&r)==1,a=(2&r)==2,l=(4&r)==4,c=e[n++],d=R(e[n++],e,t),p=rt[e[n]];return{type:"Property",start:s,end:i,method:o,shorthand:a,computed:l,key:c===0?{...d}:R(c,e,t),value:d,kind:p}},function(n,e,t){const s=e[n++],i=e[n++],r=e[n++],o=(1&r)==1,a=(2&r)==2,l=e[n++],c=l===0?null:R(l,e,t);return{type:"PropertyDefinition",start:s,end:i,computed:o,static:a,key:R(n,e,t),value:c}},function(n,e,t){return{type:"RestElement",start:e[n++],end:e[n++],argument:R(n,e,t)}},function(n,e,t){const s=e[n++],i=e[n++],r=e[n];return{type:"ReturnStatement",start:s,end:i,argument:r===0?null:R(r,e,t)}},function(n,e,t){return{type:"SequenceExpression",start:e[n++],end:e[n++],expressions:le(n,e,t)}},function(n,e,t){return{type:"SpreadElement",start:e[n++],end:e[n++],argument:R(n,e,t)}},function(n,e,t){return{type:"StaticBlock",start:e[n++],end:e[n++],body:le(n,e,t)}},function(n,e){return{type:"Super",start:e[n++],end:e[n++]}},function(n,e,t){const s=e[n++],i=e[n++],r=e[n++];return{type:"SwitchCase",start:s,end:i,test:r===0?null:R(r,e,t),consequent:le(e[n],e,t)}},function(n,e,t){const s=e[n++],i=e[n++],r=le(e[n++],e,t);return{type:"SwitchStatement",start:s,end:i,discriminant:R(n,e,t),cases:r}},function(n,e,t){const s=e[n++],i=e[n++],r=R(e[n++],e,t);return{type:"TaggedTemplateExpression",start:s,end:i,tag:R(n,e,t),quasi:r}},function(n,e,t){const s=e[n++],i=e[n++],r=(1&e[n++])==1,o=e[n++];return{type:"TemplateElement",start:s,end:i,tail:r,value:{cooked:o===0?void 0:Te(o,e,t),raw:Te(n,e,t)}}},function(n,e,t){const s=e[n++],i=e[n++],r=le(e[n++],e,t);return{type:"TemplateLiteral",start:s,end:i,quasis:le(n,e,t),expressions:r}},function(n,e){return{type:"ThisExpression",start:e[n++],end:e[n++]}},function(n,e,t){return{type:"ThrowStatement",start:e[n++],end:e[n++],argument:R(n,e,t)}},function(n,e,t){const s=e[n++],i=e[n++],r=e[n++],o=r===0?null:R(r,e,t),a=e[n++],l=a===0?null:R(a,e,t);return{type:"TryStatement",start:s,end:i,block:R(n,e,t),handler:o,finalizer:l}},function(n,e,t){return{type:"UnaryExpression",start:e[n++],end:e[n++],operator:rt[e[n++]],argument:R(n,e,t),prefix:!0}},function(n,e,t){return{type:"UpdateExpression",start:e[n++],end:e[n++],prefix:(1&e[n++])==1,operator:rt[e[n++]],argument:R(n,e,t)}},function(n,e,t){return{type:"VariableDeclaration",start:e[n++],end:e[n++],kind:rt[e[n++]],declarations:le(n,e,t)}},function(n,e,t){const s=e[n++],i=e[n++],r=e[n++],o=r===0?null:R(r,e,t);return{type:"VariableDeclarator",start:s,end:i,id:R(n,e,t),init:o}},function(n,e,t){const s=e[n++],i=e[n++],r=R(e[n++],e,t);return{type:"WhileStatement",start:s,end:i,test:R(n,e,t),body:r}},function(n,e,t){const s=e[n++],i=e[n++],r=(1&e[n++])==1,o=e[n];return{type:"YieldExpression",start:s,end:i,delegate:r,argument:o===0?null:R(o,e,t)}}];function R(n,e,t){const s=e[n],i=ih[s];if(!i)throw console.trace(),new Error(`Unknown node type: ${s}`);return i(n+1,e,t)}function le(n,e,t){const s=e[n++],i=[];for(let r=0;r<s;r++){const o=e[n++];i.push(o?R(o,e,t):null)}return i}const Zt=(n,e)=>{const t=e[n++],s=[];for(let i=0;i<t;i++)s.push(rh(e[n++],e));return s},rh=(n,e)=>{const t=e[n++];return{end:e[n++],start:t,type:rt[e[n]]}},Te=(n,e,t)=>{const s=e[n++];return t(n<<2,s)},ft={Literal:[],Program:["body"]},gl="variables";class z extends Ue{get deoptimized(){return ee(this.flags,2)}set deoptimized(e){this.flags=te(this.flags,2,e)}constructor(e,t,s,i=!1){super(),i&&(this.esTreeNode=e);const{type:r}=e;ft[r]||(ft[r]=function(o){return Object.keys(o).filter(a=>typeof o[a]=="object"&&a.charCodeAt(0)!==95)}(e)),this.parent=t,this.scope=s,this.createScope(s),this.parseNode(e),this.initialise(),this.scope.context.magicString.addSourcemapLocation(this.start),this.scope.context.magicString.addSourcemapLocation(this.end)}addExportedVariables(e,t){}bind(){for(const e of ft[this.type]){const t=this[e];if(Array.isArray(t))for(const s of t)s==null||s.bind();else t&&t.bind()}}createScope(e){this.scope=e}hasEffects(e){this.deoptimized||this.applyDeoptimizations();for(const t of ft[this.type]){const s=this[t];if(s!==null){if(Array.isArray(s)){for(const i of s)if(i!=null&&i.hasEffects(e))return!0}else if(s.hasEffects(e))return!0}}return!1}hasEffectsAsAssignmentTarget(e,t){return this.hasEffects(e)||this.hasEffectsOnInteractionAtPath(W,this.assignmentInteraction,e)}include(e,t,s){this.deoptimized||this.applyDeoptimizations(),this.included=!0;for(const i of ft[this.type]){const r=this[i];if(r!==null)if(Array.isArray(r))for(const o of r)o==null||o.include(e,t);else r.include(e,t)}}includeAsAssignmentTarget(e,t,s){this.include(e,t)}initialise(){}parseNode(e,t){for(const[s,i]of Object.entries(e))if(!this.hasOwnProperty(s))if(s.charCodeAt(0)===95){if(s===Qt){const r=i;this.annotations=r,this.scope.context.options.treeshake.annotations&&(this.annotationNoSideEffects=r.some(o=>o.type==="noSideEffects"),this.annotationPure=r.some(o=>o.type==="pure"))}else if(s===fl)for(const{start:r,end:o,type:a}of i)this.scope.context.magicString.remove(r,o),a!=="pure"&&a!=="noSideEffects"||this.scope.context.log(j,Kd(this.scope.context.code.slice(r,o),this.scope.context.module.id,a),r)}else if(typeof i!="object"||i===null)this[s]=i;else if(Array.isArray(i)){this[s]=[];for(const r of i)this[s].push(r===null?null:new(this.scope.context.getNodeConstructor(r.type))(r,this,this.scope,t==null?void 0:t.includes(s)))}else this[s]=new(this.scope.context.getNodeConstructor(i.type))(i,this,this.scope,t==null?void 0:t.includes(s))}removeAnnotations(e){if(this.annotations)for(const t of this.annotations)e.remove(t.start,t.end)}render(e,t){for(const s of ft[this.type]){const i=this[s];if(i!==null)if(Array.isArray(i))for(const r of i)r==null||r.render(e,t);else i.render(e,t)}}setAssignedValue(e){this.assignmentInteraction={args:[null,e],type:1}}shouldBeIncluded(e){return this.included||!e.brokenFlow&&this.hasEffects(zs())}applyDeoptimizations(){this.deoptimized=!0;for(const e of ft[this.type]){const t=this[e];if(t!==null)if(Array.isArray(t))for(const s of t)s==null||s.deoptimizePath(q);else t.deoptimizePath(q)}this.scope.context.requestTreeshakingPass()}}class zn extends z{deoptimizeArgumentsOnInteractionAtPath(e,t,s){t.length>0&&this.argument.deoptimizeArgumentsOnInteractionAtPath(e,[ne,...t],s)}hasEffects(e){this.deoptimized||this.applyDeoptimizations();const{propertyReadSideEffects:t}=this.scope.context.options.treeshake;return this.argument.hasEffects(e)||t&&(t==="always"||this.argument.hasEffectsOnInteractionAtPath(q,ei,e))}applyDeoptimizations(){this.deoptimized=!0,this.argument.deoptimizePath([ne,ne]),this.scope.context.requestTreeshakingPass()}}class Oe extends Ue{constructor(e){super(),this.description=e}deoptimizeArgumentsOnInteractionAtPath({args:e,type:t},s){var i;if(t===2&&s.length===0&&(this.description.mutatesSelfAsArray&&((i=e[0])==null||i.deoptimizePath(nr)),this.description.mutatesArgs))for(let r=1;r<e.length;r++)e[r].deoptimizePath(q)}getReturnExpressionWhenCalledAtPath(e,{args:t}){return e.length>0?me:[this.description.returnsPrimitive||(this.description.returns==="self"?t[0]||X:this.description.returns()),!1]}hasEffectsOnInteractionAtPath(e,t,s){var r,o;const{type:i}=t;if(e.length>(i===0?1:0))return!0;if(i===2){const{args:a}=t;if(this.description.mutatesSelfAsArray===!0&&((r=a[0])!=null&&r.hasEffectsOnInteractionAtPath(nr,Rr,s)))return!0;if(this.description.callsArgs){for(const l of this.description.callsArgs)if((o=a[l+1])!=null&&o.hasEffectsOnInteractionAtPath(W,ti,s))return!0}}return!1}}const xs=[new Oe({callsArgs:null,mutatesArgs:!1,mutatesSelfAsArray:!1,returns:null,returnsPrimitive:Br})],Cn=[new Oe({callsArgs:null,mutatesArgs:!1,mutatesSelfAsArray:!1,returns:null,returnsPrimitive:_r})],So=[new Oe({callsArgs:null,mutatesArgs:!1,mutatesSelfAsArray:!1,returns:null,returnsPrimitive:fn})],yl=[new Oe({callsArgs:null,mutatesArgs:!1,mutatesSelfAsArray:!1,returns:null,returnsPrimitive:X})],wn=/^\d+$/;class Ve extends Ue{get hasLostTrack(){return ee(this.flags,2048)}set hasLostTrack(e){this.flags=te(this.flags,2048,e)}get hasUnknownDeoptimizedInteger(){return ee(this.flags,4096)}set hasUnknownDeoptimizedInteger(e){this.flags=te(this.flags,4096,e)}get hasUnknownDeoptimizedProperty(){return ee(this.flags,8192)}set hasUnknownDeoptimizedProperty(e){this.flags=te(this.flags,8192,e)}constructor(e,t,s=!1){if(super(),this.prototypeExpression=t,this.immutable=s,this.additionalExpressionsToBeDeoptimized=new Set,this.allProperties=[],this.deoptimizedPaths=Object.create(null),this.expressionsToBeDeoptimizedByKey=Object.create(null),this.gettersByKey=Object.create(null),this.propertiesAndGettersByKey=Object.create(null),this.propertiesAndSettersByKey=Object.create(null),this.settersByKey=Object.create(null),this.unknownIntegerProps=[],this.unmatchableGetters=[],this.unmatchablePropertiesAndGetters=[],this.unmatchableSetters=[],Array.isArray(e))this.buildPropertyMaps(e);else{this.propertiesAndGettersByKey=this.propertiesAndSettersByKey=e;for(const i of Object.values(e))this.allProperties.push(...i)}}deoptimizeAllProperties(e){var s;const t=this.hasLostTrack||this.hasUnknownDeoptimizedProperty;if(e?this.hasUnknownDeoptimizedProperty=!0:this.hasLostTrack=!0,!t){for(const i of[...Object.values(this.propertiesAndGettersByKey),...Object.values(this.settersByKey)])for(const r of i)r.deoptimizePath(q);(s=this.prototypeExpression)==null||s.deoptimizePath([ne,ne]),this.deoptimizeCachedEntities()}}deoptimizeArgumentsOnInteractionAtPath(e,t,s){var p;const[i,...r]=t,{args:o,type:a}=e;if(this.hasLostTrack||(a===2||t.length>1)&&(this.hasUnknownDeoptimizedProperty||typeof i=="string"&&this.deoptimizedPaths[i]))return void St(e);const[l,c,d]=a===2||t.length>1?[this.propertiesAndGettersByKey,this.propertiesAndGettersByKey,this.unmatchablePropertiesAndGetters]:a===0?[this.propertiesAndGettersByKey,this.gettersByKey,this.unmatchableGetters]:[this.propertiesAndSettersByKey,this.settersByKey,this.unmatchableSetters];if(typeof i=="string"){if(l[i]){const h=c[i];if(h)for(const f of h)f.deoptimizeArgumentsOnInteractionAtPath(e,r,s);if(!this.immutable)for(const f of o)f&&this.additionalExpressionsToBeDeoptimized.add(f);return}for(const h of d)h.deoptimizeArgumentsOnInteractionAtPath(e,r,s);if(wn.test(i))for(const h of this.unknownIntegerProps)h.deoptimizeArgumentsOnInteractionAtPath(e,r,s)}else{for(const h of[...Object.values(c),d])for(const f of h)f.deoptimizeArgumentsOnInteractionAtPath(e,r,s);for(const h of this.unknownIntegerProps)h.deoptimizeArgumentsOnInteractionAtPath(e,r,s)}if(!this.immutable)for(const h of o)h&&this.additionalExpressionsToBeDeoptimized.add(h);(p=this.prototypeExpression)==null||p.deoptimizeArgumentsOnInteractionAtPath(e,t,s)}deoptimizeIntegerProperties(){if(!(this.hasLostTrack||this.hasUnknownDeoptimizedProperty||this.hasUnknownDeoptimizedInteger)){this.hasUnknownDeoptimizedInteger=!0;for(const[e,t]of Object.entries(this.propertiesAndGettersByKey))if(wn.test(e))for(const s of t)s.deoptimizePath(q);this.deoptimizeCachedIntegerEntities()}}deoptimizePath(e){var i;if(this.hasLostTrack||this.immutable)return;const t=e[0];if(e.length===1){if(typeof t!="string")return t===Dn?this.deoptimizeIntegerProperties():this.deoptimizeAllProperties(t===Ls);if(!this.deoptimizedPaths[t]){this.deoptimizedPaths[t]=!0;const r=this.expressionsToBeDeoptimizedByKey[t];if(r)for(const o of r)o.deoptimizeCache()}}const s=e.length===1?q:e.slice(1);for(const r of typeof t=="string"?[...this.propertiesAndGettersByKey[t]||this.unmatchablePropertiesAndGetters,...this.settersByKey[t]||this.unmatchableSetters]:this.allProperties)r.deoptimizePath(s);(i=this.prototypeExpression)==null||i.deoptimizePath(e.length===1?[...e,ne]:e)}getLiteralValueAtPath(e,t,s){if(e.length===0)return Ya;const i=e[0],r=this.getMemberExpressionAndTrackDeopt(i,s);return r?r.getLiteralValueAtPath(e.slice(1),t,s):this.prototypeExpression?this.prototypeExpression.getLiteralValueAtPath(e,t,s):e.length!==1?ue:void 0}getReturnExpressionWhenCalledAtPath(e,t,s,i){if(e.length===0)return me;const[r,...o]=e,a=this.getMemberExpressionAndTrackDeopt(r,i);return a?a.getReturnExpressionWhenCalledAtPath(o,t,s,i):this.prototypeExpression?this.prototypeExpression.getReturnExpressionWhenCalledAtPath(e,t,s,i):me}hasEffectsOnInteractionAtPath(e,t,s){const[i,...r]=e;if(r.length>0||t.type===2){const c=this.getMemberExpression(i);return c?c.hasEffectsOnInteractionAtPath(r,t,s):!this.prototypeExpression||this.prototypeExpression.hasEffectsOnInteractionAtPath(e,t,s)}if(i===Ls)return!1;if(this.hasLostTrack)return!0;const[o,a,l]=t.type===0?[this.propertiesAndGettersByKey,this.gettersByKey,this.unmatchableGetters]:[this.propertiesAndSettersByKey,this.settersByKey,this.unmatchableSetters];if(typeof i=="string"){if(o[i]){const c=a[i];if(c){for(const d of c)if(d.hasEffectsOnInteractionAtPath(r,t,s))return!0}return!1}for(const c of l)if(c.hasEffectsOnInteractionAtPath(r,t,s))return!0}else for(const c of[...Object.values(a),l])for(const d of c)if(d.hasEffectsOnInteractionAtPath(r,t,s))return!0;return!!this.prototypeExpression&&this.prototypeExpression.hasEffectsOnInteractionAtPath(e,t,s)}buildPropertyMaps(e){const{allProperties:t,propertiesAndGettersByKey:s,propertiesAndSettersByKey:i,settersByKey:r,gettersByKey:o,unknownIntegerProps:a,unmatchablePropertiesAndGetters:l,unmatchableGetters:c,unmatchableSetters:d}=this,p=[];for(let h=e.length-1;h>=0;h--){const{key:f,kind:A,property:m}=e[h];if(t.push(m),typeof f=="string")A==="set"?i[f]||(i[f]=[m,...p],r[f]=[m,...d]):A==="get"?s[f]||(s[f]=[m,...l],o[f]=[m,...c]):(i[f]||(i[f]=[m,...p]),s[f]||(s[f]=[m,...l]));else{if(f===Dn){a.push(m);continue}A==="set"&&d.push(m),A==="get"&&c.push(m),A!=="get"&&p.push(m),A!=="set"&&l.push(m)}}}deoptimizeCachedEntities(){for(const e of Object.values(this.expressionsToBeDeoptimizedByKey))for(const t of e)t.deoptimizeCache();for(const e of this.additionalExpressionsToBeDeoptimized)e.deoptimizePath(q)}deoptimizeCachedIntegerEntities(){for(const[e,t]of Object.entries(this.expressionsToBeDeoptimizedByKey))if(wn.test(e))for(const s of t)s.deoptimizeCache();for(const e of this.additionalExpressionsToBeDeoptimized)e.deoptimizePath(nr)}getMemberExpression(e){if(this.hasLostTrack||this.hasUnknownDeoptimizedProperty||typeof e!="string"||this.hasUnknownDeoptimizedInteger&&wn.test(e)||this.deoptimizedPaths[e])return X;const t=this.propertiesAndGettersByKey[e];return(t==null?void 0:t.length)===1?t[0]:t||this.unmatchablePropertiesAndGetters.length>0||this.unknownIntegerProps.length>0&&wn.test(e)?X:null}getMemberExpressionAndTrackDeopt(e,t){if(typeof e!="string")return X;const s=this.getMemberExpression(e);return s!==X&&!this.immutable&&(this.expressionsToBeDeoptimizedByKey[e]=this.expressionsToBeDeoptimizedByKey[e]||[]).push(t),s}}const No=n=>typeof n=="string"&&/^\d+$/.test(n),oh=new class extends Ue{deoptimizeArgumentsOnInteractionAtPath(n,e){n.type!==2||e.length!==1||No(e[0])||St(n)}getLiteralValueAtPath(n){return n.length===1&&No(n[0])?void 0:ue}hasEffectsOnInteractionAtPath(n,{type:e}){return n.length>1||e===2}},xt=new Ve({__proto__:null,hasOwnProperty:xs,isPrototypeOf:xs,propertyIsEnumerable:xs,toLocaleString:Cn,toString:Cn,valueOf:yl},oh,!0),Tr=[{key:Dn,kind:"init",property:X},{key:"length",kind:"init",property:fn}],Po=[new Oe({callsArgs:[0],mutatesArgs:!1,mutatesSelfAsArray:"deopt-only",returns:null,returnsPrimitive:Br})],Co=[new Oe({callsArgs:[0],mutatesArgs:!1,mutatesSelfAsArray:"deopt-only",returns:null,returnsPrimitive:fn})],ah=[new Oe({callsArgs:null,mutatesArgs:!1,mutatesSelfAsArray:!0,returns:()=>new Ve(Tr,ri),returnsPrimitive:null})],us=[new Oe({callsArgs:null,mutatesArgs:!1,mutatesSelfAsArray:"deopt-only",returns:()=>new Ve(Tr,ri),returnsPrimitive:null})],Ci=[new Oe({callsArgs:[0],mutatesArgs:!1,mutatesSelfAsArray:"deopt-only",returns:()=>new Ve(Tr,ri),returnsPrimitive:null})],Ro=[new Oe({callsArgs:null,mutatesArgs:!0,mutatesSelfAsArray:!0,returns:null,returnsPrimitive:fn})],Mo=[new Oe({callsArgs:null,mutatesArgs:!1,mutatesSelfAsArray:!0,returns:null,returnsPrimitive:X})],Oo=[new Oe({callsArgs:null,mutatesArgs:!1,mutatesSelfAsArray:"deopt-only",returns:null,returnsPrimitive:X})],vn=[new Oe({callsArgs:[0],mutatesArgs:!1,mutatesSelfAsArray:"deopt-only",returns:null,returnsPrimitive:X})],Ri=[new Oe({callsArgs:null,mutatesArgs:!1,mutatesSelfAsArray:!0,returns:"self",returnsPrimitive:null})],lh=[new Oe({callsArgs:[0],mutatesArgs:!1,mutatesSelfAsArray:!0,returns:"self",returnsPrimitive:null})],ri=new Ve({__proto__:null,at:Oo,concat:us,copyWithin:Ri,entries:us,every:Po,fill:Ri,filter:Ci,find:vn,findIndex:Co,findLast:vn,findLastIndex:Co,flat:us,flatMap:Ci,forEach:vn,includes:xs,indexOf:So,join:Cn,keys:yl,lastIndexOf:So,map:Ci,pop:Mo,push:Ro,reduce:vn,reduceRight:vn,reverse:Ri,shift:Mo,slice:us,some:Po,sort:lh,splice:ah,toLocaleString:Cn,toString:Cn,unshift:Ro,values:Oo},xt,!0);class bl extends z{constructor(){super(...arguments),this.objectEntity=null}deoptimizeArgumentsOnInteractionAtPath(e,t,s){this.getObjectEntity().deoptimizeArgumentsOnInteractionAtPath(e,t,s)}deoptimizePath(e){this.getObjectEntity().deoptimizePath(e)}getLiteralValueAtPath(e,t,s){return this.getObjectEntity().getLiteralValueAtPath(e,t,s)}getReturnExpressionWhenCalledAtPath(e,t,s,i){return this.getObjectEntity().getReturnExpressionWhenCalledAtPath(e,t,s,i)}hasEffectsOnInteractionAtPath(e,t,s){return this.getObjectEntity().hasEffectsOnInteractionAtPath(e,t,s)}applyDeoptimizations(){this.deoptimized=!0;let e=!1;for(let t=0;t<this.elements.length;t++){const s=this.elements[t];s&&(e||s instanceof zn)&&(e=!0,s.deoptimizePath(q))}this.scope.context.requestTreeshakingPass()}getObjectEntity(){if(this.objectEntity!==null)return this.objectEntity;const e=[{key:"length",kind:"init",property:fn}];let t=!1;for(let s=0;s<this.elements.length;s++){const i=this.elements[s];t||i instanceof zn?i&&(t=!0,e.unshift({key:Dn,kind:"init",property:i})):i?e.push({key:String(s),kind:"init",property:i}):e.push({key:String(s),kind:"init",property:Jn})}return this.objectEntity=new Ve(e,ri)}}class El extends z{addExportedVariables(e,t){for(const s of this.elements)s==null||s.addExportedVariables(e,t)}declare(e){const t=[];for(const s of this.elements)s!==null&&t.push(...s.declare(e,X));return t}deoptimizePath(){for(const e of this.elements)e==null||e.deoptimizePath(W)}hasEffectsOnInteractionAtPath(e,t,s){for(const i of this.elements)if(i!=null&&i.hasEffectsOnInteractionAtPath(W,t,s))return!0;return!1}markDeclarationReached(){for(const e of this.elements)e==null||e.markDeclarationReached()}}const Al="ArrowFunctionExpression",qe="ExpressionStatement",wl="Identifier",Vs="Program";class Qe extends Ut{constructor(e,t,s,i,r){super(e),this.init=s,this.calledFromTryStatement=!1,this.additionalInitializers=null,this.expressionsToBeDeoptimized=[],this.declarations=t?[t]:[],this.deoptimizationTracker=i.deoptimizationTracker,this.module=i.module,this.kind=r}addDeclaration(e,t){this.declarations.push(e),this.markInitializersForDeoptimization().push(t)}consolidateInitializers(){if(this.additionalInitializers){for(const e of this.additionalInitializers)e.deoptimizePath(q);this.additionalInitializers=null}}deoptimizeArgumentsOnInteractionAtPath(e,t,s){this.isReassigned?St(e):s.withTrackedEntityAtPath(t,this.init,()=>this.init.deoptimizeArgumentsOnInteractionAtPath(e,t,s),void 0)}deoptimizePath(e){if(!this.isReassigned&&!this.deoptimizationTracker.trackEntityAtPathAndGetIfTracked(e,this))if(e.length===0){this.isReassigned=!0;const t=this.expressionsToBeDeoptimized;this.expressionsToBeDeoptimized=pe;for(const s of t)s.deoptimizeCache();this.init.deoptimizePath(q)}else this.init.deoptimizePath(e)}getLiteralValueAtPath(e,t,s){return this.isReassigned?ue:t.withTrackedEntityAtPath(e,this.init,()=>(this.expressionsToBeDeoptimized.push(s),this.init.getLiteralValueAtPath(e,t,s)),ue)}getReturnExpressionWhenCalledAtPath(e,t,s,i){return this.isReassigned?me:s.withTrackedEntityAtPath(e,this.init,()=>(this.expressionsToBeDeoptimized.push(i),this.init.getReturnExpressionWhenCalledAtPath(e,t,s,i)),me)}hasEffectsOnInteractionAtPath(e,t,s){switch(t.type){case 0:return!!this.isReassigned||!s.accessed.trackEntityAtPathAndGetIfTracked(e,this)&&this.init.hasEffectsOnInteractionAtPath(e,t,s);case 1:return!!this.included||e.length!==0&&(!!this.isReassigned||!s.assigned.trackEntityAtPathAndGetIfTracked(e,this)&&this.init.hasEffectsOnInteractionAtPath(e,t,s));case 2:return!!this.isReassigned||!(t.withNew?s.instantiated:s.called).trackEntityAtPathAndGetIfTracked(e,t.args,this)&&this.init.hasEffectsOnInteractionAtPath(e,t,s)}}include(){if(!this.included){super.include();for(const e of this.declarations){e.included||e.include(ir(),!1);let t=e.parent;for(;!t.included&&(t.included=!0,t.type!==Vs);)t=t.parent}}}includeCallArguments(e,t){if(this.isReassigned||e.includedCallArguments.has(this.init))for(const s of t)s.include(e,!1);else e.includedCallArguments.add(this.init),this.init.includeCallArguments(e,t),e.includedCallArguments.delete(this.init)}markCalledFromTryStatement(){this.calledFromTryStatement=!0}markInitializersForDeoptimization(){return this.additionalInitializers===null&&(this.additionalInitializers=[this.init],this.init=X,this.isReassigned=!0),this.additionalInitializers}}const Lo=pe,ch=new Set([ne]),uh=new ln,dh=new Set([X]);class vl extends Qe{constructor(e,t,s){super(e,t,X,s,"parameter"),this.deoptimizationInteractions=[],this.deoptimizations=new ln,this.deoptimizedFields=new Set,this.entitiesToBeDeoptimized=new Set}addEntityToBeDeoptimized(e){if(e===X){if(!this.entitiesToBeDeoptimized.has(X)){this.entitiesToBeDeoptimized.add(X);for(const{interaction:t}of this.deoptimizationInteractions)St(t);this.deoptimizationInteractions=Lo}}else if(this.deoptimizedFields.has(ne))e.deoptimizePath(q);else if(!this.entitiesToBeDeoptimized.has(e)){this.entitiesToBeDeoptimized.add(e);for(const t of this.deoptimizedFields)e.deoptimizePath([t]);for(const{interaction:t,path:s}of this.deoptimizationInteractions)e.deoptimizeArgumentsOnInteractionAtPath(t,s,be)}}deoptimizeArgumentsOnInteractionAtPath(e,t){if(t.length>=2||this.entitiesToBeDeoptimized.has(X)||this.deoptimizationInteractions.length>=20||t.length===1&&(this.deoptimizedFields.has(ne)||e.type===2&&this.deoptimizedFields.has(t[0])))St(e);else if(!this.deoptimizations.trackEntityAtPathAndGetIfTracked(t,e.args)){for(const s of this.entitiesToBeDeoptimized)s.deoptimizeArgumentsOnInteractionAtPath(e,t,be);this.entitiesToBeDeoptimized.has(X)||this.deoptimizationInteractions.push({interaction:e,path:t})}}deoptimizePath(e){if(e.length===0||this.deoptimizedFields.has(ne))return;const t=e[0];if(!this.deoptimizedFields.has(t)){this.deoptimizedFields.add(t);for(const s of this.entitiesToBeDeoptimized)s.deoptimizePath([t]);t===ne&&(this.deoptimizationInteractions=Lo,this.deoptimizations=uh,this.deoptimizedFields=ch,this.entitiesToBeDeoptimized=dh)}}getReturnExpressionWhenCalledAtPath(e){return e.length===0?this.deoptimizePath(q):this.deoptimizedFields.has(e[0])||this.deoptimizePath([e[0]]),me}}const hh="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_$",Do=64;function Fs(n){let e="";do{const t=n%Do;n=n/Do|0,e=hh[t]+e}while(n!==0);return e}function Ye(n,e,t){let s=n,i=1;for(;e.has(s)||ni.has(s)||t!=null&&t.has(s);)s=`${n}$${Fs(i++)}`;return e.add(s),s}class kl{constructor(){this.children=[],this.variables=new Map}addDeclaration(e,t,s,i){var l;const r=e.name,o=((l=this.hoistedVariables)==null?void 0:l.get(r))||this.variables.get(r);if(o){const c=o.kind;if(i==="var"&&c==="var")return o.addDeclaration(e,s),o;t.error(pn(r),e.start)}const a=new Qe(e.name,e,s,t,i);return this.variables.set(r,a),a}addHoistedVariable(e,t){(this.hoistedVariables||(this.hoistedVariables=new Map)).set(e,t)}contains(e){return this.variables.has(e)}findVariable(e){throw new Error("Internal Error: findVariable needs to be implemented by a subclass")}}class Fe extends kl{constructor(e,t){super(),this.parent=e,this.context=t,this.accessedOutsideVariables=new Map,e.children.push(this)}addAccessedDynamicImport(e){(this.accessedDynamicImports||(this.accessedDynamicImports=new Set)).add(e),this.parent instanceof Fe&&this.parent.addAccessedDynamicImport(e)}addAccessedGlobals(e,t){const s=t.get(this)||new Set;for(const i of e)s.add(i);t.set(this,s),this.parent instanceof Fe&&this.parent.addAccessedGlobals(e,t)}addNamespaceMemberAccess(e,t){this.accessedOutsideVariables.set(e,t),this.parent.addNamespaceMemberAccess(e,t)}addReturnExpression(e){this.parent instanceof Fe&&this.parent.addReturnExpression(e)}addUsedOutsideNames(e,t,s,i){for(const o of this.accessedOutsideVariables.values())o.included&&(e.add(o.getBaseVariableName()),t==="system"&&s.has(o)&&e.add("exports"));const r=i.get(this);if(r)for(const o of r)e.add(o)}contains(e){return this.variables.has(e)||this.parent.contains(e)}deconflict(e,t,s){const i=new Set;if(this.addUsedOutsideNames(i,e,t,s),this.accessedDynamicImports)for(const r of this.accessedDynamicImports)r.inlineNamespace&&i.add(r.inlineNamespace.getBaseVariableName());for(const[r,o]of this.variables)(o.included||o.alwaysRendered)&&o.setRenderNames(null,Ye(r,i,o.forbiddenNames));for(const r of this.children)r.deconflict(e,t,s)}findLexicalBoundary(){return this.parent.findLexicalBoundary()}findVariable(e){const t=this.variables.get(e)||this.accessedOutsideVariables.get(e);if(t)return t;const s=this.parent.findVariable(e);return this.accessedOutsideVariables.set(e,s),s}}class ph extends Fe{constructor(e){super(e,e.context),this.parent=e}addDeclaration(e,t,s,i){var r;if(i==="var"){const o=e.name,a=((r=this.hoistedVariables)==null?void 0:r.get(o))||this.variables.get(o);if(a){const c=a.kind;if(c==="parameter"&&a.declarations[0].parent.type==="CatchClause"){const d=this.parent.parent.addDeclaration(e,t,Jn,i);return a.renderLikeHoisted(d),this.addHoistedVariable(o,d),d}return c==="var"?(a.addDeclaration(e,s),a):t.error(pn(o),e.start)}const l=this.parent.parent.addDeclaration(e,t,s,i);return l.markInitializersForDeoptimization(),this.addHoistedVariable(o,l),l}return super.addDeclaration(e,t,s,i)}}class fh extends Fe{constructor(e){super(e,e.context)}addDeclaration(e,t,s,i){var l;const r=e.name,o=((l=this.hoistedVariables)==null?void 0:l.get(r))||this.variables.get(r);if(o){const c=o.kind;if(!(i!=="var"&&i!=="function"||c!=="var"&&c!=="function"&&c!=="parameter"))return o.addDeclaration(e,s),o;t.error(pn(r),e.start)}const a=new Qe(e.name,e,s,t,i);return this.variables.set(r,a),a}}class xl extends Fe{constructor(e,t){super(e,e.context),this.parameters=[],this.hasRest=!1,this.bodyScope=t?new ph(this):new fh(this)}addParameterDeclaration(e){const{name:t,start:s}=e;if(this.variables.get(t))return this.context.error(function(r){return{code:"DUPLICATE_ARGUMENT_NAME",message:`Duplicate argument name "${r}"`}}(t),s);const i=new vl(t,e,this.context);return this.variables.set(t,i),this.bodyScope.addHoistedVariable(t,i),i}addParameterVariables(e,t){this.parameters=e;for(const s of e)for(const i of s)i.alwaysRendered=!0;this.hasRest=t}includeCallArguments(e,t){let s=!1,i=!1;const r=this.hasRest&&this.parameters[this.parameters.length-1];for(const o of t)if(o instanceof zn){for(const a of t)a.include(e,!1);break}for(let o=t.length-1;o>=0;o--){const a=this.parameters[o]||r,l=t[o];if(a)if(s=!1,a.length===0)i=!0;else for(const c of a)c.included&&(i=!0),c.calledFromTryStatement&&(s=!0);!i&&l.shouldBeIncluded(e)&&(i=!0),i&&l.include(e,s)}}}class Il extends xl{constructor(){super(...arguments),this.returnExpression=null,this.returnExpressions=[]}addReturnExpression(e){this.returnExpressions.push(e)}getReturnExpression(){return this.returnExpression===null&&this.updateReturnExpression(),this.returnExpression}updateReturnExpression(){if(this.returnExpressions.length===1)this.returnExpression=this.returnExpressions[0];else{this.returnExpression=X;for(const e of this.returnExpressions)e.deoptimizePath(q)}}}function $l(n,e){if(n.type==="MemberExpression")return!n.computed&&$l(n.object,n);if(n.type==="Identifier"){if(!e)return!0;switch(e.type){case"MemberExpression":return e.computed||n===e.object;case"MethodDefinition":return e.computed;case"PropertyDefinition":case"Property":return e.computed||n===e.value;case"ExportSpecifier":case"ImportSpecifier":return n===e.local;case"LabeledStatement":case"BreakStatement":case"ContinueStatement":return!1;default:return!0}}return!1}const ar=Symbol("PureFunction"),Xe=()=>{},ie=Symbol("Value Properties"),mn=()=>Ya,Sl=()=>!1,Nl=()=>!0,Ze={deoptimizeArgumentsOnCall:Xe,getLiteralValue:mn,hasEffectsWhenCalled:Sl},ot={deoptimizeArgumentsOnCall:Xe,getLiteralValue:mn,hasEffectsWhenCalled:Nl},N={__proto__:null,[ie]:ot},B={__proto__:null,[ie]:Ze},Bo={__proto__:null,[ie]:{deoptimizeArgumentsOnCall:Xe,getLiteralValue:mn,hasEffectsWhenCalled({args:n},e){const[t,s]=n;return!(s instanceof Ue)||s.hasEffectsOnInteractionAtPath(q,ei,e)}}},Mi={__proto__:null,[ie]:{deoptimizeArgumentsOnCall({args:[,n]}){n==null||n.deoptimizePath(q)},getLiteralValue:mn,hasEffectsWhenCalled:({args:n},e)=>n.length<=1||n[1].hasEffectsOnInteractionAtPath(md,Rr,e)}},u={__proto__:null,[ie]:ot,prototype:N},Ge={__proto__:null,[ie]:Ze,prototype:N},ds={__proto__:null,[ie]:{deoptimizeArgumentsOnCall:Xe,getLiteralValue:mn,hasEffectsWhenCalled:({args:n})=>n.length>1&&!(n[1]instanceof bl)},prototype:N},nt={__proto__:null,[ie]:Ze,from:N,of:B,prototype:N},st={__proto__:null,[ie]:Ze,supportedLocalesOf:Ge},lr={global:N,globalThis:N,self:N,window:N,__proto__:null,[ie]:ot,Array:{__proto__:null,[ie]:ot,from:N,isArray:B,of:B,prototype:N},ArrayBuffer:{__proto__:null,[ie]:Ze,isView:B,prototype:N},Atomics:N,BigInt:u,BigInt64Array:u,BigUint64Array:u,Boolean:Ge,constructor:u,DataView:Ge,Date:{__proto__:null,[ie]:Ze,now:B,parse:B,prototype:N,UTC:B},decodeURI:B,decodeURIComponent:B,encodeURI:B,encodeURIComponent:B,Error:Ge,escape:B,eval:N,EvalError:Ge,Float32Array:nt,Float64Array:nt,Function:u,hasOwnProperty:N,Infinity:N,Int16Array:nt,Int32Array:nt,Int8Array:nt,isFinite:B,isNaN:B,isPrototypeOf:N,JSON:N,Map:ds,Math:{__proto__:null,[ie]:ot,abs:B,acos:B,acosh:B,asin:B,asinh:B,atan:B,atan2:B,atanh:B,cbrt:B,ceil:B,clz32:B,cos:B,cosh:B,exp:B,expm1:B,floor:B,fround:B,hypot:B,imul:B,log:B,log10:B,log1p:B,log2:B,max:B,min:B,pow:B,random:B,round:B,sign:B,sin:B,sinh:B,sqrt:B,tan:B,tanh:B,trunc:B},NaN:N,Number:{__proto__:null,[ie]:Ze,isFinite:B,isInteger:B,isNaN:B,isSafeInteger:B,parseFloat:B,parseInt:B,prototype:N},Object:{__proto__:null,[ie]:Ze,create:B,defineProperty:Mi,defineProperties:Mi,freeze:Mi,getOwnPropertyDescriptor:B,getOwnPropertyDescriptors:B,getOwnPropertyNames:B,getOwnPropertySymbols:B,getPrototypeOf:B,hasOwn:B,is:B,isExtensible:B,isFrozen:B,isSealed:B,keys:B,fromEntries:N,entries:Bo,values:Bo,prototype:N},parseFloat:B,parseInt:B,Promise:{__proto__:null,[ie]:ot,all:N,allSettled:N,any:N,prototype:N,race:N,reject:N,resolve:N},propertyIsEnumerable:N,Proxy:N,RangeError:Ge,ReferenceError:Ge,Reflect:N,RegExp:Ge,Set:ds,SharedArrayBuffer:u,String:{__proto__:null,[ie]:Ze,fromCharCode:B,fromCodePoint:B,prototype:N,raw:B},Symbol:{__proto__:null,[ie]:Ze,for:B,keyFor:B,prototype:N,toStringTag:{__proto__:null,[ie]:{deoptimizeArgumentsOnCall:Xe,getLiteralValue:()=>Cr,hasEffectsWhenCalled:Nl}}},SyntaxError:Ge,toLocaleString:N,toString:N,TypeError:Ge,Uint16Array:nt,Uint32Array:nt,Uint8Array:nt,Uint8ClampedArray:nt,unescape:B,URIError:Ge,valueOf:N,WeakMap:ds,WeakSet:ds,clearInterval:u,clearTimeout:u,console:{__proto__:null,[ie]:ot,assert:u,clear:u,count:u,countReset:u,debug:u,dir:u,dirxml:u,error:u,exception:u,group:u,groupCollapsed:u,groupEnd:u,info:u,log:u,table:u,time:u,timeEnd:u,timeLog:u,trace:u,warn:u},Intl:{__proto__:null,[ie]:ot,Collator:st,DateTimeFormat:st,DisplayNames:st,ListFormat:st,Locale:st,NumberFormat:st,PluralRules:st,RelativeTimeFormat:st,Segmenter:st},setInterval:u,setTimeout:u,TextDecoder:u,TextEncoder:u,URL:{__proto__:null,[ie]:ot,prototype:N,canParse:B},URLSearchParams:u,AbortController:u,AbortSignal:u,addEventListener:N,alert:N,AnalyserNode:u,Animation:u,AnimationEvent:u,applicationCache:N,ApplicationCache:u,ApplicationCacheErrorEvent:u,atob:N,Attr:u,Audio:u,AudioBuffer:u,AudioBufferSourceNode:u,AudioContext:u,AudioDestinationNode:u,AudioListener:u,AudioNode:u,AudioParam:u,AudioProcessingEvent:u,AudioScheduledSourceNode:u,AudioWorkletNode:u,BarProp:u,BaseAudioContext:u,BatteryManager:u,BeforeUnloadEvent:u,BiquadFilterNode:u,Blob:u,BlobEvent:u,blur:N,BroadcastChannel:u,btoa:N,ByteLengthQueuingStrategy:u,Cache:u,caches:N,CacheStorage:u,cancelAnimationFrame:N,cancelIdleCallback:N,CanvasCaptureMediaStreamTrack:u,CanvasGradient:u,CanvasPattern:u,CanvasRenderingContext2D:u,ChannelMergerNode:u,ChannelSplitterNode:u,CharacterData:u,clientInformation:N,ClipboardEvent:u,close:N,closed:N,CloseEvent:u,Comment:u,CompositionEvent:u,confirm:N,ConstantSourceNode:u,ConvolverNode:u,CountQueuingStrategy:u,createImageBitmap:N,Credential:u,CredentialsContainer:u,crypto:N,Crypto:u,CryptoKey:u,CSS:u,CSSConditionRule:u,CSSFontFaceRule:u,CSSGroupingRule:u,CSSImportRule:u,CSSKeyframeRule:u,CSSKeyframesRule:u,CSSMediaRule:u,CSSNamespaceRule:u,CSSPageRule:u,CSSRule:u,CSSRuleList:u,CSSStyleDeclaration:u,CSSStyleRule:u,CSSStyleSheet:u,CSSSupportsRule:u,CustomElementRegistry:u,customElements:N,CustomEvent:{__proto__:null,[ie]:{deoptimizeArgumentsOnCall({args:n}){var e;(e=n[2])==null||e.deoptimizePath(["detail"])},getLiteralValue:mn,hasEffectsWhenCalled:Sl},prototype:N},DataTransfer:u,DataTransferItem:u,DataTransferItemList:u,defaultstatus:N,defaultStatus:N,DelayNode:u,DeviceMotionEvent:u,DeviceOrientationEvent:u,devicePixelRatio:N,dispatchEvent:N,document:N,Document:u,DocumentFragment:u,DocumentType:u,DOMError:u,DOMException:u,DOMImplementation:u,DOMMatrix:u,DOMMatrixReadOnly:u,DOMParser:u,DOMPoint:u,DOMPointReadOnly:u,DOMQuad:u,DOMRect:u,DOMRectReadOnly:u,DOMStringList:u,DOMStringMap:u,DOMTokenList:u,DragEvent:u,DynamicsCompressorNode:u,Element:u,ErrorEvent:u,Event:u,EventSource:u,EventTarget:u,external:N,fetch:N,File:u,FileList:u,FileReader:u,find:N,focus:N,FocusEvent:u,FontFace:u,FontFaceSetLoadEvent:u,FormData:u,frames:N,GainNode:u,Gamepad:u,GamepadButton:u,GamepadEvent:u,getComputedStyle:N,getSelection:N,HashChangeEvent:u,Headers:u,history:N,History:u,HTMLAllCollection:u,HTMLAnchorElement:u,HTMLAreaElement:u,HTMLAudioElement:u,HTMLBaseElement:u,HTMLBodyElement:u,HTMLBRElement:u,HTMLButtonElement:u,HTMLCanvasElement:u,HTMLCollection:u,HTMLContentElement:u,HTMLDataElement:u,HTMLDataListElement:u,HTMLDetailsElement:u,HTMLDialogElement:u,HTMLDirectoryElement:u,HTMLDivElement:u,HTMLDListElement:u,HTMLDocument:u,HTMLElement:u,HTMLEmbedElement:u,HTMLFieldSetElement:u,HTMLFontElement:u,HTMLFormControlsCollection:u,HTMLFormElement:u,HTMLFrameElement:u,HTMLFrameSetElement:u,HTMLHeadElement:u,HTMLHeadingElement:u,HTMLHRElement:u,HTMLHtmlElement:u,HTMLIFrameElement:u,HTMLImageElement:u,HTMLInputElement:u,HTMLLabelElement:u,HTMLLegendElement:u,HTMLLIElement:u,HTMLLinkElement:u,HTMLMapElement:u,HTMLMarqueeElement:u,HTMLMediaElement:u,HTMLMenuElement:u,HTMLMetaElement:u,HTMLMeterElement:u,HTMLModElement:u,HTMLObjectElement:u,HTMLOListElement:u,HTMLOptGroupElement:u,HTMLOptionElement:u,HTMLOptionsCollection:u,HTMLOutputElement:u,HTMLParagraphElement:u,HTMLParamElement:u,HTMLPictureElement:u,HTMLPreElement:u,HTMLProgressElement:u,HTMLQuoteElement:u,HTMLScriptElement:u,HTMLSelectElement:u,HTMLShadowElement:u,HTMLSlotElement:u,HTMLSourceElement:u,HTMLSpanElement:u,HTMLStyleElement:u,HTMLTableCaptionElement:u,HTMLTableCellElement:u,HTMLTableColElement:u,HTMLTableElement:u,HTMLTableRowElement:u,HTMLTableSectionElement:u,HTMLTemplateElement:u,HTMLTextAreaElement:u,HTMLTimeElement:u,HTMLTitleElement:u,HTMLTrackElement:u,HTMLUListElement:u,HTMLUnknownElement:u,HTMLVideoElement:u,IDBCursor:u,IDBCursorWithValue:u,IDBDatabase:u,IDBFactory:u,IDBIndex:u,IDBKeyRange:u,IDBObjectStore:u,IDBOpenDBRequest:u,IDBRequest:u,IDBTransaction:u,IDBVersionChangeEvent:u,IdleDeadline:u,IIRFilterNode:u,Image:u,ImageBitmap:u,ImageBitmapRenderingContext:u,ImageCapture:u,ImageData:u,indexedDB:N,innerHeight:N,innerWidth:N,InputEvent:u,IntersectionObserver:u,IntersectionObserverEntry:u,isSecureContext:N,KeyboardEvent:u,KeyframeEffect:u,length:N,localStorage:N,location:N,Location:u,locationbar:N,matchMedia:N,MediaDeviceInfo:u,MediaDevices:u,MediaElementAudioSourceNode:u,MediaEncryptedEvent:u,MediaError:u,MediaKeyMessageEvent:u,MediaKeySession:u,MediaKeyStatusMap:u,MediaKeySystemAccess:u,MediaList:u,MediaQueryList:u,MediaQueryListEvent:u,MediaRecorder:u,MediaSettingsRange:u,MediaSource:u,MediaStream:u,MediaStreamAudioDestinationNode:u,MediaStreamAudioSourceNode:u,MediaStreamEvent:u,MediaStreamTrack:u,MediaStreamTrackEvent:u,menubar:N,MessageChannel:u,MessageEvent:u,MessagePort:u,MIDIAccess:u,MIDIConnectionEvent:u,MIDIInput:u,MIDIInputMap:u,MIDIMessageEvent:u,MIDIOutput:u,MIDIOutputMap:u,MIDIPort:u,MimeType:u,MimeTypeArray:u,MouseEvent:u,moveBy:N,moveTo:N,MutationEvent:u,MutationObserver:u,MutationRecord:u,name:N,NamedNodeMap:u,NavigationPreloadManager:u,navigator:N,Navigator:u,NetworkInformation:u,Node:u,NodeFilter:N,NodeIterator:u,NodeList:u,Notification:u,OfflineAudioCompletionEvent:u,OfflineAudioContext:u,offscreenBuffering:N,OffscreenCanvas:u,open:N,openDatabase:N,Option:u,origin:N,OscillatorNode:u,outerHeight:N,outerWidth:N,PageTransitionEvent:u,pageXOffset:N,pageYOffset:N,PannerNode:u,parent:N,Path2D:u,PaymentAddress:u,PaymentRequest:u,PaymentRequestUpdateEvent:u,PaymentResponse:u,performance:N,Performance:u,PerformanceEntry:u,PerformanceLongTaskTiming:u,PerformanceMark:u,PerformanceMeasure:u,PerformanceNavigation:u,PerformanceNavigationTiming:u,PerformanceObserver:u,PerformanceObserverEntryList:u,PerformancePaintTiming:u,PerformanceResourceTiming:u,PerformanceTiming:u,PeriodicWave:u,Permissions:u,PermissionStatus:u,personalbar:N,PhotoCapabilities:u,Plugin:u,PluginArray:u,PointerEvent:u,PopStateEvent:u,postMessage:N,Presentation:u,PresentationAvailability:u,PresentationConnection:u,PresentationConnectionAvailableEvent:u,PresentationConnectionCloseEvent:u,PresentationConnectionList:u,PresentationReceiver:u,PresentationRequest:u,print:N,ProcessingInstruction:u,ProgressEvent:u,PromiseRejectionEvent:u,prompt:N,PushManager:u,PushSubscription:u,PushSubscriptionOptions:u,queueMicrotask:N,RadioNodeList:u,Range:u,ReadableStream:u,RemotePlayback:u,removeEventListener:N,Request:u,requestAnimationFrame:N,requestIdleCallback:N,resizeBy:N,ResizeObserver:u,ResizeObserverEntry:u,resizeTo:N,Response:u,RTCCertificate:u,RTCDataChannel:u,RTCDataChannelEvent:u,RTCDtlsTransport:u,RTCIceCandidate:u,RTCIceTransport:u,RTCPeerConnection:u,RTCPeerConnectionIceEvent:u,RTCRtpReceiver:u,RTCRtpSender:u,RTCSctpTransport:u,RTCSessionDescription:u,RTCStatsReport:u,RTCTrackEvent:u,screen:N,Screen:u,screenLeft:N,ScreenOrientation:u,screenTop:N,screenX:N,screenY:N,ScriptProcessorNode:u,scroll:N,scrollbars:N,scrollBy:N,scrollTo:N,scrollX:N,scrollY:N,SecurityPolicyViolationEvent:u,Selection:u,ServiceWorker:u,ServiceWorkerContainer:u,ServiceWorkerRegistration:u,sessionStorage:N,ShadowRoot:u,SharedWorker:u,SourceBuffer:u,SourceBufferList:u,speechSynthesis:N,SpeechSynthesisEvent:u,SpeechSynthesisUtterance:u,StaticRange:u,status:N,statusbar:N,StereoPannerNode:u,stop:N,Storage:u,StorageEvent:u,StorageManager:u,styleMedia:N,StyleSheet:u,StyleSheetList:u,SubtleCrypto:u,SVGAElement:u,SVGAngle:u,SVGAnimatedAngle:u,SVGAnimatedBoolean:u,SVGAnimatedEnumeration:u,SVGAnimatedInteger:u,SVGAnimatedLength:u,SVGAnimatedLengthList:u,SVGAnimatedNumber:u,SVGAnimatedNumberList:u,SVGAnimatedPreserveAspectRatio:u,SVGAnimatedRect:u,SVGAnimatedString:u,SVGAnimatedTransformList:u,SVGAnimateElement:u,SVGAnimateMotionElement:u,SVGAnimateTransformElement:u,SVGAnimationElement:u,SVGCircleElement:u,SVGClipPathElement:u,SVGComponentTransferFunctionElement:u,SVGDefsElement:u,SVGDescElement:u,SVGDiscardElement:u,SVGElement:u,SVGEllipseElement:u,SVGFEBlendElement:u,SVGFEColorMatrixElement:u,SVGFEComponentTransferElement:u,SVGFECompositeElement:u,SVGFEConvolveMatrixElement:u,SVGFEDiffuseLightingElement:u,SVGFEDisplacementMapElement:u,SVGFEDistantLightElement:u,SVGFEDropShadowElement:u,SVGFEFloodElement:u,SVGFEFuncAElement:u,SVGFEFuncBElement:u,SVGFEFuncGElement:u,SVGFEFuncRElement:u,SVGFEGaussianBlurElement:u,SVGFEImageElement:u,SVGFEMergeElement:u,SVGFEMergeNodeElement:u,SVGFEMorphologyElement:u,SVGFEOffsetElement:u,SVGFEPointLightElement:u,SVGFESpecularLightingElement:u,SVGFESpotLightElement:u,SVGFETileElement:u,SVGFETurbulenceElement:u,SVGFilterElement:u,SVGForeignObjectElement:u,SVGGElement:u,SVGGeometryElement:u,SVGGradientElement:u,SVGGraphicsElement:u,SVGImageElement:u,SVGLength:u,SVGLengthList:u,SVGLinearGradientElement:u,SVGLineElement:u,SVGMarkerElement:u,SVGMaskElement:u,SVGMatrix:u,SVGMetadataElement:u,SVGMPathElement:u,SVGNumber:u,SVGNumberList:u,SVGPathElement:u,SVGPatternElement:u,SVGPoint:u,SVGPointList:u,SVGPolygonElement:u,SVGPolylineElement:u,SVGPreserveAspectRatio:u,SVGRadialGradientElement:u,SVGRect:u,SVGRectElement:u,SVGScriptElement:u,SVGSetElement:u,SVGStopElement:u,SVGStringList:u,SVGStyleElement:u,SVGSVGElement:u,SVGSwitchElement:u,SVGSymbolElement:u,SVGTextContentElement:u,SVGTextElement:u,SVGTextPathElement:u,SVGTextPositioningElement:u,SVGTitleElement:u,SVGTransform:u,SVGTransformList:u,SVGTSpanElement:u,SVGUnitTypes:u,SVGUseElement:u,SVGViewElement:u,TaskAttributionTiming:u,Text:u,TextEvent:u,TextMetrics:u,TextTrack:u,TextTrackCue:u,TextTrackCueList:u,TextTrackList:u,TimeRanges:u,toolbar:N,top:N,Touch:u,TouchEvent:u,TouchList:u,TrackEvent:u,TransitionEvent:u,TreeWalker:u,UIEvent:u,ValidityState:u,visualViewport:N,VisualViewport:u,VTTCue:u,WaveShaperNode:u,WebAssembly:N,WebGL2RenderingContext:u,WebGLActiveInfo:u,WebGLBuffer:u,WebGLContextEvent:u,WebGLFramebuffer:u,WebGLProgram:u,WebGLQuery:u,WebGLRenderbuffer:u,WebGLRenderingContext:u,WebGLSampler:u,WebGLShader:u,WebGLShaderPrecisionFormat:u,WebGLSync:u,WebGLTexture:u,WebGLTransformFeedback:u,WebGLUniformLocation:u,WebGLVertexArrayObject:u,WebSocket:u,WheelEvent:u,Window:u,Worker:u,WritableStream:u,XMLDocument:u,XMLHttpRequest:u,XMLHttpRequestEventTarget:u,XMLHttpRequestUpload:u,XMLSerializer:u,XPathEvaluator:u,XPathExpression:u,XPathResult:u,XSLTProcessor:u};for(const n of["window","global","self","globalThis"])lr[n]=lr;function qt(n){let e=lr;for(const t of n)if(typeof t!="string"||(e=e[t],!e))return null;return e[ie]}class zr extends Ut{constructor(){super(...arguments),this.isReassigned=!0}deoptimizeArgumentsOnInteractionAtPath(e,t,s){switch(e.type){case 0:case 1:return void(qt([this.name,...t].slice(0,-1))||super.deoptimizeArgumentsOnInteractionAtPath(e,t,s));case 2:{const i=qt([this.name,...t]);return void(i?i.deoptimizeArgumentsOnCall(e):super.deoptimizeArgumentsOnInteractionAtPath(e,t,s))}}}getLiteralValueAtPath(e,t,s){const i=qt([this.name,...e]);return i?i.getLiteralValue():ue}hasEffectsOnInteractionAtPath(e,t,s){switch(t.type){case 0:return e.length===0?this.name!=="undefined"&&!qt([this.name]):!qt([this.name,...e].slice(0,-1));case 1:return!0;case 2:{const i=qt([this.name,...e]);return!i||i.hasEffectsWhenCalled(t,s)}}}}const mh={__proto__:null,class:!0,const:!0,let:!0,var:!0};class se extends z{constructor(){super(...arguments),this.variable=null}get isTDZAccess(){return ee(this.flags,4)?ee(this.flags,8):null}set isTDZAccess(e){this.flags=te(this.flags,4,!0),this.flags=te(this.flags,8,e)}addExportedVariables(e,t){t.has(this.variable)&&e.push(this.variable)}bind(){!this.variable&&$l(this,this.parent)&&(this.variable=this.scope.findVariable(this.name),this.variable.addReference(this))}declare(e,t){let s;const{treeshake:i}=this.scope.context.options;switch(e){case"var":s=this.scope.addDeclaration(this,this.scope.context,t,e),i&&i.correctVarValueBeforeDeclaration&&s.markInitializersForDeoptimization();break;case"function":case"let":case"const":case"class":s=this.scope.addDeclaration(this,this.scope.context,t,e);break;case"parameter":s=this.scope.addParameterDeclaration(this);break;default:throw new Error(`Internal Error: Unexpected identifier kind ${e}.`)}return[this.variable=s]}deoptimizeArgumentsOnInteractionAtPath(e,t,s){this.variable.deoptimizeArgumentsOnInteractionAtPath(e,t,s)}deoptimizePath(e){var t;e.length!==0||this.scope.contains(this.name)||this.disallowImportReassignment(),(t=this.variable)==null||t.deoptimizePath(e)}getLiteralValueAtPath(e,t,s){return this.getVariableRespectingTDZ().getLiteralValueAtPath(e,t,s)}getReturnExpressionWhenCalledAtPath(e,t,s,i){const[r,o]=this.getVariableRespectingTDZ().getReturnExpressionWhenCalledAtPath(e,t,s,i);return[r,o||this.isPureFunction(e)]}hasEffects(e){return this.deoptimized||this.applyDeoptimizations(),!(!this.isPossibleTDZ()||this.variable.kind==="var")||this.scope.context.options.treeshake.unknownGlobalSideEffects&&this.variable instanceof zr&&!this.isPureFunction(W)&&this.variable.hasEffectsOnInteractionAtPath(W,ei,e)}hasEffectsOnInteractionAtPath(e,t,s){switch(t.type){case 0:return this.variable!==null&&!this.isPureFunction(e)&&this.getVariableRespectingTDZ().hasEffectsOnInteractionAtPath(e,t,s);case 1:return(e.length>0?this.getVariableRespectingTDZ():this.variable).hasEffectsOnInteractionAtPath(e,t,s);case 2:return!this.isPureFunction(e)&&this.getVariableRespectingTDZ().hasEffectsOnInteractionAtPath(e,t,s)}}include(){this.deoptimized||this.applyDeoptimizations(),this.included||(this.included=!0,this.variable!==null&&this.scope.context.includeVariableInModule(this.variable))}includeCallArguments(e,t){this.variable.includeCallArguments(e,t)}isPossibleTDZ(){const e=this.isTDZAccess;if(e!==null)return e;if(!(this.variable instanceof Qe&&this.variable.kind&&this.variable.kind in mh&&this.variable.module===this.scope.context.module))return this.isTDZAccess=!1;let t;return this.variable.declarations&&this.variable.declarations.length===1&&(t=this.variable.declarations[0])&&this.start<t.start&&_o(this)===_o(t)||!this.variable.initReached&&this.scope.context.module.isExecuted?this.isTDZAccess=!0:this.isTDZAccess=!1}markDeclarationReached(){this.variable.initReached=!0}render(e,{snippets:{getPropertyAccess:t},useOriginalName:s},{renderedParentType:i,isCalleeOfRenderedParent:r,isShorthandProperty:o}=Ne){if(this.variable){const a=this.variable.getName(t,s);a!==this.name&&(e.overwrite(this.start,this.end,a,{contentOnly:!0,storeName:!0}),o&&e.prependRight(this.start,`${this.name}: `)),a==="eval"&&i==="CallExpression"&&r&&e.appendRight(this.start,"0, ")}}disallowImportReassignment(){return this.scope.context.error(pl(this.name,this.scope.context.module.id),this.start)}applyDeoptimizations(){this.deoptimized=!0,this.variable instanceof Qe&&(this.variable.consolidateInitializers(),this.scope.context.requestTreeshakingPass())}getVariableRespectingTDZ(){return this.isPossibleTDZ()?X:this.variable}isPureFunction(e){let t=this.scope.context.manualPureFunctions[this.name];for(const s of e){if(!t)return!1;if(t[ar])return!0;t=t[s]}return t==null?void 0:t[ar]}}function _o(n){for(;n&&!/^Program|Function/.test(n.type);)n=n.parent;return n}function Vr(n,e,t,s){e.remove(t,s),n.removeAnnotations(e)}const Pt={isNoStatement:!0};function Ie(n,e,t=0){let s,i;for(s=n.indexOf(e,t);;){if((t=n.indexOf("/",t))===-1||t>=s)return s;i=n.charCodeAt(++t),++t,(t=i===47?n.indexOf(`
`,t)+1:n.indexOf("*/",t)+2)>s&&(s=n.indexOf(e,t))}}const To=/\S/g;function At(n,e){return To.lastIndex=e,To.exec(n).index}function Vn(n){let e,t,s=0;for(e=n.indexOf(`
`,s);;){if(s=n.indexOf("/",s),s===-1||s>e)return[e,e+1];if(t=n.charCodeAt(s+1),t===47)return[s,e+1];s=n.indexOf("*/",s+2)+2,s>e&&(e=n.indexOf(`
`,s))}}function Fn(n,e,t,s,i){let r,o,a,l,c=n[0],d=!c.included||c.needsBoundaries;d&&(l=t+Vn(e.original.slice(t,c.start))[1]);for(let p=1;p<=n.length;p++)r=c,o=l,a=d,c=n[p],d=c!==void 0&&(!c.included||c.needsBoundaries),a||d?(l=r.end+Vn(e.original.slice(r.end,c===void 0?s:c.start))[1],r.included?a?r.render(e,i,{end:l,start:o}):r.render(e,i):Vr(r,e,o,l)):r.render(e,i)}function Pl(n,e,t,s){const i=[];let r,o,a,l,c=t-1;for(const d of n){for(r!==void 0&&(c=r.end+Ie(e.original.slice(r.end,d.start),",")),o=a=c+1+Vn(e.original.slice(c+1,d.start))[1];l=e.original.charCodeAt(o),l===32||l===9||l===10||l===13;)o++;r!==void 0&&i.push({contentEnd:a,end:o,node:r,separator:c,start:t}),r=d,t=o}return i.push({contentEnd:s,end:s,node:r,separator:null,start:t}),i}function hs(n,e,t){for(;;){const[s,i]=Vn(n.original.slice(e,t));if(s===-1)break;n.remove(e+s,e+=i)}}class Dt extends Fe{constructor(e){super(e,e.context)}addDeclaration(e,t,s,i){var r;if(i==="var"){const o=e.name,a=((r=this.hoistedVariables)==null?void 0:r.get(o))||this.variables.get(o);if(a)return a.kind==="var"||i==="var"&&a.kind==="parameter"?(a.addDeclaration(e,s),a):t.error(pn(o),e.start);const l=this.parent.addDeclaration(e,t,s,i);return l.markInitializersForDeoptimization(),this.addHoistedVariable(o,l),l}return super.addDeclaration(e,t,s,i)}}class Rt extends z{initialise(){var e,t;this.directive&&this.directive!=="use strict"&&this.parent.type===Vs&&this.scope.context.log(j,(e=this.directive,{code:"MODULE_LEVEL_DIRECTIVE",id:t=this.scope.context.module.id,message:`Module level directives cause errors when bundled, "${e}" in "${U(t)}" was ignored.`}),this.start)}removeAnnotations(e){this.expression.removeAnnotations(e)}render(e,t){super.render(e,t),e.original[this.end-1]!==";"&&e.appendLeft(this.end,";")}shouldBeIncluded(e){return this.directive&&this.directive!=="use strict"?this.parent.type!==Vs:super.shouldBeIncluded(e)}applyDeoptimizations(){}}class oi extends z{get deoptimizeBody(){return ee(this.flags,32768)}set deoptimizeBody(e){this.flags=te(this.flags,32768,e)}get directlyIncluded(){return ee(this.flags,16384)}set directlyIncluded(e){this.flags=te(this.flags,16384,e)}addImplicitReturnExpressionToScope(){const e=this.body[this.body.length-1];e&&e.type==="ReturnStatement"||this.scope.addReturnExpression(X)}createScope(e){this.scope=this.parent.preventChildBlockScope?e:new Dt(e)}hasEffects(e){if(this.deoptimizeBody)return!0;for(const t of this.body){if(e.brokenFlow)break;if(t.hasEffects(e))return!0}return!1}include(e,t){if(!this.deoptimizeBody||!this.directlyIncluded){this.included=!0,this.directlyIncluded=!0,this.deoptimizeBody&&(t=!0);for(const s of this.body)(t||s.shouldBeIncluded(e))&&s.include(e,t)}}initialise(){const e=this.body[0];this.deoptimizeBody=e instanceof Rt&&e.directive==="use asm"}render(e,t){this.body.length>0?Fn(this.body,e,this.start+1,this.end-1,t):super.render(e,t)}}class cr extends z{constructor(){super(...arguments),this.declarationInit=null}addExportedVariables(e,t){this.argument.addExportedVariables(e,t)}declare(e,t){return this.declarationInit=t,this.argument.declare(e,X)}deoptimizePath(e){e.length===0&&this.argument.deoptimizePath(W)}hasEffectsOnInteractionAtPath(e,t,s){return e.length>0||this.argument.hasEffectsOnInteractionAtPath(W,t,s)}markDeclarationReached(){this.argument.markDeclarationReached()}applyDeoptimizations(){this.deoptimized=!0,this.declarationInit!==null&&(this.declarationInit.deoptimizePath([ne,ne]),this.scope.context.requestTreeshakingPass())}}class Fr extends z{constructor(){super(...arguments),this.objectEntity=null}get async(){return ee(this.flags,256)}set async(e){this.flags=te(this.flags,256,e)}get deoptimizedReturn(){return ee(this.flags,512)}set deoptimizedReturn(e){this.flags=te(this.flags,512,e)}deoptimizeArgumentsOnInteractionAtPath(e,t,s){if(e.type===2){const{parameters:i}=this.scope,{args:r}=e;let o=!1;for(let a=0;a<r.length-1;a++){const l=this.params[a],c=r[a+1];o||l instanceof cr?(o=!0,c.deoptimizePath(q)):l instanceof se?(i[a][0].addEntityToBeDeoptimized(c),this.addArgumentToBeDeoptimized(c)):l?c.deoptimizePath(q):this.addArgumentToBeDeoptimized(c)}}else this.getObjectEntity().deoptimizeArgumentsOnInteractionAtPath(e,t,s)}deoptimizePath(e){if(this.getObjectEntity().deoptimizePath(e),e.length===1&&e[0]===ne){this.scope.getReturnExpression().deoptimizePath(q);for(const t of this.scope.parameters)for(const s of t)s.deoptimizePath(q)}}getLiteralValueAtPath(e,t,s){return this.getObjectEntity().getLiteralValueAtPath(e,t,s)}getReturnExpressionWhenCalledAtPath(e,t,s,i){return e.length>0?this.getObjectEntity().getReturnExpressionWhenCalledAtPath(e,t,s,i):this.async?(this.deoptimizedReturn||(this.deoptimizedReturn=!0,this.scope.getReturnExpression().deoptimizePath(q),this.scope.context.requestTreeshakingPass()),me):[this.scope.getReturnExpression(),!1]}hasEffectsOnInteractionAtPath(e,t,s){if(e.length>0||t.type!==2)return this.getObjectEntity().hasEffectsOnInteractionAtPath(e,t,s);if(this.annotationNoSideEffects)return!1;if(this.async){const{propertyReadSideEffects:i}=this.scope.context.options.treeshake,r=this.scope.getReturnExpression();if(r.hasEffectsOnInteractionAtPath(["then"],ti,s)||i&&(i==="always"||r.hasEffectsOnInteractionAtPath(["then"],ei,s)))return!0}for(const i of this.params)if(i.hasEffects(s))return!0;return!1}include(e,t){this.deoptimized||this.applyDeoptimizations(),this.included=!0;const{brokenFlow:s}=e;e.brokenFlow=!1,this.body.include(e,t),e.brokenFlow=s}includeCallArguments(e,t){this.scope.includeCallArguments(e,t)}initialise(){this.body instanceof oi?this.body.addImplicitReturnExpressionToScope():this.scope.addReturnExpression(this.body)}parseNode(e){const{body:t,params:s}=e,i=this.params=[],{scope:r}=this,{bodyScope:o,context:a}=r;for(const l of s)i.push(new(a.getNodeConstructor(l.type))(l,this,r,!1));r.addParameterVariables(i.map(l=>l.declare("parameter",X)),i[i.length-1]instanceof cr),this.body=new(a.getNodeConstructor(t.type))(t,this,o),super.parseNode(e)}addArgumentToBeDeoptimized(e){}applyDeoptimizations(){}}Fr.prototype.preventChildBlockScope=!0;class ur extends Fr{constructor(){super(...arguments),this.objectEntity=null}createScope(e){this.scope=new Il(e,!1)}hasEffects(){return this.deoptimized||this.applyDeoptimizations(),!1}hasEffectsOnInteractionAtPath(e,t,s){if(super.hasEffectsOnInteractionAtPath(e,t,s))return!0;if(this.annotationNoSideEffects)return!1;if(t.type===2){const{ignore:i,brokenFlow:r}=s;if(s.ignore={breaks:!1,continues:!1,labels:new Set,returnYield:!0,this:!1},this.body.hasEffects(s))return!0;s.ignore=i,s.brokenFlow=r}return!1}include(e,t){super.include(e,t);for(const s of this.params)s instanceof se||s.include(e,t)}getObjectEntity(){return this.objectEntity!==null?this.objectEntity:this.objectEntity=new Ve([],xt)}}function jt(n,{exportNamesByVariable:e,snippets:{_:t,getObject:s,getPropertyAccess:i}},r=""){if(n.length===1&&e.get(n[0]).length===1){const o=n[0];return`exports(${JSON.stringify(e.get(o)[0])},${t}${o.getName(i)}${r})`}{const o=[];for(const a of n)for(const l of e.get(a))o.push([l,a.getName(i)+r]);return`exports(${s(o,{lineBreakIndent:null})})`}}function dr(n,e,t,s,{exportNamesByVariable:i,snippets:{_:r}}){s.prependRight(e,`exports(${JSON.stringify(i.get(n)[0])},${r}`),s.appendLeft(t,")")}function zo(n,e,t,s,i,r){const{_:o,getPropertyAccess:a}=r.snippets;i.appendLeft(t,`,${o}${jt([n],r)},${o}${n.getName(a)}`),s&&(i.prependRight(e,"("),i.appendLeft(t,")"))}class In extends z{addExportedVariables(e,t){for(const s of this.properties)s.type==="Property"?s.value.addExportedVariables(e,t):s.argument.addExportedVariables(e,t)}declare(e,t){const s=[];for(const i of this.properties)s.push(...i.declare(e,t));return s}deoptimizePath(e){if(e.length===0)for(const t of this.properties)t.deoptimizePath(e)}hasEffectsOnInteractionAtPath(e,t,s){for(const i of this.properties)if(i.hasEffectsOnInteractionAtPath(W,t,s))return!0;return!1}markDeclarationReached(){for(const e of this.properties)e.markDeclarationReached()}}class gh extends Qe{constructor(e){super("arguments",null,X,e,"other"),this.deoptimizedArguments=[]}addArgumentToBeDeoptimized(e){this.included?e.deoptimizePath(q):this.deoptimizedArguments.push(e)}hasEffectsOnInteractionAtPath(e,{type:t}){return t!==0||e.length>1}include(){super.include();for(const e of this.deoptimizedArguments)e.deoptimizePath(q);this.deoptimizedArguments.length=0}}class Cl extends vl{constructor(e){super("this",null,e)}hasEffectsOnInteractionAtPath(e,t,s){return(s.replacedVariableInits.get(this)||X).hasEffectsOnInteractionAtPath(e,t,s)}}class yh extends Il{constructor(e){const{context:t}=e;super(e,!1),this.variables.set("arguments",this.argumentsVariable=new gh(t)),this.variables.set("this",this.thisVariable=new Cl(t))}findLexicalBoundary(){return this}includeCallArguments(e,t){if(super.includeCallArguments(e,t),this.argumentsVariable.included)for(const s of t)s.included||s.include(e,!1)}}class jr extends Fr{constructor(){super(...arguments),this.objectEntity=null}createScope(e){this.scope=new yh(e),this.constructedEntity=new Ve(Object.create(null),xt),this.scope.thisVariable.addEntityToBeDeoptimized(this.constructedEntity)}deoptimizeArgumentsOnInteractionAtPath(e,t,s){super.deoptimizeArgumentsOnInteractionAtPath(e,t,s),e.type===2&&t.length===0&&e.args[0]&&this.scope.thisVariable.addEntityToBeDeoptimized(e.args[0])}hasEffects(e){var t;return this.deoptimized||this.applyDeoptimizations(),!this.annotationNoSideEffects&&!!((t=this.id)!=null&&t.hasEffects(e))}hasEffectsOnInteractionAtPath(e,t,s){if(super.hasEffectsOnInteractionAtPath(e,t,s))return!0;if(this.annotationNoSideEffects)return!1;if(t.type===2){const i=s.replacedVariableInits.get(this.scope.thisVariable);s.replacedVariableInits.set(this.scope.thisVariable,t.withNew?this.constructedEntity:X);const{brokenFlow:r,ignore:o,replacedVariableInits:a}=s;if(s.ignore={breaks:!1,continues:!1,labels:new Set,returnYield:!0,this:t.withNew},this.body.hasEffects(s))return!0;s.brokenFlow=r,i?a.set(this.scope.thisVariable,i):a.delete(this.scope.thisVariable),s.ignore=o}return!1}include(e,t){var i;super.include(e,t),(i=this.id)==null||i.include();const s=this.scope.argumentsVariable.included;for(const r of this.params)r instanceof se&&!s||r.include(e,t)}initialise(){var e;super.initialise(),(e=this.id)==null||e.declare("function",this)}addArgumentToBeDeoptimized(e){this.scope.argumentsVariable.addArgumentToBeDeoptimized(e)}getObjectEntity(){return this.objectEntity!==null?this.objectEntity:this.objectEntity=new Ve([{key:"prototype",kind:"init",property:new Ve([],xt)}],xt)}}class Vo extends z{hasEffects(){return this.deoptimized||this.applyDeoptimizations(),!0}include(e,t){if(this.deoptimized||this.applyDeoptimizations(),!this.included){this.included=!0;e:if(!this.scope.context.usesTopLevelAwait){let s=this.parent;do if(s instanceof jr||s instanceof ur)break e;while(s=s.parent);this.scope.context.usesTopLevelAwait=!0}}this.argument.include(e,t)}}const bh={"!=":(n,e)=>n!=e,"!==":(n,e)=>n!==e,"%":(n,e)=>n%e,"&":(n,e)=>n&e,"*":(n,e)=>n*e,"**":(n,e)=>n**e,"+":(n,e)=>n+e,"-":(n,e)=>n-e,"/":(n,e)=>n/e,"<":(n,e)=>n<e,"<<":(n,e)=>n<<e,"<=":(n,e)=>n<=e,"==":(n,e)=>n==e,"===":(n,e)=>n===e,">":(n,e)=>n>e,">=":(n,e)=>n>=e,">>":(n,e)=>n>>e,">>>":(n,e)=>n>>>e,"^":(n,e)=>n^e,"|":(n,e)=>n|e};function Rl(n,e,t){if(t.arguments.length>0)if(t.arguments[t.arguments.length-1].included)for(const s of t.arguments)s.render(n,e);else{let s=t.arguments.length-2;for(;s>=0&&!t.arguments[s].included;)s--;if(s>=0){for(let i=0;i<=s;i++)t.arguments[i].render(n,e);n.remove(Ie(n.original,",",t.arguments[s].end),t.end-1)}else n.remove(Ie(n.original,"(",t.callee.end)+1,t.end-1)}}class Et extends z{deoptimizeArgumentsOnInteractionAtPath(){}getLiteralValueAtPath(e){return e.length>0||this.value===null&&this.scope.context.code.charCodeAt(this.start)!==110||typeof this.value=="bigint"||this.scope.context.code.charCodeAt(this.start)===47?ue:this.value}getReturnExpressionWhenCalledAtPath(e){return e.length!==1?me:ts(this.members,e[0])}hasEffectsOnInteractionAtPath(e,t,s){switch(t.type){case 0:return e.length>(this.value===null?0:1);case 1:return!0;case 2:return!!(this.included&&this.value instanceof RegExp&&(this.value.global||this.value.sticky))||e.length!==1||es(this.members,e[0],t,s)}}initialise(){this.members=function(e){if(e instanceof RegExp)return sh;switch(typeof e){case"boolean":return rr;case"number":return or;case"string":return Tn}return Object.create(null)}(this.value)}parseNode(e){this.value=e.value,this.regex=e.regex,super.parseNode(e)}render(e){typeof this.value=="string"&&e.indentExclusionRanges.push([this.start+1,this.end-1])}}function Eh(n){return n.computed?function(e){return e instanceof Et?String(e.value):null}(n.property):n.property.name}function Ml(n){const e=n.propertyKey,t=n.object;if(typeof e=="string"){if(t instanceof se)return[{key:t.name,pos:t.start},{key:e,pos:n.property.start}];if(t instanceof gt){const s=Ml(t);return s&&[...s,{key:e,pos:n.property.start}]}}return null}class gt extends z{constructor(){super(...arguments),this.variable=null,this.expressionsToBeDeoptimized=[]}get computed(){return ee(this.flags,1024)}set computed(e){this.flags=te(this.flags,1024,e)}get optional(){return ee(this.flags,128)}set optional(e){this.flags=te(this.flags,128,e)}get assignmentDeoptimized(){return ee(this.flags,16)}set assignmentDeoptimized(e){this.flags=te(this.flags,16,e)}get bound(){return ee(this.flags,32)}set bound(e){this.flags=te(this.flags,32,e)}get isUndefined(){return ee(this.flags,64)}set isUndefined(e){this.flags=te(this.flags,64,e)}bind(){this.bound=!0;const e=Ml(this),t=e&&this.scope.findVariable(e[0].key);if(t!=null&&t.isNamespace){const s=Ol(t,e.slice(1),this.scope.context);s?s==="undefined"?this.isUndefined=!0:(this.variable=s,this.scope.addNamespaceMemberAccess(function(i){let r=i[0].key;for(let o=1;o<i.length;o++)r+="."+i[o].key;return r}(e),s)):super.bind()}else super.bind()}deoptimizeArgumentsOnInteractionAtPath(e,t,s){this.variable?this.variable.deoptimizeArgumentsOnInteractionAtPath(e,t,s):this.isUndefined||(t.length<7?this.object.deoptimizeArgumentsOnInteractionAtPath(e,[this.getPropertyKey(),...t],s):St(e))}deoptimizeCache(){const{expressionsToBeDeoptimized:e,object:t}=this;this.expressionsToBeDeoptimized=pe,this.propertyKey=ne,t.deoptimizePath(q);for(const s of e)s.deoptimizeCache()}deoptimizePath(e){if(e.length===0&&this.disallowNamespaceReassignment(),this.variable)this.variable.deoptimizePath(e);else if(!this.isUndefined&&e.length<7){const t=this.getPropertyKey();this.object.deoptimizePath([t===ne?Ls:t,...e])}}getLiteralValueAtPath(e,t,s){return this.variable?this.variable.getLiteralValueAtPath(e,t,s):this.isUndefined?void 0:this.propertyKey!==ne&&e.length<7?(this.expressionsToBeDeoptimized.push(s),this.object.getLiteralValueAtPath([this.getPropertyKey(),...e],t,s)):ue}getReturnExpressionWhenCalledAtPath(e,t,s,i){return this.variable?this.variable.getReturnExpressionWhenCalledAtPath(e,t,s,i):this.isUndefined?[Jn,!1]:this.propertyKey!==ne&&e.length<7?(this.expressionsToBeDeoptimized.push(i),this.object.getReturnExpressionWhenCalledAtPath([this.getPropertyKey(),...e],t,s,i)):me}hasEffects(e){return this.deoptimized||this.applyDeoptimizations(),this.property.hasEffects(e)||this.object.hasEffects(e)||this.hasAccessEffect(e)}hasEffectsAsAssignmentTarget(e,t){return t&&!this.deoptimized&&this.applyDeoptimizations(),this.assignmentDeoptimized||this.applyAssignmentDeoptimization(),this.property.hasEffects(e)||this.object.hasEffects(e)||t&&this.hasAccessEffect(e)||this.hasEffectsOnInteractionAtPath(W,this.assignmentInteraction,e)}hasEffectsOnInteractionAtPath(e,t,s){return this.variable?this.variable.hasEffectsOnInteractionAtPath(e,t,s):!!this.isUndefined||!(e.length<7)||this.object.hasEffectsOnInteractionAtPath([this.getPropertyKey(),...e],t,s)}include(e,t){this.deoptimized||this.applyDeoptimizations(),this.includeProperties(e,t)}includeAsAssignmentTarget(e,t,s){this.assignmentDeoptimized||this.applyAssignmentDeoptimization(),s?this.include(e,t):this.includeProperties(e,t)}includeCallArguments(e,t){this.variable?this.variable.includeCallArguments(e,t):super.includeCallArguments(e,t)}initialise(){this.propertyKey=Eh(this),this.accessInteraction={args:[this.object],type:0}}isSkippedAsOptional(e){var t,s;return!this.variable&&!this.isUndefined&&(((s=(t=this.object).isSkippedAsOptional)==null?void 0:s.call(t,e))||this.optional&&this.object.getLiteralValueAtPath(W,be,e)==null)}render(e,t,{renderedParentType:s,isCalleeOfRenderedParent:i,renderedSurroundingElement:r}=Ne){if(this.variable||this.isUndefined){const{snippets:{getPropertyAccess:o}}=t;let a=this.variable?this.variable.getName(o):"undefined";s&&i&&(a="0, "+a),e.overwrite(this.start,this.end,a,{contentOnly:!0,storeName:!0})}else s&&i&&e.appendRight(this.start,"0, "),this.object.render(e,t,{renderedSurroundingElement:r}),this.property.render(e,t)}setAssignedValue(e){this.assignmentInteraction={args:[this.object,e],type:1}}applyDeoptimizations(){this.deoptimized=!0;const{propertyReadSideEffects:e}=this.scope.context.options.treeshake;if(this.bound&&e&&!this.variable&&!this.isUndefined){const t=this.getPropertyKey();this.object.deoptimizeArgumentsOnInteractionAtPath(this.accessInteraction,[t],be),this.scope.context.requestTreeshakingPass()}}applyAssignmentDeoptimization(){this.assignmentDeoptimized=!0;const{propertyReadSideEffects:e}=this.scope.context.options.treeshake;this.bound&&e&&!this.variable&&!this.isUndefined&&(this.object.deoptimizeArgumentsOnInteractionAtPath(this.assignmentInteraction,[this.getPropertyKey()],be),this.scope.context.requestTreeshakingPass())}disallowNamespaceReassignment(){this.object instanceof se&&this.scope.findVariable(this.object.name).isNamespace&&(this.variable&&this.scope.context.includeVariableInModule(this.variable),this.scope.context.log(j,pl(this.object.name,this.scope.context.module.id),this.start))}getPropertyKey(){if(this.propertyKey===null){this.propertyKey=ne;const e=this.property.getLiteralValueAtPath(W,be,this);return this.propertyKey=e===Cr?e:typeof e=="symbol"?ne:String(e)}return this.propertyKey}hasAccessEffect(e){const{propertyReadSideEffects:t}=this.scope.context.options.treeshake;return!(this.variable||this.isUndefined)&&t&&(t==="always"||this.object.hasEffectsOnInteractionAtPath([this.getPropertyKey()],this.accessInteraction,e))}includeProperties(e,t){this.included||(this.included=!0,this.variable&&this.scope.context.includeVariableInModule(this.variable)),this.object.include(e,t),this.property.include(e,t)}}function Ol(n,e,t){if(e.length===0)return n;if(!n.isNamespace||n instanceof Ds)return null;const s=e[0].key,i=n.context.traceExport(s);if(!i){if(e.length===1){const r=n.context.fileName;return t.log(j,Ts(s,t.module.id,r),e[0].pos),"undefined"}return null}return Ol(i,e.slice(1),t)}class Ll extends z{constructor(){super(...arguments),this.returnExpression=null,this.deoptimizableDependentExpressions=[],this.expressionsToBeDeoptimized=new Set}deoptimizeArgumentsOnInteractionAtPath(e,t,s){const{args:i}=e,[r,o]=this.getReturnExpression(s);if(o)return;const a=i.filter(l=>!!l&&l!==X);if(a.length!==0)if(r===X)for(const l of a)l.deoptimizePath(q);else s.withTrackedEntityAtPath(t,r,()=>{for(const l of a)this.expressionsToBeDeoptimized.add(l);r.deoptimizeArgumentsOnInteractionAtPath(e,t,s)},null)}deoptimizeCache(){var e;if(((e=this.returnExpression)==null?void 0:e[0])!==X){this.returnExpression=me;const{deoptimizableDependentExpressions:t,expressionsToBeDeoptimized:s}=this;this.expressionsToBeDeoptimized=Ka,this.deoptimizableDependentExpressions=pe;for(const i of t)i.deoptimizeCache();for(const i of s)i.deoptimizePath(q)}}deoptimizePath(e){if(e.length===0||this.scope.context.deoptimizationTracker.trackEntityAtPathAndGetIfTracked(e,this))return;const[t]=this.getReturnExpression();t!==X&&t.deoptimizePath(e)}getLiteralValueAtPath(e,t,s){const[i]=this.getReturnExpression(t);return i===X?ue:t.withTrackedEntityAtPath(e,i,()=>(this.deoptimizableDependentExpressions.push(s),i.getLiteralValueAtPath(e,t,s)),ue)}getReturnExpressionWhenCalledAtPath(e,t,s,i){const r=this.getReturnExpression(s);return r[0]===X?r:s.withTrackedEntityAtPath(e,r,()=>{this.deoptimizableDependentExpressions.push(i);const[o,a]=r[0].getReturnExpressionWhenCalledAtPath(e,t,s,i);return[o,a||r[1]]},me)}hasEffectsOnInteractionAtPath(e,t,s){const{type:i}=t;if(i===2){const{args:a,withNew:l}=t;if((l?s.instantiated:s.called).trackEntityAtPathAndGetIfTracked(e,a,this))return!1}else if((i===1?s.assigned:s.accessed).trackEntityAtPathAndGetIfTracked(e,this))return!1;const[r,o]=this.getReturnExpression();return(i===1||!o)&&r.hasEffectsOnInteractionAtPath(e,t,s)}}class Fo extends Ll{get optional(){return ee(this.flags,128)}set optional(e){this.flags=te(this.flags,128,e)}bind(){super.bind(),this.callee instanceof se&&(this.scope.findVariable(this.callee.name).isNamespace&&this.scope.context.log(j,hl(this.callee.name),this.start),this.callee.name==="eval"&&this.scope.context.log(j,{code:"EVAL",id:e=this.scope.context.module.id,message:`Use of eval in "${U(e)}" is strongly discouraged as it poses security risks and may cause issues with minification.`,url:we("troubleshooting/#avoiding-eval")},this.start));var e;this.interaction={args:[this.callee instanceof gt&&!this.callee.variable?this.callee.object:null,...this.arguments],type:2,withNew:!1}}hasEffects(e){try{for(const t of this.arguments)if(t.hasEffects(e))return!0;return!this.annotationPure&&(this.callee.hasEffects(e)||this.callee.hasEffectsOnInteractionAtPath(W,this.interaction,e))}finally{this.deoptimized||this.applyDeoptimizations()}}include(e,t){this.deoptimized||this.applyDeoptimizations(),t?(super.include(e,t),t===gl&&this.callee instanceof se&&this.callee.variable&&this.callee.variable.markCalledFromTryStatement()):(this.included=!0,this.callee.include(e,!1)),this.callee.includeCallArguments(e,this.arguments)}isSkippedAsOptional(e){var t,s;return((s=(t=this.callee).isSkippedAsOptional)==null?void 0:s.call(t,e))||this.optional&&this.callee.getLiteralValueAtPath(W,be,e)==null}render(e,t,{renderedSurroundingElement:s}=Ne){this.callee.render(e,t,{isCalleeOfRenderedParent:!0,renderedSurroundingElement:s}),Rl(e,t,this)}applyDeoptimizations(){this.deoptimized=!0,this.callee.deoptimizeArgumentsOnInteractionAtPath(this.interaction,W,be),this.scope.context.requestTreeshakingPass()}getReturnExpression(e=be){return this.returnExpression===null?(this.returnExpression=me,this.returnExpression=this.callee.getReturnExpressionWhenCalledAtPath(W,this.interaction,e,this)):this.returnExpression}}class Dl extends z{createScope(e){this.scope=new xl(e,!0)}parseNode(e){const{body:t,param:s,type:i}=e;this.type=i,s&&(this.param=new(this.scope.context.getNodeConstructor(s.type))(s,this,this.scope),this.param.declare("parameter",X)),this.body=new oi(t,this,this.scope.bodyScope),super.parseNode(e)}}Dl.prototype.preventChildBlockScope=!0;class Ah extends Fe{constructor(e,t){const{context:s}=e;super(e,s),this.variables.set("this",this.thisVariable=new Qe("this",null,t,s,"other")),this.instanceScope=new Fe(this,s),this.instanceScope.variables.set("this",new Cl(s))}findLexicalBoundary(){return this}}class Bl extends z{constructor(){super(...arguments),this.accessedValue=null}get computed(){return ee(this.flags,1024)}set computed(e){this.flags=te(this.flags,1024,e)}deoptimizeArgumentsOnInteractionAtPath(e,t,s){return e.type===0&&this.kind==="get"&&t.length===0||e.type===1&&this.kind==="set"&&t.length===0?this.value.deoptimizeArgumentsOnInteractionAtPath({args:e.args,type:2,withNew:!1},W,s):void this.getAccessedValue()[0].deoptimizeArgumentsOnInteractionAtPath(e,t,s)}deoptimizeCache(){}deoptimizePath(e){this.getAccessedValue()[0].deoptimizePath(e)}getLiteralValueAtPath(e,t,s){return this.getAccessedValue()[0].getLiteralValueAtPath(e,t,s)}getReturnExpressionWhenCalledAtPath(e,t,s,i){return this.getAccessedValue()[0].getReturnExpressionWhenCalledAtPath(e,t,s,i)}hasEffects(e){return this.key.hasEffects(e)}hasEffectsOnInteractionAtPath(e,t,s){return this.kind==="get"&&t.type===0&&e.length===0||this.kind==="set"&&t.type===1?this.value.hasEffectsOnInteractionAtPath(W,{args:t.args,type:2,withNew:!1},s):this.getAccessedValue()[0].hasEffectsOnInteractionAtPath(e,t,s)}applyDeoptimizations(){}getAccessedValue(){return this.accessedValue===null?this.kind==="get"?(this.accessedValue=me,this.accessedValue=this.value.getReturnExpressionWhenCalledAtPath(W,ti,be,this)):this.accessedValue=[this.value,!1]:this.accessedValue}}class hr extends Bl{applyDeoptimizations(){}}class wh extends Ue{constructor(e,t){super(),this.object=e,this.key=t}deoptimizeArgumentsOnInteractionAtPath(e,t,s){this.object.deoptimizeArgumentsOnInteractionAtPath(e,[this.key,...t],s)}deoptimizePath(e){this.object.deoptimizePath([this.key,...e])}getLiteralValueAtPath(e,t,s){return this.object.getLiteralValueAtPath([this.key,...e],t,s)}getReturnExpressionWhenCalledAtPath(e,t,s,i){return this.object.getReturnExpressionWhenCalledAtPath([this.key,...e],t,s,i)}hasEffectsOnInteractionAtPath(e,t,s){return this.object.hasEffectsOnInteractionAtPath([this.key,...e],t,s)}}class _l extends z{constructor(){super(...arguments),this.objectEntity=null}createScope(e){this.scope=new Fe(e,e.context)}deoptimizeArgumentsOnInteractionAtPath(e,t,s){this.getObjectEntity().deoptimizeArgumentsOnInteractionAtPath(e,t,s)}deoptimizeCache(){this.getObjectEntity().deoptimizeAllProperties()}deoptimizePath(e){this.getObjectEntity().deoptimizePath(e)}getLiteralValueAtPath(e,t,s){return this.getObjectEntity().getLiteralValueAtPath(e,t,s)}getReturnExpressionWhenCalledAtPath(e,t,s,i){return this.getObjectEntity().getReturnExpressionWhenCalledAtPath(e,t,s,i)}hasEffects(e){var s,i;this.deoptimized||this.applyDeoptimizations();const t=((s=this.superClass)==null?void 0:s.hasEffects(e))||this.body.hasEffects(e);return(i=this.id)==null||i.markDeclarationReached(),t||super.hasEffects(e)}hasEffectsOnInteractionAtPath(e,t,s){var i;return t.type===2&&e.length===0?!t.withNew||(this.classConstructor===null?(i=this.superClass)==null?void 0:i.hasEffectsOnInteractionAtPath(e,t,s):this.classConstructor.hasEffectsOnInteractionAtPath(e,t,s))||!1:this.getObjectEntity().hasEffectsOnInteractionAtPath(e,t,s)}include(e,t){var s;this.deoptimized||this.applyDeoptimizations(),this.included=!0,(s=this.superClass)==null||s.include(e,t),this.body.include(e,t),this.id&&(this.id.markDeclarationReached(),this.id.include())}initialise(){var e;(e=this.id)==null||e.declare("class",this);for(const t of this.body.body)if(t instanceof hr&&t.kind==="constructor")return void(this.classConstructor=t);this.classConstructor=null}applyDeoptimizations(){this.deoptimized=!0;for(const e of this.body.body)e.static||e instanceof hr&&e.kind==="constructor"||e.deoptimizePath(q);this.scope.context.requestTreeshakingPass()}getObjectEntity(){if(this.objectEntity!==null)return this.objectEntity;const e=[],t=[];for(const s of this.body.body){const i=s.static?e:t,r=s.kind;if(i===t&&!r)continue;const o=r==="set"||r==="get"?r:"init";let a;if(s.computed){const l=s.key.getLiteralValueAtPath(W,be,this);if(typeof l=="symbol"){i.push({key:ne,kind:o,property:s});continue}a=String(l)}else a=s.key instanceof se?s.key.name:String(s.key.value);i.push({key:a,kind:o,property:s})}return e.unshift({key:"prototype",kind:"init",property:new Ve(t,this.superClass?new wh(this.superClass,"prototype"):xt)}),this.objectEntity=new Ve(e,this.superClass||xt)}}class js extends _l{initialise(){super.initialise(),this.id!==null&&(this.id.variable.isId=!0)}parseNode(e){e.id!==null&&(this.id=new se(e.id,this,this.scope.parent)),super.parseNode(e)}render(e,t){var a;const{exportNamesByVariable:s,format:i,snippets:{_:r,getPropertyAccess:o}}=t;if(this.id){const{variable:l,name:c}=this.id;i==="system"&&s.has(l)&&e.appendLeft(this.end,`${r}${jt([l],t)};`);const d=l.getName(o);if(d!==c)return(a=this.superClass)==null||a.render(e,t),this.body.render(e,{...t,useOriginalName:p=>p===l}),e.prependRight(this.start,`let ${d}${r}=${r}`),void e.prependLeft(this.end,";")}super.render(e,t)}applyDeoptimizations(){super.applyDeoptimizations();const{id:e,scope:t}=this;if(e){const{name:s,variable:i}=e;for(const r of t.accessedOutsideVariables.values())r!==i&&r.forbidName(s)}}}class pr extends _l{render(e,t,{renderedSurroundingElement:s}=Ne){super.render(e,t),s===qe&&(e.appendRight(this.start,"("),e.prependLeft(this.end,")"))}}class Us extends Ue{constructor(e){super(),this.expressions=e}deoptimizePath(e){for(const t of this.expressions)t.deoptimizePath(e)}getReturnExpressionWhenCalledAtPath(e,t,s,i){return[new Us(this.expressions.map(r=>r.getReturnExpressionWhenCalledAtPath(e,t,s,i)[0])),!1]}hasEffectsOnInteractionAtPath(e,t,s){for(const i of this.expressions)if(i.hasEffectsOnInteractionAtPath(e,t,s))return!0;return!1}}function ps(n,e){const{brokenFlow:t,hasBreak:s,hasContinue:i,ignore:r}=n,{breaks:o,continues:a}=r;return r.breaks=!0,r.continues=!0,n.hasBreak=!1,n.hasContinue=!1,!!e.hasEffects(n)||(r.breaks=o,r.continues=a,n.hasBreak=s,n.hasContinue=i,n.brokenFlow=t,!1)}function kn(n,e,t){const{brokenFlow:s,hasBreak:i,hasContinue:r}=n;n.hasBreak=!1,n.hasContinue=!1,e.include(n,t,{asSingleStatement:!0}),n.hasBreak=i,n.hasContinue=r,n.brokenFlow=s}class Ur extends z{hasEffects(){return!1}initialise(){this.scope.context.addExport(this)}render(e,t,s){e.remove(s.start,s.end)}applyDeoptimizations(){}}Ur.prototype.needsBoundaries=!0;class jn extends jr{initialise(){super.initialise(),this.id!==null&&(this.id.variable.isId=!0)}parseNode(e){e.id!==null&&(this.id=new se(e.id,this,this.scope.parent)),super.parseNode(e)}}class ai extends z{include(e,t){super.include(e,t),t&&this.scope.context.includeVariableInModule(this.variable)}initialise(){const e=this.declaration;this.declarationName=e.id&&e.id.name||this.declaration.name,this.variable=this.scope.addExportDefaultDeclaration(this.declarationName||this.scope.context.getModuleName(),this,this.scope.context),this.scope.context.addExport(this)}removeAnnotations(e){this.declaration.removeAnnotations(e)}render(e,t,s){const{start:i,end:r}=s,o=function(a,l){return At(a,Ie(a,"default",l)+7)}(e.original,this.start);if(this.declaration instanceof jn)this.renderNamedDeclaration(e,o,this.declaration.id===null?function(a,l){const c=Ie(a,"function",l)+8;a=a.slice(c,Ie(a,"(",c));const d=Ie(a,"*");return d===-1?c:c+d+1}(e.original,o):null,t);else if(this.declaration instanceof js)this.renderNamedDeclaration(e,o,this.declaration.id===null?Ie(e.original,"class",i)+5:null,t);else{if(this.variable.getOriginalVariable()!==this.variable)return void Vr(this,e,i,r);if(!this.variable.included)return e.remove(this.start,o),this.declaration.render(e,t,{renderedSurroundingElement:qe}),void(e.original[this.end-1]!==";"&&e.appendLeft(this.end,";"));this.renderVariableDeclaration(e,o,t)}this.declaration.render(e,t)}applyDeoptimizations(){}renderNamedDeclaration(e,t,s,i){const{exportNamesByVariable:r,format:o,snippets:{getPropertyAccess:a}}=i,l=this.variable.getName(a);e.remove(this.start,t),s!==null&&e.appendLeft(s,` ${l}`),o==="system"&&this.declaration instanceof js&&r.has(this.variable)&&e.appendLeft(this.end,` ${jt([this.variable],i)};`)}renderVariableDeclaration(e,t,{format:s,exportNamesByVariable:i,snippets:{cnst:r,getPropertyAccess:o}}){const a=e.original.charCodeAt(this.end-1)===59,l=s==="system"&&i.get(this.variable);l?(e.overwrite(this.start,t,`${r} ${this.variable.getName(o)} = exports(${JSON.stringify(l[0])}, `),e.appendRight(a?this.end-1:this.end,")"+(a?"":";"))):(e.overwrite(this.start,t,`${r} ${this.variable.getName(o)} = `),a||e.appendLeft(this.end,";"))}}ai.prototype.needsBoundaries=!0;class Tl extends z{bind(){var e;(e=this.declaration)==null||e.bind()}hasEffects(e){var t;return!!((t=this.declaration)!=null&&t.hasEffects(e))}initialise(){this.scope.context.addExport(this)}removeAnnotations(e){var t;(t=this.declaration)==null||t.removeAnnotations(e)}render(e,t,s){const{start:i,end:r}=s;this.declaration===null?e.remove(i,r):(e.remove(this.start,this.declaration.start),this.declaration.render(e,t,{end:r,start:i}))}applyDeoptimizations(){}}Tl.prototype.needsBoundaries=!0;class jo extends jr{createScope(e){super.createScope(this.idScope=new Fe(e,e.context))}parseNode(e){e.id!==null&&(this.id=new se(e.id,this,this.idScope)),super.parseNode(e)}render(e,t,{renderedSurroundingElement:s}=Ne){super.render(e,t),s===qe&&(e.appendRight(this.start,"("),e.prependLeft(this.end,")"))}}class Uo extends Dt{constructor(){super(...arguments),this.hoistedDeclarations=[]}addDeclaration(e,t,s,i){return this.hoistedDeclarations.push(e),super.addDeclaration(e,t,s,i)}}const Go=Symbol("unset");class Gr extends z{constructor(){super(...arguments),this.testValue=Go}deoptimizeCache(){this.testValue=ue}hasEffects(e){var s;if(this.test.hasEffects(e))return!0;const t=this.getTestValue();if(typeof t=="symbol"){const{brokenFlow:i}=e;if(this.consequent.hasEffects(e))return!0;const r=e.brokenFlow;return e.brokenFlow=i,this.alternate===null?!1:!!this.alternate.hasEffects(e)||(e.brokenFlow=e.brokenFlow&&r,!1)}return t?this.consequent.hasEffects(e):!!((s=this.alternate)!=null&&s.hasEffects(e))}include(e,t){if(this.included=!0,t)this.includeRecursively(t,e);else{const s=this.getTestValue();typeof s=="symbol"?this.includeUnknownTest(e):this.includeKnownTest(e,s)}}parseNode(e){this.consequentScope=new Uo(this.scope),this.consequent=new(this.scope.context.getNodeConstructor(e.consequent.type))(e.consequent,this,this.consequentScope),e.alternate&&(this.alternateScope=new Uo(this.scope),this.alternate=new(this.scope.context.getNodeConstructor(e.alternate.type))(e.alternate,this,this.alternateScope)),super.parseNode(e)}render(e,t){const{snippets:{getPropertyAccess:s}}=t,i=this.getTestValue(),r=[],o=this.test.included,a=!this.scope.context.options.treeshake;o?this.test.render(e,t):e.remove(this.start,this.consequent.start),this.consequent.included&&(a||typeof i=="symbol"||i)?this.consequent.render(e,t):(e.overwrite(this.consequent.start,this.consequent.end,o?";":""),r.push(...this.consequentScope.hoistedDeclarations)),this.alternate&&(!this.alternate.included||!a&&typeof i!="symbol"&&i?(o&&this.shouldKeepAlternateBranch()?e.overwrite(this.alternate.start,this.end,";"):e.remove(this.consequent.end,this.end),r.push(...this.alternateScope.hoistedDeclarations)):(o?e.original.charCodeAt(this.alternate.start-1)===101&&e.prependLeft(this.alternate.start," "):e.remove(this.consequent.end,this.alternate.start),this.alternate.render(e,t))),this.renderHoistedDeclarations(r,e,s)}applyDeoptimizations(){}getTestValue(){return this.testValue===Go?this.testValue=this.test.getLiteralValueAtPath(W,be,this):this.testValue}includeKnownTest(e,t){var s;this.test.shouldBeIncluded(e)&&this.test.include(e,!1),t&&this.consequent.shouldBeIncluded(e)&&this.consequent.include(e,!1,{asSingleStatement:!0}),!t&&((s=this.alternate)!=null&&s.shouldBeIncluded(e))&&this.alternate.include(e,!1,{asSingleStatement:!0})}includeRecursively(e,t){var s;this.test.include(t,e),this.consequent.include(t,e),(s=this.alternate)==null||s.include(t,e)}includeUnknownTest(e){var i;this.test.include(e,!1);const{brokenFlow:t}=e;let s=!1;this.consequent.shouldBeIncluded(e)&&(this.consequent.include(e,!1,{asSingleStatement:!0}),s=e.brokenFlow,e.brokenFlow=t),(i=this.alternate)!=null&&i.shouldBeIncluded(e)&&(this.alternate.include(e,!1,{asSingleStatement:!0}),e.brokenFlow=e.brokenFlow&&s)}renderHoistedDeclarations(e,t,s){const i=[...new Set(e.map(r=>{const o=r.variable;return o.included?o.getName(s):""}))].filter(Boolean).join(", ");if(i){const r=this.parent.type,o=r!==Vs&&r!=="BlockStatement";t.prependRight(this.start,`${o?"{ ":""}var ${i}; `),o&&t.appendLeft(this.end," }")}}shouldKeepAlternateBranch(){let e=this.parent;do{if(e instanceof Gr&&e.alternate)return!0;if(e instanceof oi)return!1;e=e.parent}while(e);return!1}}class zl extends z{bind(){}hasEffects(){return!1}initialise(){this.scope.context.addImport(this)}render(e,t,s){e.remove(s.start,s.end)}applyDeoptimizations(){}}zl.prototype.needsBoundaries=!0;class Vl extends z{applyDeoptimizations(){}}const fr="_interopDefault",mr="_interopDefaultCompat",Is="_interopNamespace",$s="_interopNamespaceCompat",Mt="_interopNamespaceDefault",Un="_interopNamespaceDefaultOnly",Gs="_mergeNamespaces",It="_documentCurrentScript",li={auto:fr,compat:mr,default:null,defaultOnly:null,esModule:null},ci=(n,e)=>n==="esModule"||e&&(n==="auto"||n==="compat"),ns={auto:Is,compat:$s,default:Mt,defaultOnly:Un,esModule:null},vh=(n,e)=>n!=="esModule"&&ci(n,e),gr=(n,e,t,s,i,r,o)=>{const a=new Set(n);for(const l of br)e.has(l)&&a.add(l);return br.map(l=>a.has(l)?Fl[l](t,s,i,r,o,a):"").join("")},Fl={[It]:(n,{_:e,n:t})=>`var${e}${It}${e}=${e}typeof${e}document${e}!==${e}'undefined'${e}?${e}document.currentScript${e}:${e}null;${t}`,[mr](n,e,t){const{_:s,getDirectReturnFunction:i,n:r}=e,[o,a]=i(["e"],{functionReturn:!0,lineBreakIndent:null,name:mr});return`${o}${Oi(e)}${s}?${s}${t?Wo(e):Ho(e)}${a}${r}${r}`},[fr](n,e,t){const{_:s,getDirectReturnFunction:i,n:r}=e,[o,a]=i(["e"],{functionReturn:!0,lineBreakIndent:null,name:fr});return`${o}e${s}&&${s}e.__esModule${s}?${s}${t?Wo(e):Ho(e)}${a}${r}${r}`},[$s](n,e,t,s,i,r){const{_:o,getDirectReturnFunction:a,n:l}=e;if(r.has(Mt)){const[c,d]=a(["e"],{functionReturn:!0,lineBreakIndent:null,name:$s});return`${c}${Oi(e)}${o}?${o}e${o}:${o}${Mt}(e)${d}${l}${l}`}return`function ${$s}(e)${o}{${l}${n}if${o}(${Oi(e)})${o}return e;${l}`+Li(n,n,e,t,s,i)+`}${l}${l}`},[Un](n,e,t,s,i){const{getDirectReturnFunction:r,getObject:o,n:a,_:l}=e,[c,d]=r(["e"],{functionReturn:!0,lineBreakIndent:null,name:Un});return`${c}${yr(s,Xo(i,o([[null,`__proto__:${l}null`],["default","e"]],{lineBreakIndent:null}),e))}${d}${a}${a}`},[Mt](n,e,t,s,i){const{_:r,n:o}=e;return`function ${Mt}(e)${r}{${o}`+Li(n,n,e,t,s,i)+`}${o}${o}`},[Is](n,e,t,s,i,r){const{_:o,getDirectReturnFunction:a,n:l}=e;if(r.has(Mt)){const[c,d]=a(["e"],{functionReturn:!0,lineBreakIndent:null,name:Is});return`${c}e${o}&&${o}e.__esModule${o}?${o}e${o}:${o}${Mt}(e)${d}${l}${l}`}return`function ${Is}(e)${o}{${l}${n}if${o}(e${o}&&${o}e.__esModule)${o}return e;${l}`+Li(n,n,e,t,s,i)+`}${l}${l}`},[Gs](n,e,t,s,i){const{_:r,cnst:o,n:a}=e,l=o==="var"&&t;return`function ${Gs}(n, m)${r}{${a}${n}${xh(`{${a}${n}${n}${n}if${r}(k${r}!==${r}'default'${r}&&${r}!(k in n))${r}{${a}`+(t?l?jl:$h:Ul)(n,n+n+n+n,e)+`${n}${n}${n}}${a}${n}${n}}`,l,n,e)}${a}${n}return ${yr(s,Xo(i,"n",e))};${a}}${a}${a}`}},Wo=({_:n,getObject:e})=>`e${n}:${n}${e([["default","e"]],{lineBreakIndent:null})}`,Ho=({_:n,getPropertyAccess:e})=>`e${e("default")}${n}:${n}e`,Oi=({_:n})=>`e${n}&&${n}typeof e${n}===${n}'object'${n}&&${n}'default'${n}in e`,Li=(n,e,t,s,i,r)=>{const{_:o,cnst:a,getObject:l,getPropertyAccess:c,n:d,s:p}=t,h=`{${d}`+(s?Ih:Ul)(n,e+n+n,t)+`${e}${n}}`;return`${e}${a} n${o}=${o}Object.create(null${r?`,${o}{${o}[Symbol.toStringTag]:${o}${Gn(l)}${o}}`:""});${d}${e}if${o}(e)${o}{${d}${e}${n}${kh(h,!s,t)}${d}${e}}${d}${e}n${c("default")}${o}=${o}e;${d}${e}return ${yr(i,"n")}${p}${d}`},kh=(n,e,{_:t,cnst:s,getFunctionIntro:i,s:r})=>s!=="var"||e?`for${t}(${s} k in e)${t}${n}`:`Object.keys(e).forEach(${i(["k"],{isAsync:!1,name:null})}${n})${r}`,xh=(n,e,t,{_:s,cnst:i,getDirectReturnFunction:r,getFunctionIntro:o,n:a})=>{if(e){const[l,c]=r(["e"],{functionReturn:!1,lineBreakIndent:{base:t,t},name:null});return`m.forEach(${l}e${s}&&${s}typeof e${s}!==${s}'string'${s}&&${s}!Array.isArray(e)${s}&&${s}Object.keys(e).forEach(${o(["k"],{isAsync:!1,name:null})}${n})${c});`}return`for${s}(var i${s}=${s}0;${s}i${s}<${s}m.length;${s}i++)${s}{${a}${t}${t}${i} e${s}=${s}m[i];${a}${t}${t}if${s}(typeof e${s}!==${s}'string'${s}&&${s}!Array.isArray(e))${s}{${s}for${s}(${i} k in e)${s}${n}${s}}${a}${t}}`},Ih=(n,e,t)=>{const{_:s,n:i}=t;return`${e}if${s}(k${s}!==${s}'default')${s}{${i}`+jl(n,e+n,t)+`${e}}${i}`},jl=(n,e,{_:t,cnst:s,getDirectReturnFunction:i,n:r})=>{const[o,a]=i([],{functionReturn:!0,lineBreakIndent:null,name:null});return`${e}${s} d${t}=${t}Object.getOwnPropertyDescriptor(e,${t}k);${r}${e}Object.defineProperty(n,${t}k,${t}d.get${t}?${t}d${t}:${t}{${r}${e}${n}enumerable:${t}true,${r}${e}${n}get:${t}${o}e[k]${a}${r}${e}});${r}`},$h=(n,e,{_:t,cnst:s,getDirectReturnFunction:i,n:r})=>{const[o,a]=i([],{functionReturn:!0,lineBreakIndent:null,name:null});return`${e}${s} d${t}=${t}Object.getOwnPropertyDescriptor(e,${t}k);${r}${e}if${t}(d)${t}{${r}${e}${n}Object.defineProperty(n,${t}k,${t}d.get${t}?${t}d${t}:${t}{${r}${e}${n}${n}enumerable:${t}true,${r}${e}${n}${n}get:${t}${o}e[k]${a}${r}${e}${n}});${r}${e}}${r}`},Ul=(n,e,{_:t,n:s})=>`${e}n[k]${t}=${t}e[k];${s}`,yr=(n,e)=>n?`Object.freeze(${e})`:e,Xo=(n,e,{_:t,getObject:s})=>n?`Object.defineProperty(${e},${t}Symbol.toStringTag,${t}${Gn(s)})`:e,br=Object.keys(Fl);function Gn(n){return n([["value","'Module'"]],{lineBreakIndent:null})}function Gl(n,e){return n.renderBaseName!==null&&e.has(n)&&n.isReassigned}class Zo extends z{declareDeclarator(e){this.id.declare(e,this.init||Jn)}deoptimizePath(e){this.id.deoptimizePath(e)}hasEffects(e){var s;this.deoptimized||this.applyDeoptimizations();const t=(s=this.init)==null?void 0:s.hasEffects(e);return this.id.markDeclarationReached(),t||this.id.hasEffects(e)}include(e,t){const{deoptimized:s,id:i,init:r}=this;s||this.applyDeoptimizations(),this.included=!0,r==null||r.include(e,t),i.markDeclarationReached(),(t||i.shouldBeIncluded(e))&&i.include(e,t)}removeAnnotations(e){var t;(t=this.init)==null||t.removeAnnotations(e)}render(e,t){const{exportNamesByVariable:s,snippets:{_:i,getPropertyAccess:r}}=t,{end:o,id:a,init:l,start:c}=this,d=a.included;if(d)a.render(e,t);else{const p=Ie(e.original,"=",a.end);e.remove(c,At(e.original,p+1))}l?(a instanceof se&&l instanceof pr&&!l.id&&a.variable.getName(r)!==a.name&&e.appendLeft(l.start+5,` ${a.name}`),l.render(e,t,d?Ne:{renderedSurroundingElement:qe})):a instanceof se&&Gl(a.variable,s)&&e.appendLeft(o,`${i}=${i}void 0`)}applyDeoptimizations(){this.deoptimized=!0;const{id:e,init:t}=this;if(t&&e instanceof se&&t instanceof pr&&!t.id){const{name:s,variable:i}=e;for(const r of t.scope.accessedOutsideVariables.values())r!==i&&r.forbidName(s)}}}function qo(n,e,t){return e==="external"?ns[t(n instanceof re?n.id:null)]:e==="default"?Un:null}const Sh={amd:["require"],cjs:["require"],system:["module"]};function Yo(n){const e=[];for(const t of n.properties){if(t.type==="RestElement"||t.computed||t.key.type!=="Identifier")return;e.push(t.key.name)}return e}class Wl extends z{applyDeoptimizations(){}}const Di="ROLLUP_FILE_URL_",Bi="import",Hl=["cjs","iife","umd"],Nh={amd:["document","module","URL"],cjs:["document","require","URL",It],es:[],iife:["document","URL",It],system:["module"],umd:["document","require","URL",It]},Ph={amd:["document","require","URL"],cjs:["document","require","URL"],es:[],iife:["document","URL"],system:["module","URL"],umd:["document","require","URL"]},Rn=(n,e="URL")=>`new ${e}(${n}).href`,_i=(n,e=!1)=>Rn(`'${Js(n)}', ${e?"typeof document === 'undefined' ? location.href : ":""}document.currentScript && document.currentScript.src || document.baseURI`),fs=n=>(e,{chunkId:t})=>{const s=n(t);return e===null?`({ url: ${s} })`:e==="url"?s:"undefined"},Er=n=>`require('u' + 'rl').pathToFileURL(${n}).href`,Ko=n=>Er(`__dirname + '/${n}'`),Ti=(n,e=!1)=>`${e?"typeof document === 'undefined' ? location.href : ":""}(${It} && ${It}.src || new URL('${Js(n)}', document.baseURI).href)`,Ch={amd:n=>(n[0]!=="."&&(n="./"+n),Rn(`require.toUrl('${n}'), document.baseURI`)),cjs:n=>`(typeof document === 'undefined' ? ${Ko(n)} : ${_i(n)})`,es:n=>Rn(`'${n}', import.meta.url`),iife:n=>_i(n),system:n=>Rn(`'${n}', module.meta.url`),umd:n=>`(typeof document === 'undefined' && typeof location === 'undefined' ? ${Ko(n)} : ${_i(n,!0)})`},zi={amd:fs(()=>Rn("module.uri, document.baseURI")),cjs:fs(n=>`(typeof document === 'undefined' ? ${Er("__filename")} : ${Ti(n)})`),iife:fs(n=>Ti(n)),system:(n,{snippets:{getPropertyAccess:e}})=>n===null?"module.meta":`module.meta${e(n)}`,umd:fs(n=>`(typeof document === 'undefined' && typeof location === 'undefined' ? ${Er("__filename")} : ${Ti(n,!0)})`)};class Ar extends z{constructor(){super(...arguments),this.objectEntity=null}deoptimizeArgumentsOnInteractionAtPath(e,t,s){this.getObjectEntity().deoptimizeArgumentsOnInteractionAtPath(e,t,s)}deoptimizeCache(){this.getObjectEntity().deoptimizeAllProperties()}deoptimizePath(e){this.getObjectEntity().deoptimizePath(e)}getLiteralValueAtPath(e,t,s){return this.getObjectEntity().getLiteralValueAtPath(e,t,s)}getReturnExpressionWhenCalledAtPath(e,t,s,i){return this.getObjectEntity().getReturnExpressionWhenCalledAtPath(e,t,s,i)}hasEffectsOnInteractionAtPath(e,t,s){return this.getObjectEntity().hasEffectsOnInteractionAtPath(e,t,s)}render(e,t,{renderedSurroundingElement:s}=Ne){super.render(e,t),s!==qe&&s!==Al||(e.appendRight(this.start,"("),e.prependLeft(this.end,")"))}applyDeoptimizations(){}getObjectEntity(){if(this.objectEntity!==null)return this.objectEntity;let e=xt;const t=[];for(const s of this.properties){if(s instanceof zn){t.push({key:ne,kind:"init",property:s});continue}let i;if(s.computed){const r=s.key.getLiteralValueAtPath(W,be,this);if(typeof r=="symbol"){t.push({key:ne,kind:s.kind,property:s});continue}i=String(r)}else if(i=s.key instanceof se?s.key.name:String(s.key.value),i==="__proto__"&&s.kind==="init"){e=s.value instanceof Et&&s.value.value===null?null:s.value;continue}t.push({key:i,kind:s.kind,property:s})}return this.objectEntity=new Ve(t,e)}}class Xl extends z{constructor(){super(...arguments),this.hasCachedEffect=null,this.hasLoggedEffect=!1}hasCachedEffects(){return!!this.included&&(this.hasCachedEffect===null?this.hasCachedEffect=this.hasEffects(zs()):this.hasCachedEffect)}hasEffects(e){for(const t of this.body)if(t.hasEffects(e)){if(this.scope.context.options.experimentalLogSideEffects&&!this.hasLoggedEffect){this.hasLoggedEffect=!0;const{code:s,log:i,module:r}=this.scope.context;i(Bt,Yd(s,r.id,Or(s,t.start,{offsetLine:1})),t.start)}return this.hasCachedEffect=!0}return!1}include(e,t){this.included=!0;for(const s of this.body)(t||s.shouldBeIncluded(e))&&s.include(e,t)}render(e,t){let s=this.start;if(e.original.startsWith("#!")&&(s=Math.min(e.original.indexOf(`
`)+1,this.end),e.remove(0,s)),this.body.length>0){for(;e.original[s]==="/"&&/[*/]/.test(e.original[s+1]);){const i=Vn(e.original.slice(s,this.body[0].start));if(i[0]===-1)break;s+=i[1]}Fn(this.body,e,s,this.end,t)}else super.render(e,t)}applyDeoptimizations(){}}class Zl extends z{hasEffects(e){var t;if((t=this.test)!=null&&t.hasEffects(e))return!0;for(const s of this.consequent){if(e.brokenFlow)break;if(s.hasEffects(e))return!0}return!1}include(e,t){var s;this.included=!0,(s=this.test)==null||s.include(e,t);for(const i of this.consequent)(t||i.shouldBeIncluded(e))&&i.include(e,t)}render(e,t,s){if(this.consequent.length>0){this.test&&this.test.render(e,t);const i=this.test?this.test.end:Ie(e.original,"default",this.start)+7,r=Ie(e.original,":",i)+1;Fn(this.consequent,e,r,s.end,t)}else super.render(e,t)}}Zl.prototype.needsBoundaries=!0;class ql extends z{deoptimizeArgumentsOnInteractionAtPath(){}getLiteralValueAtPath(e){return e.length>0||this.quasis.length!==1?ue:this.quasis[0].value.cooked}getReturnExpressionWhenCalledAtPath(e){return e.length!==1?me:ts(Tn,e[0])}hasEffectsOnInteractionAtPath(e,t,s){return t.type===0?e.length>1:t.type!==2||e.length!==1||es(Tn,e[0],t,s)}render(e,t){e.indentExclusionRanges.push([this.start,this.end]),super.render(e,t)}}class Yl extends Ut{constructor(){super("undefined")}getLiteralValueAtPath(){}}class Je extends Qe{constructor(e,t,s){super(e,t,t.declaration,s,"other"),this.hasId=!1,this.originalId=null,this.originalVariable=null;const i=t.declaration;(i instanceof jn||i instanceof js)&&i.id?(this.hasId=!0,this.originalId=i.id):i instanceof se&&(this.originalId=i)}addReference(e){this.hasId||(this.name=e.name)}forbidName(e){const t=this.getOriginalVariable();t===this?super.forbidName(e):t.forbidName(e)}getAssignedVariableName(){return this.originalId&&this.originalId.name||null}getBaseVariableName(){const e=this.getOriginalVariable();return e===this?super.getBaseVariableName():e.getBaseVariableName()}getDirectOriginalVariable(){return!this.originalId||!this.hasId&&(this.originalId.isPossibleTDZ()||this.originalId.variable.isReassigned||this.originalId.variable instanceof Yl||"syntheticNamespace"in this.originalId.variable)?null:this.originalId.variable}getName(e){const t=this.getOriginalVariable();return t===this?super.getName(e):t.getName(e)}getOriginalVariable(){if(this.originalVariable)return this.originalVariable;let e,t=this;const s=new Set;do s.add(t),e=t,t=e.getDirectOriginalVariable();while(t instanceof Je&&!s.has(t));return this.originalVariable=t||e}}class Kl extends Fe{constructor(e,t){super(e,t),this.variables.set("this",new Qe("this",null,Jn,t,"other"))}addDeclaration(e,t,s,i){return this.context.module.importDescriptions.has(e.name)&&t.error(pn(e.name),e.start),super.addDeclaration(e,t,s,i)}addExportDefaultDeclaration(e,t,s){const i=new Je(e,t,s);return this.variables.set("default",i),i}addNamespaceMemberAccess(){}deconflict(e,t,s){for(const i of this.children)i.deconflict(e,t,s)}findLexicalBoundary(){return this}findVariable(e){const t=this.variables.get(e)||this.accessedOutsideVariables.get(e);if(t)return t;const s=this.context.traceVariable(e)||this.parent.findVariable(e);return s instanceof zr&&this.accessedOutsideVariables.set(e,s),s}}const Rh={"!":n=>!n,"+":n=>+n,"-":n=>-n,delete:()=>ue,typeof:n=>typeof n,void:()=>{},"~":n=>~n};class Ql extends z{deoptimizePath(){for(const e of this.declarations)e.deoptimizePath(W)}hasEffectsOnInteractionAtPath(){return!1}include(e,t,{asSingleStatement:s}=Ne){this.included=!0;for(const i of this.declarations){(t||i.shouldBeIncluded(e))&&i.include(e,t);const{id:r,init:o}=i;s&&r.include(e,t),o&&r.included&&!o.included&&(r instanceof In||r instanceof El)&&o.include(e,t)}}initialise(){for(const e of this.declarations)e.declareDeclarator(this.kind)}removeAnnotations(e){this.declarations[0].removeAnnotations(e)}render(e,t,s=Ne){if(function(i,r){for(const o of i){if(!o.id.included)return!1;if(o.id.type===wl){if(r.has(o.id.variable))return!1}else{const a=[];if(o.id.addExportedVariables(a,r),a.length>0)return!1}}return!0}(this.declarations,t.exportNamesByVariable)){for(const i of this.declarations)i.render(e,t);s.isNoStatement||e.original.charCodeAt(this.end-1)===59||e.appendLeft(this.end,";")}else this.renderReplacedDeclarations(e,t)}applyDeoptimizations(){}renderDeclarationEnd(e,t,s,i,r,o,a){e.original.charCodeAt(this.end-1)===59&&e.remove(this.end-1,this.end),t+=";",s===null?e.appendLeft(r,t):(e.original.charCodeAt(i-1)!==10||e.original.charCodeAt(this.end)!==10&&e.original.charCodeAt(this.end)!==13||(i--,e.original.charCodeAt(i)===13&&i--),i===s+1?e.overwrite(s,r,t):(e.overwrite(s,s+1,t),e.remove(i,r))),o.length>0&&e.appendLeft(r,` ${jt(o,a)};`)}renderReplacedDeclarations(e,t){const s=Pl(this.declarations,e,this.start+this.kind.length,this.end-(e.original.charCodeAt(this.end-1)===59?1:0));let i,r;r=At(e.original,this.start+this.kind.length);let o=r-1;e.remove(this.start,o);let a,l=!1,c=!1,d="";const p=[],h=function(f,A,m){var b;let y=null;if(A.format==="system"){for(const{node:k}of f)k.id instanceof se&&k.init&&m.length===0&&((b=A.exportNamesByVariable.get(k.id.variable))==null?void 0:b.length)===1?(y=k.id.variable,m.push(y)):k.id.addExportedVariables(m,A.exportNamesByVariable);m.length>1?y=null:y&&(m.length=0)}return y}(s,t,p);for(const{node:f,start:A,separator:m,contentEnd:y,end:b}of s)if(f.included){if(f.render(e,t),a="",!f.id.included||f.id instanceof se&&Gl(f.id.variable,t.exportNamesByVariable))c&&(d+=";"),l=!1;else{if(h&&h===f.id.variable){const k=Ie(e.original,"=",f.id.end);dr(h,At(e.original,k+1),m===null?y:m,e,t)}l?d+=",":(c&&(d+=";"),a+=`${this.kind} `,l=!0)}r===o+1?e.overwrite(o,r,d+a):(e.overwrite(o,o+1,d),e.appendLeft(r,a)),i=y,r=b,c=!0,o=m,d=""}else e.remove(A,b),f.removeAnnotations(e);this.renderDeclarationEnd(e,d,o,i,r,p,t)}}const Qo={ArrayExpression:bl,ArrayPattern:El,ArrowFunctionExpression:ur,AssignmentExpression:class extends z{hasEffects(n){const{deoptimized:e,left:t,operator:s,right:i}=this;return e||this.applyDeoptimizations(),i.hasEffects(n)||t.hasEffectsAsAssignmentTarget(n,s!=="=")}hasEffectsOnInteractionAtPath(n,e,t){return this.right.hasEffectsOnInteractionAtPath(n,e,t)}include(n,e){const{deoptimized:t,left:s,right:i,operator:r}=this;t||this.applyDeoptimizations(),this.included=!0,(e||r!=="="||s.included||s.hasEffectsAsAssignmentTarget(zs(),!1))&&s.includeAsAssignmentTarget(n,e,r!=="="),i.include(n,e)}initialise(){this.left.setAssignedValue(this.right)}render(n,e,{preventASI:t,renderedParentType:s,renderedSurroundingElement:i}=Ne){const{left:r,right:o,start:a,end:l,parent:c}=this;if(r.included)r.render(n,e),o.render(n,e);else{const d=At(n.original,Ie(n.original,"=",r.end)+1);n.remove(a,d),t&&hs(n,d,o.start),o.render(n,e,{renderedParentType:s||c.type,renderedSurroundingElement:i||c.type})}if(e.format==="system")if(r instanceof se){const d=r.variable,p=e.exportNamesByVariable.get(d);if(p)return void(p.length===1?dr(d,a,l,n,e):zo(d,a,l,c.type!==qe,n,e))}else{const d=[];if(r.addExportedVariables(d,e.exportNamesByVariable),d.length>0)return void function(p,h,f,A,m,y){const{_:b,getDirectReturnIifeLeft:k}=y.snippets;m.prependRight(h,k(["v"],`${jt(p,y)},${b}v`,{needsArrowReturnParens:!0,needsWrappedFunction:A})),m.appendLeft(f,")")}(d,a,l,i===qe,n,e)}r.included&&r instanceof In&&(i===qe||i===Al)&&(n.appendRight(a,"("),n.prependLeft(l,")"))}applyDeoptimizations(){this.deoptimized=!0,this.left.deoptimizePath(W),this.right.deoptimizePath(q),this.scope.context.requestTreeshakingPass()}},AssignmentPattern:class extends z{addExportedVariables(n,e){this.left.addExportedVariables(n,e)}declare(n,e){return this.left.declare(n,e)}deoptimizePath(n){n.length===0&&this.left.deoptimizePath(n)}hasEffectsOnInteractionAtPath(n,e,t){return n.length>0||this.left.hasEffectsOnInteractionAtPath(W,e,t)}markDeclarationReached(){this.left.markDeclarationReached()}render(n,e,{isShorthandProperty:t}=Ne){this.left.render(n,e,{isShorthandProperty:t}),this.right.render(n,e)}applyDeoptimizations(){this.deoptimized=!0,this.left.deoptimizePath(W),this.right.deoptimizePath(q),this.scope.context.requestTreeshakingPass()}},AwaitExpression:Vo,BinaryExpression:class extends z{deoptimizeCache(){}getLiteralValueAtPath(n,e,t){if(n.length>0)return ue;const s=this.left.getLiteralValueAtPath(W,e,t);if(typeof s=="symbol")return ue;const i=this.right.getLiteralValueAtPath(W,e,t);if(typeof i=="symbol")return ue;const r=bh[this.operator];return r?r(s,i):ue}hasEffects(n){return this.operator==="+"&&this.parent instanceof Rt&&this.left.getLiteralValueAtPath(W,be,this)===""||super.hasEffects(n)}hasEffectsOnInteractionAtPath(n,{type:e}){return e!==0||n.length>1}removeAnnotations(n){this.left.removeAnnotations(n)}render(n,e,{renderedSurroundingElement:t}=Ne){this.left.render(n,e,{renderedSurroundingElement:t}),this.right.render(n,e)}},BlockStatement:oi,BreakStatement:class extends z{hasEffects(n){if(this.label){if(!n.ignore.labels.has(this.label.name))return!0;n.includedLabels.add(this.label.name)}else{if(!n.ignore.breaks)return!0;n.hasBreak=!0}return n.brokenFlow=!0,!1}include(n){this.included=!0,this.label?(this.label.include(),n.includedLabels.add(this.label.name)):n.hasBreak=!0,n.brokenFlow=!0}},CallExpression:Fo,CatchClause:Dl,ChainExpression:class extends z{deoptimizeCache(){}getLiteralValueAtPath(n,e,t){if(!this.expression.isSkippedAsOptional(t))return this.expression.getLiteralValueAtPath(n,e,t)}hasEffects(n){return!this.expression.isSkippedAsOptional(this)&&this.expression.hasEffects(n)}removeAnnotations(n){this.expression.removeAnnotations(n)}},ClassBody:class extends z{createScope(n){this.scope=new Ah(n,this.parent)}include(n,e){this.included=!0,this.scope.context.includeVariableInModule(this.scope.thisVariable);for(const t of this.body)t.include(n,e)}parseNode(n){const e=this.body=[];for(const t of n.body)e.push(new(this.scope.context.getNodeConstructor(t.type))(t,this,t.static?this.scope:this.scope.instanceScope));super.parseNode(n)}applyDeoptimizations(){}},ClassDeclaration:js,ClassExpression:pr,ConditionalExpression:class extends z{constructor(){super(...arguments),this.expressionsToBeDeoptimized=[],this.usedBranch=null}get isBranchResolutionAnalysed(){return ee(this.flags,65536)}set isBranchResolutionAnalysed(n){this.flags=te(this.flags,65536,n)}deoptimizeArgumentsOnInteractionAtPath(n,e,t){this.consequent.deoptimizeArgumentsOnInteractionAtPath(n,e,t),this.alternate.deoptimizeArgumentsOnInteractionAtPath(n,e,t)}deoptimizeCache(){if(this.usedBranch!==null){const n=this.usedBranch===this.consequent?this.alternate:this.consequent;this.usedBranch=null,n.deoptimizePath(q);const{expressionsToBeDeoptimized:e}=this;this.expressionsToBeDeoptimized=pe;for(const t of e)t.deoptimizeCache()}}deoptimizePath(n){const e=this.getUsedBranch();e?e.deoptimizePath(n):(this.consequent.deoptimizePath(n),this.alternate.deoptimizePath(n))}getLiteralValueAtPath(n,e,t){const s=this.getUsedBranch();return s?(this.expressionsToBeDeoptimized.push(t),s.getLiteralValueAtPath(n,e,t)):ue}getReturnExpressionWhenCalledAtPath(n,e,t,s){const i=this.getUsedBranch();return i?(this.expressionsToBeDeoptimized.push(s),i.getReturnExpressionWhenCalledAtPath(n,e,t,s)):[new Us([this.consequent.getReturnExpressionWhenCalledAtPath(n,e,t,s)[0],this.alternate.getReturnExpressionWhenCalledAtPath(n,e,t,s)[0]]),!1]}hasEffects(n){if(this.test.hasEffects(n))return!0;const e=this.getUsedBranch();return e?e.hasEffects(n):this.consequent.hasEffects(n)||this.alternate.hasEffects(n)}hasEffectsOnInteractionAtPath(n,e,t){const s=this.getUsedBranch();return s?s.hasEffectsOnInteractionAtPath(n,e,t):this.consequent.hasEffectsOnInteractionAtPath(n,e,t)||this.alternate.hasEffectsOnInteractionAtPath(n,e,t)}include(n,e){this.included=!0;const t=this.getUsedBranch();e||this.test.shouldBeIncluded(n)||t===null?(this.test.include(n,e),this.consequent.include(n,e),this.alternate.include(n,e)):t.include(n,e)}includeCallArguments(n,e){const t=this.getUsedBranch();t?t.includeCallArguments(n,e):(this.consequent.includeCallArguments(n,e),this.alternate.includeCallArguments(n,e))}removeAnnotations(n){this.test.removeAnnotations(n)}render(n,e,{isCalleeOfRenderedParent:t,preventASI:s,renderedParentType:i,renderedSurroundingElement:r}=Ne){const o=this.getUsedBranch();if(this.test.included)this.test.render(n,e,{renderedSurroundingElement:r}),this.consequent.render(n,e),this.alternate.render(n,e);else{const a=Ie(n.original,":",this.consequent.end),l=At(n.original,(this.consequent.included?Ie(n.original,"?",this.test.end):a)+1);s&&hs(n,l,o.start),n.remove(this.start,l),this.consequent.included&&n.remove(a,this.end),this.test.removeAnnotations(n),o.render(n,e,{isCalleeOfRenderedParent:t,preventASI:!0,renderedParentType:i||this.parent.type,renderedSurroundingElement:r||this.parent.type})}}getUsedBranch(){if(this.isBranchResolutionAnalysed)return this.usedBranch;this.isBranchResolutionAnalysed=!0;const n=this.test.getLiteralValueAtPath(W,be,this);return typeof n=="symbol"?null:this.usedBranch=n?this.consequent:this.alternate}},ContinueStatement:class extends z{hasEffects(n){if(this.label){if(!n.ignore.labels.has(this.label.name))return!0;n.includedLabels.add(this.label.name)}else{if(!n.ignore.continues)return!0;n.hasContinue=!0}return n.brokenFlow=!0,!1}include(n){this.included=!0,this.label?(this.label.include(),n.includedLabels.add(this.label.name)):n.hasContinue=!0,n.brokenFlow=!0}},DoWhileStatement:class extends z{hasEffects(n){return!!this.test.hasEffects(n)||ps(n,this.body)}include(n,e){this.included=!0,this.test.include(n,e),kn(n,this.body,e)}},EmptyStatement:class extends z{hasEffects(){return!1}},ExportAllDeclaration:Ur,ExportDefaultDeclaration:ai,ExportNamedDeclaration:Tl,ExportSpecifier:class extends z{applyDeoptimizations(){}},ExpressionStatement:Rt,ForInStatement:class extends z{createScope(n){this.scope=new Dt(n)}hasEffects(n){const{body:e,deoptimized:t,left:s,right:i}=this;return t||this.applyDeoptimizations(),!(!s.hasEffectsAsAssignmentTarget(n,!1)&&!i.hasEffects(n))||ps(n,e)}include(n,e){const{body:t,deoptimized:s,left:i,right:r}=this;s||this.applyDeoptimizations(),this.included=!0,i.includeAsAssignmentTarget(n,e||!0,!1),r.include(n,e),kn(n,t,e)}initialise(){this.left.setAssignedValue(X)}render(n,e){this.left.render(n,e,Pt),this.right.render(n,e,Pt),n.original.charCodeAt(this.right.start-1)===110&&n.prependLeft(this.right.start," "),this.body.render(n,e)}applyDeoptimizations(){this.deoptimized=!0,this.left.deoptimizePath(W),this.scope.context.requestTreeshakingPass()}},ForOfStatement:class extends z{get await(){return ee(this.flags,131072)}set await(n){this.flags=te(this.flags,131072,n)}createScope(n){this.scope=new Dt(n)}hasEffects(){return this.deoptimized||this.applyDeoptimizations(),!0}include(n,e){const{body:t,deoptimized:s,left:i,right:r}=this;s||this.applyDeoptimizations(),this.included=!0,i.includeAsAssignmentTarget(n,e||!0,!1),r.include(n,e),kn(n,t,e)}initialise(){this.left.setAssignedValue(X)}render(n,e){this.left.render(n,e,Pt),this.right.render(n,e,Pt),n.original.charCodeAt(this.right.start-1)===102&&n.prependLeft(this.right.start," "),this.body.render(n,e)}applyDeoptimizations(){this.deoptimized=!0,this.left.deoptimizePath(W),this.right.deoptimizePath(q),this.scope.context.requestTreeshakingPass()}},ForStatement:class extends z{createScope(n){this.scope=new Dt(n)}hasEffects(n){var e,t,s;return!!((e=this.init)!=null&&e.hasEffects(n)||(t=this.test)!=null&&t.hasEffects(n)||(s=this.update)!=null&&s.hasEffects(n))||ps(n,this.body)}include(n,e){var t,s,i;this.included=!0,(t=this.init)==null||t.include(n,e,{asSingleStatement:!0}),(s=this.test)==null||s.include(n,e),(i=this.update)==null||i.include(n,e),kn(n,this.body,e)}render(n,e){var t,s,i;(t=this.init)==null||t.render(n,e,Pt),(s=this.test)==null||s.render(n,e,Pt),(i=this.update)==null||i.render(n,e,Pt),this.body.render(n,e)}},FunctionDeclaration:jn,FunctionExpression:jo,Identifier:se,IfStatement:Gr,ImportAttribute:class extends z{},ImportDeclaration:zl,ImportDefaultSpecifier:Vl,ImportExpression:class extends z{constructor(){super(...arguments),this.inlineNamespace=null,this.attributes=null,this.mechanism=null,this.namespaceExportName=void 0,this.resolution=null,this.resolutionString=null}bind(){this.source.bind()}getDeterministicImportedNames(){const n=this.parent;if(n instanceof Rt)return pe;if(n instanceof Vo){const e=n.parent;if(e instanceof Rt)return pe;if(e instanceof Zo){const t=e.id;return t instanceof In?Yo(t):void 0}if(e instanceof gt){const t=e.property;if(!e.computed&&t instanceof se)return[t.name]}}else if(n instanceof gt){const e=n.parent,t=n.property;if(!(e instanceof Fo&&t instanceof se))return;const s=t.name;if(e.parent instanceof Rt&&["catch","finally"].includes(s))return pe;if(s!=="then")return;if(e.arguments.length===0)return pe;const i=e.arguments[0];if(e.arguments.length!==1||!(i instanceof ur||i instanceof jo))return;if(i.params.length===0)return pe;const r=i.params[0];return i.params.length===1&&r instanceof In?Yo(r):void 0}}hasEffects(){return!0}include(n,e){this.included||(this.included=!0,this.scope.context.includeDynamicImport(this),this.scope.addAccessedDynamicImport(this)),this.source.include(n,e)}initialise(){this.scope.context.addDynamicImport(this)}parseNode(n){super.parseNode(n,["source"])}render(n,e){const{snippets:{_:t,getDirectReturnFunction:s,getObject:i,getPropertyAccess:r}}=e;if(this.inlineNamespace){const[o,a]=s([],{functionReturn:!0,lineBreakIndent:null,name:null});n.overwrite(this.start,this.end,`Promise.resolve().then(${o}${this.inlineNamespace.getName(r)}${a})`)}else{if(this.mechanism&&(n.overwrite(this.start,Ie(n.original,"(",this.start+6)+1,this.mechanism.left),n.overwrite(this.end-1,this.end,this.mechanism.right)),this.resolutionString){if(n.overwrite(this.source.start,this.source.end,this.resolutionString),this.namespaceExportName){const[o,a]=s(["n"],{functionReturn:!0,lineBreakIndent:null,name:null});n.prependLeft(this.end,`.then(${o}n.${this.namespaceExportName}${a})`)}}else this.source.render(n,e);this.attributes!==!0&&(this.options&&n.overwrite(this.source.end,this.end-1,"",{contentOnly:!0}),this.attributes&&n.appendLeft(this.end-1,`,${t}${i([["assert",this.attributes]],{lineBreakIndent:null})}`))}}setExternalResolution(n,e,t,s,i,r,o,a,l){const{format:c}=t;this.inlineNamespace=null,this.resolution=e,this.resolutionString=o,this.namespaceExportName=a,this.attributes=l;const d=[...Sh[c]||[]];let p;({helper:p,mechanism:this.mechanism}=this.getDynamicImportMechanismAndHelper(e,n,t,s,i)),p&&d.push(p),d.length>0&&this.scope.addAccessedGlobals(d,r)}setInternalResolution(n){this.inlineNamespace=n}applyDeoptimizations(){}getDynamicImportMechanismAndHelper(n,e,{compact:t,dynamicImportInCjs:s,format:i,generatedCode:{arrowFunctions:r},interop:o},{_:a,getDirectReturnFunction:l,getDirectReturnIifeLeft:c},d){const p=d.hookFirstSync("renderDynamicImport",[{customResolution:typeof this.resolution=="string"?this.resolution:null,format:i,moduleId:this.scope.context.module.id,targetModuleId:this.resolution&&typeof this.resolution!="string"?this.resolution.id:null}]);if(p)return{helper:null,mechanism:p};const h=!this.resolution||typeof this.resolution=="string";switch(i){case"cjs":{if(s&&(!n||typeof n=="string"||n instanceof re))return{helper:null,mechanism:null};const f=qo(n,e,o);let A="require(",m=")";f&&(A=`/*#__PURE__*/${f}(${A}`,m+=")");const[y,b]=l([],{functionReturn:!0,lineBreakIndent:null,name:null});return A=`Promise.resolve().then(${y}${A}`,m+=`${b})`,!r&&h&&(A=c(["t"],`${A}t${m}`,{needsArrowReturnParens:!1,needsWrappedFunction:!0}),m=")"),{helper:f,mechanism:{left:A,right:m}}}case"amd":{const f=t?"c":"resolve",A=t?"e":"reject",m=qo(n,e,o),[y,b]=l(["m"],{functionReturn:!1,lineBreakIndent:null,name:null}),k=m?`${y}${f}(/*#__PURE__*/${m}(m))${b}`:f,[g,E]=l([f,A],{functionReturn:!1,lineBreakIndent:null,name:null});let w=`new Promise(${g}require([`,$=`],${a}${k},${a}${A})${E})`;return!r&&h&&(w=c(["t"],`${w}t${$}`,{needsArrowReturnParens:!1,needsWrappedFunction:!0}),$=")"),{helper:m,mechanism:{left:w,right:$}}}case"system":return{helper:null,mechanism:{left:"module.import(",right:")"}}}return{helper:null,mechanism:null}}},ImportNamespaceSpecifier:Wl,ImportSpecifier:class extends z{applyDeoptimizations(){}},LabeledStatement:class extends z{hasEffects(n){const{brokenFlow:e,includedLabels:t}=n;n.ignore.labels.add(this.label.name),n.includedLabels=new Set;let s=!1;return this.body.hasEffects(n)?s=!0:(n.ignore.labels.delete(this.label.name),n.includedLabels.has(this.label.name)&&(n.includedLabels.delete(this.label.name),n.brokenFlow=e)),n.includedLabels=new Set([...t,...n.includedLabels]),s}include(n,e){this.included=!0;const{brokenFlow:t,includedLabels:s}=n;n.includedLabels=new Set,this.body.include(n,e),(e||n.includedLabels.has(this.label.name))&&(this.label.include(),n.includedLabels.delete(this.label.name),n.brokenFlow=t),n.includedLabels=new Set([...s,...n.includedLabels])}render(n,e){this.label.included?this.label.render(n,e):n.remove(this.start,At(n.original,Ie(n.original,":",this.label.end)+1)),this.body.render(n,e)}},Literal:Et,LogicalExpression:class extends z{constructor(){super(...arguments),this.expressionsToBeDeoptimized=[],this.usedBranch=null}get isBranchResolutionAnalysed(){return ee(this.flags,65536)}set isBranchResolutionAnalysed(n){this.flags=te(this.flags,65536,n)}deoptimizeArgumentsOnInteractionAtPath(n,e,t){this.left.deoptimizeArgumentsOnInteractionAtPath(n,e,t),this.right.deoptimizeArgumentsOnInteractionAtPath(n,e,t)}deoptimizeCache(){if(this.usedBranch){const n=this.usedBranch===this.left?this.right:this.left;this.usedBranch=null,n.deoptimizePath(q);const{scope:{context:e},expressionsToBeDeoptimized:t}=this;this.expressionsToBeDeoptimized=pe;for(const s of t)s.deoptimizeCache();e.requestTreeshakingPass()}}deoptimizePath(n){const e=this.getUsedBranch();e?e.deoptimizePath(n):(this.left.deoptimizePath(n),this.right.deoptimizePath(n))}getLiteralValueAtPath(n,e,t){const s=this.getUsedBranch();return s?(this.expressionsToBeDeoptimized.push(t),s.getLiteralValueAtPath(n,e,t)):ue}getReturnExpressionWhenCalledAtPath(n,e,t,s){const i=this.getUsedBranch();return i?(this.expressionsToBeDeoptimized.push(s),i.getReturnExpressionWhenCalledAtPath(n,e,t,s)):[new Us([this.left.getReturnExpressionWhenCalledAtPath(n,e,t,s)[0],this.right.getReturnExpressionWhenCalledAtPath(n,e,t,s)[0]]),!1]}hasEffects(n){return!!this.left.hasEffects(n)||this.getUsedBranch()!==this.left&&this.right.hasEffects(n)}hasEffectsOnInteractionAtPath(n,e,t){const s=this.getUsedBranch();return s?s.hasEffectsOnInteractionAtPath(n,e,t):this.left.hasEffectsOnInteractionAtPath(n,e,t)||this.right.hasEffectsOnInteractionAtPath(n,e,t)}include(n,e){this.included=!0;const t=this.getUsedBranch();e||t===this.right&&this.left.shouldBeIncluded(n)||!t?(this.left.include(n,e),this.right.include(n,e)):t.include(n,e)}removeAnnotations(n){this.left.removeAnnotations(n)}render(n,e,{isCalleeOfRenderedParent:t,preventASI:s,renderedParentType:i,renderedSurroundingElement:r}=Ne){if(this.left.included&&this.right.included)this.left.render(n,e,{preventASI:s,renderedSurroundingElement:r}),this.right.render(n,e);else{const o=Ie(n.original,this.operator,this.left.end);if(this.right.included){const a=At(n.original,o+2);n.remove(this.start,a),s&&hs(n,a,this.right.start),this.left.removeAnnotations(n)}else n.remove(o,this.end);this.getUsedBranch().render(n,e,{isCalleeOfRenderedParent:t,preventASI:s,renderedParentType:i||this.parent.type,renderedSurroundingElement:r||this.parent.type})}}getUsedBranch(){if(!this.isBranchResolutionAnalysed){this.isBranchResolutionAnalysed=!0;const n=this.left.getLiteralValueAtPath(W,be,this);if(typeof n=="symbol")return null;this.usedBranch=this.operator==="||"&&n||this.operator==="&&"&&!n||this.operator==="??"&&n!=null?this.left:this.right}return this.usedBranch}},MemberExpression:gt,MetaProperty:class extends z{constructor(){super(...arguments),this.metaProperty=null,this.preliminaryChunkId=null,this.referenceId=null}getReferencedFileName(n){const{meta:{name:e},metaProperty:t}=this;return e===Bi&&(t!=null&&t.startsWith(Di))?n.getFileName(t.slice(16)):null}hasEffects(){return!1}hasEffectsOnInteractionAtPath(n,{type:e}){return n.length>1||e!==0}include(){if(!this.included&&(this.included=!0,this.meta.name===Bi)){this.scope.context.addImportMeta(this);const n=this.parent,e=this.metaProperty=n instanceof gt&&typeof n.propertyKey=="string"?n.propertyKey:null;e!=null&&e.startsWith(Di)&&(this.referenceId=e.slice(16))}}render(n,e){var y;const{format:t,pluginDriver:s,snippets:i}=e,{scope:{context:{module:r}},meta:{name:o},metaProperty:a,parent:l,preliminaryChunkId:c,referenceId:d,start:p,end:h}=this,{id:f}=r;if(o!==Bi)return;const A=c;if(d){const b=s.getFileName(d),k=Yn(hn(Vt(A),b)),g=s.hookFirstSync("resolveFileUrl",[{chunkId:A,fileName:b,format:t,moduleId:f,referenceId:d,relativePath:k}])||Ch[t](k);return void n.overwrite(l.start,l.end,g,{contentOnly:!0})}let m=s.hookFirstSync("resolveImportMeta",[a,{chunkId:A,format:t,moduleId:f}]);m||(m=(y=zi[t])==null?void 0:y.call(zi,a,{chunkId:A,snippets:i}),e.accessedDocumentCurrentScript||(e.accessedDocumentCurrentScript=Hl.includes(t)&&m!=="undefined")),typeof m=="string"&&(l instanceof gt?n.overwrite(l.start,l.end,m,{contentOnly:!0}):n.overwrite(p,h,m,{contentOnly:!0}))}setResolution(n,e,t){var i;this.preliminaryChunkId=t;const s=((i=this.metaProperty)!=null&&i.startsWith(Di)?Ph:Nh)[n];s.length>0&&this.scope.addAccessedGlobals(s,e)}},MethodDefinition:hr,NewExpression:class extends z{hasEffects(n){try{for(const e of this.arguments)if(e.hasEffects(n))return!0;return!this.annotationPure&&(this.callee.hasEffects(n)||this.callee.hasEffectsOnInteractionAtPath(W,this.interaction,n))}finally{this.deoptimized||this.applyDeoptimizations()}}hasEffectsOnInteractionAtPath(n,{type:e}){return n.length>0||e!==0}include(n,e){this.deoptimized||this.applyDeoptimizations(),e?super.include(n,e):(this.included=!0,this.callee.include(n,!1)),this.callee.includeCallArguments(n,this.arguments)}initialise(){this.interaction={args:[null,...this.arguments],type:2,withNew:!0}}render(n,e){this.callee.render(n,e),Rl(n,e,this)}applyDeoptimizations(){this.deoptimized=!0,this.callee.deoptimizeArgumentsOnInteractionAtPath(this.interaction,W,be),this.scope.context.requestTreeshakingPass()}},ObjectExpression:Ar,ObjectPattern:In,PrivateIdentifier:class extends z{},Program:Xl,Property:class extends Bl{constructor(){super(...arguments),this.declarationInit=null}get method(){return ee(this.flags,262144)}set method(n){this.flags=te(this.flags,262144,n)}get shorthand(){return ee(this.flags,524288)}set shorthand(n){this.flags=te(this.flags,524288,n)}declare(n,e){return this.declarationInit=e,this.value.declare(n,X)}hasEffects(n){this.deoptimized||this.applyDeoptimizations();const e=this.scope.context.options.treeshake.propertyReadSideEffects;return this.parent.type==="ObjectPattern"&&e==="always"||this.key.hasEffects(n)||this.value.hasEffects(n)}markDeclarationReached(){this.value.markDeclarationReached()}render(n,e){this.shorthand||this.key.render(n,e),this.value.render(n,e,{isShorthandProperty:this.shorthand})}applyDeoptimizations(){this.deoptimized=!0,this.declarationInit!==null&&(this.declarationInit.deoptimizePath([ne,ne]),this.scope.context.requestTreeshakingPass())}},PropertyDefinition:class extends z{get computed(){return ee(this.flags,1024)}set computed(n){this.flags=te(this.flags,1024,n)}deoptimizeArgumentsOnInteractionAtPath(n,e,t){var s;(s=this.value)==null||s.deoptimizeArgumentsOnInteractionAtPath(n,e,t)}deoptimizePath(n){var e;(e=this.value)==null||e.deoptimizePath(n)}getLiteralValueAtPath(n,e,t){return this.value?this.value.getLiteralValueAtPath(n,e,t):ue}getReturnExpressionWhenCalledAtPath(n,e,t,s){return this.value?this.value.getReturnExpressionWhenCalledAtPath(n,e,t,s):me}hasEffects(n){var e;return this.key.hasEffects(n)||this.static&&!!((e=this.value)!=null&&e.hasEffects(n))}hasEffectsOnInteractionAtPath(n,e,t){return!this.value||this.value.hasEffectsOnInteractionAtPath(n,e,t)}applyDeoptimizations(){}},RestElement:cr,ReturnStatement:class extends z{hasEffects(n){var e;return!(n.ignore.returnYield&&!((e=this.argument)!=null&&e.hasEffects(n)))||(n.brokenFlow=!0,!1)}include(n,e){var t;this.included=!0,(t=this.argument)==null||t.include(n,e),n.brokenFlow=!0}initialise(){this.scope.addReturnExpression(this.argument||X)}render(n,e){this.argument&&(this.argument.render(n,e,{preventASI:!0}),this.argument.start===this.start+6&&n.prependLeft(this.start+6," "))}},SequenceExpression:class extends z{deoptimizeArgumentsOnInteractionAtPath(n,e,t){this.expressions[this.expressions.length-1].deoptimizeArgumentsOnInteractionAtPath(n,e,t)}deoptimizePath(n){this.expressions[this.expressions.length-1].deoptimizePath(n)}getLiteralValueAtPath(n,e,t){return this.expressions[this.expressions.length-1].getLiteralValueAtPath(n,e,t)}hasEffects(n){for(const e of this.expressions)if(e.hasEffects(n))return!0;return!1}hasEffectsOnInteractionAtPath(n,e,t){return this.expressions[this.expressions.length-1].hasEffectsOnInteractionAtPath(n,e,t)}include(n,e){this.included=!0;const t=this.expressions[this.expressions.length-1];for(const s of this.expressions)(e||s===t&&!(this.parent instanceof Rt)||s.shouldBeIncluded(n))&&s.include(n,e)}removeAnnotations(n){this.expressions[0].removeAnnotations(n)}render(n,e,{renderedParentType:t,isCalleeOfRenderedParent:s,preventASI:i}=Ne){let r=0,o=null;const a=this.expressions[this.expressions.length-1];for(const{node:l,separator:c,start:d,end:p}of Pl(this.expressions,n,this.start,this.end))if(l.included)if(r++,o=c,r===1&&i&&hs(n,d,l.start),r===1){const h=t||this.parent.type;l.render(n,e,{isCalleeOfRenderedParent:s&&l===a,renderedParentType:h,renderedSurroundingElement:h})}else l.render(n,e);else Vr(l,n,d,p);o&&n.remove(o,this.end)}},SpreadElement:zn,StaticBlock:class extends z{createScope(n){this.scope=new Dt(n)}hasEffects(n){for(const e of this.body)if(e.hasEffects(n))return!0;return!1}include(n,e){this.included=!0;for(const t of this.body)(e||t.shouldBeIncluded(n))&&t.include(n,e)}render(n,e){if(this.body.length>0){const t=Ie(n.original.slice(this.start,this.end),"{")+1;Fn(this.body,n,this.start+t,this.end-1,e)}else super.render(n,e)}},Super:class extends z{bind(){this.variable=this.scope.findVariable("this")}deoptimizeArgumentsOnInteractionAtPath(n,e,t){this.variable.deoptimizeArgumentsOnInteractionAtPath(n,e,t)}deoptimizePath(n){this.variable.deoptimizePath(n)}include(){this.included||(this.included=!0,this.scope.context.includeVariableInModule(this.variable))}},SwitchCase:Zl,SwitchStatement:class extends z{createScope(n){this.parentScope=n,this.scope=new Dt(n)}hasEffects(n){if(this.discriminant.hasEffects(n))return!0;const{brokenFlow:e,hasBreak:t,ignore:s}=n,{breaks:i}=s;s.breaks=!0,n.hasBreak=!1;let r=!0;for(const o of this.cases){if(o.hasEffects(n))return!0;r&&(r=n.brokenFlow&&!n.hasBreak),n.hasBreak=!1,n.brokenFlow=e}return this.defaultCase!==null&&(n.brokenFlow=r),s.breaks=i,n.hasBreak=t,!1}include(n,e){this.included=!0,this.discriminant.include(n,e);const{brokenFlow:t,hasBreak:s}=n;n.hasBreak=!1;let i=!0,r=e||this.defaultCase!==null&&this.defaultCase<this.cases.length-1;for(let o=this.cases.length-1;o>=0;o--){const a=this.cases[o];if(a.included&&(r=!0),!r){const l=zs();l.ignore.breaks=!0,r=a.hasEffects(l)}r?(a.include(n,e),i&&(i=n.brokenFlow&&!n.hasBreak),n.hasBreak=!1,n.brokenFlow=t):i=t}r&&this.defaultCase!==null&&(n.brokenFlow=i),n.hasBreak=s}initialise(){for(let n=0;n<this.cases.length;n++)if(this.cases[n].test===null)return void(this.defaultCase=n);this.defaultCase=null}parseNode(n){this.discriminant=new(this.scope.context.getNodeConstructor(n.discriminant.type))(n.discriminant,this,this.parentScope),super.parseNode(n)}render(n,e){this.discriminant.render(n,e),this.cases.length>0&&Fn(this.cases,n,this.cases[0].start,this.end-1,e)}},TaggedTemplateExpression:class extends Ll{bind(){if(super.bind(),this.tag.type===wl){const n=this.tag.name;this.scope.findVariable(n).isNamespace&&this.scope.context.log(j,hl(n),this.start)}}hasEffects(n){try{for(const e of this.quasi.expressions)if(e.hasEffects(n))return!0;return this.tag.hasEffects(n)||this.tag.hasEffectsOnInteractionAtPath(W,this.interaction,n)}finally{this.deoptimized||this.applyDeoptimizations()}}include(n,e){this.deoptimized||this.applyDeoptimizations(),e?super.include(n,e):(this.included=!0,this.tag.include(n,e),this.quasi.include(n,e)),this.tag.includeCallArguments(n,this.args);const[t]=this.getReturnExpression();t.included||t.include(n,!1)}initialise(){this.args=[X,...this.quasi.expressions],this.interaction={args:[this.tag instanceof gt&&!this.tag.variable?this.tag.object:null,...this.args],type:2,withNew:!1}}render(n,e){this.tag.render(n,e,{isCalleeOfRenderedParent:!0}),this.quasi.render(n,e)}applyDeoptimizations(){this.deoptimized=!0,this.tag.deoptimizeArgumentsOnInteractionAtPath(this.interaction,W,be),this.scope.context.requestTreeshakingPass()}getReturnExpression(n=be){return this.returnExpression===null?(this.returnExpression=me,this.returnExpression=this.tag.getReturnExpressionWhenCalledAtPath(W,this.interaction,n,this)):this.returnExpression}},TemplateElement:class extends z{get tail(){return ee(this.flags,1048576)}set tail(n){this.flags=te(this.flags,1048576,n)}bind(){}hasEffects(){return!1}include(){this.included=!0}parseNode(n){this.value=n.value,super.parseNode(n)}render(){}},TemplateLiteral:ql,ThisExpression:class extends z{bind(){this.variable=this.scope.findVariable("this")}deoptimizeArgumentsOnInteractionAtPath(n,e,t){this.variable.deoptimizeArgumentsOnInteractionAtPath(n,e,t)}deoptimizePath(n){this.variable.deoptimizePath(n)}hasEffectsOnInteractionAtPath(n,e,t){return n.length===0?e.type!==0:this.variable.hasEffectsOnInteractionAtPath(n,e,t)}include(){this.included||(this.included=!0,this.scope.context.includeVariableInModule(this.variable))}initialise(){this.alias=this.scope.findLexicalBoundary()instanceof Kl?this.scope.context.moduleContext:null,this.alias==="undefined"&&this.scope.context.log(j,{code:"THIS_IS_UNDEFINED",message:"The 'this' keyword is equivalent to 'undefined' at the top level of an ES module, and has been rewritten",url:we("troubleshooting/#error-this-is-undefined")},this.start)}render(n){this.alias!==null&&n.overwrite(this.start,this.end,this.alias,{contentOnly:!1,storeName:!0})}},ThrowStatement:class extends z{hasEffects(){return!0}include(n,e){this.included=!0,this.argument.include(n,e),n.brokenFlow=!0}render(n,e){this.argument.render(n,e,{preventASI:!0}),this.argument.start===this.start+5&&n.prependLeft(this.start+5," ")}},TryStatement:class extends z{constructor(){super(...arguments),this.directlyIncluded=!1,this.includedLabelsAfterBlock=null}hasEffects(n){var e;return(this.scope.context.options.treeshake.tryCatchDeoptimization?this.block.body.length>0:this.block.hasEffects(n))||!!((e=this.finalizer)!=null&&e.hasEffects(n))}include(n,e){var r,o;const t=(r=this.scope.context.options.treeshake)==null?void 0:r.tryCatchDeoptimization,{brokenFlow:s,includedLabels:i}=n;if(this.directlyIncluded&&t){if(this.includedLabelsAfterBlock)for(const a of this.includedLabelsAfterBlock)i.add(a)}else this.included=!0,this.directlyIncluded=!0,this.block.include(n,t?gl:e),i.size>0&&(this.includedLabelsAfterBlock=[...i]),n.brokenFlow=s;this.handler!==null&&(this.handler.include(n,e),n.brokenFlow=s),(o=this.finalizer)==null||o.include(n,e)}},UnaryExpression:class extends z{get prefix(){return ee(this.flags,2097152)}set prefix(n){this.flags=te(this.flags,2097152,n)}getLiteralValueAtPath(n,e,t){if(n.length>0)return ue;const s=this.argument.getLiteralValueAtPath(W,e,t);return typeof s=="symbol"?ue:Rh[this.operator](s)}hasEffects(n){return this.deoptimized||this.applyDeoptimizations(),!(this.operator==="typeof"&&this.argument instanceof se)&&(this.argument.hasEffects(n)||this.operator==="delete"&&this.argument.hasEffectsOnInteractionAtPath(W,Rr,n))}hasEffectsOnInteractionAtPath(n,{type:e}){return e!==0||n.length>(this.operator==="void"?0:1)}applyDeoptimizations(){this.deoptimized=!0,this.operator==="delete"&&(this.argument.deoptimizePath(W),this.scope.context.requestTreeshakingPass())}},UnknownNode:class extends z{hasEffects(){return!0}include(n){super.include(n,!0)}},UpdateExpression:class extends z{hasEffects(n){return this.deoptimized||this.applyDeoptimizations(),this.argument.hasEffectsAsAssignmentTarget(n,!0)}hasEffectsOnInteractionAtPath(n,{type:e}){return n.length>1||e!==0}include(n,e){this.deoptimized||this.applyDeoptimizations(),this.included=!0,this.argument.includeAsAssignmentTarget(n,e,!0)}initialise(){this.argument.setAssignedValue(X)}render(n,e){const{exportNamesByVariable:t,format:s,snippets:{_:i}}=e;if(this.argument.render(n,e),s==="system"){const r=this.argument.variable,o=t.get(r);if(o)if(this.prefix)o.length===1?dr(r,this.start,this.end,n,e):zo(r,this.start,this.end,this.parent.type!==qe,n,e);else{const a=this.operator[0];(function(l,c,d,p,h,f,A){const{_:m}=f.snippets;h.prependRight(c,`${jt([l],f,A)},${m}`),p&&(h.prependRight(c,"("),h.appendLeft(d,")"))})(r,this.start,this.end,this.parent.type!==qe,n,e,`${i}${a}${i}1`)}}}applyDeoptimizations(){this.deoptimized=!0,this.argument.deoptimizePath(W),this.argument instanceof se&&(this.scope.findVariable(this.argument.name).isReassigned=!0),this.scope.context.requestTreeshakingPass()}},VariableDeclaration:Ql,VariableDeclarator:Zo,WhileStatement:class extends z{hasEffects(n){return!!this.test.hasEffects(n)||ps(n,this.body)}include(n,e){this.included=!0,this.test.include(n,e),kn(n,this.body,e)}},YieldExpression:class extends z{hasEffects(n){var e;return this.deoptimized||this.applyDeoptimizations(),!(n.ignore.returnYield&&!((e=this.argument)!=null&&e.hasEffects(n)))}render(n,e){this.argument&&(this.argument.render(n,e,{preventASI:!0}),this.argument.start===this.start+5&&n.prependLeft(this.start+5," "))}}},cn="_missingExportShim";class Mh extends Ut{constructor(e){super(cn),this.module=e}include(){super.include(),this.module.needsExportShim=!0}}class Mn extends Ut{constructor(e){super(e.getModuleName()),this.memberVariables=null,this.mergedNamespaces=[],this.referencedEarly=!1,this.references=[],this.context=e,this.module=e.module}addReference(e){this.references.push(e),this.name=e.name}deoptimizeArgumentsOnInteractionAtPath(e,t,s){var i;if(t.length>1||t.length===1&&e.type===2){const r=t[0];typeof r=="string"?(i=this.getMemberVariables()[r])==null||i.deoptimizeArgumentsOnInteractionAtPath(e,t.slice(1),s):St(e)}}deoptimizePath(e){var t;if(e.length>1){const s=e[0];typeof s=="string"&&((t=this.getMemberVariables()[s])==null||t.deoptimizePath(e.slice(1)))}}getLiteralValueAtPath(e){return e[0]===Cr?"Module":ue}getMemberVariables(){if(this.memberVariables)return this.memberVariables;const e=Object.create(null),t=[...this.context.getExports(),...this.context.getReexports()].sort();for(const s of t)if(s[0]!=="*"&&s!==this.module.info.syntheticNamedExports){const i=this.context.traceExport(s);i&&(e[s]=i)}return this.memberVariables=e}hasEffectsOnInteractionAtPath(e,t,s){const{type:i}=t;if(e.length===0)return!0;if(e.length===1&&i!==2)return i===1;const r=e[0];if(typeof r!="string")return!0;const o=this.getMemberVariables()[r];return!o||o.hasEffectsOnInteractionAtPath(e.slice(1),t,s)}include(){super.include(),this.context.includeAllExports()}prepare(e){this.mergedNamespaces.length>0&&this.module.scope.addAccessedGlobals([Gs],e)}renderBlock(e){const{exportNamesByVariable:t,format:s,freeze:i,indent:r,symbols:o,snippets:{_:a,cnst:l,getObject:c,getPropertyAccess:d,n:p,s:h}}=e,f=this.getMemberVariables(),A=Object.entries(f).filter(([y,b])=>b.included).map(([y,b])=>this.referencedEarly||b.isReassigned||b===this?[null,`get ${Mr(y)}${a}()${a}{${a}return ${b.getName(d)}${h}${a}}`]:[y,b.getName(d)]);A.unshift([null,`__proto__:${a}null`]);let m=c(A,{lineBreakIndent:{base:"",t:r}});if(this.mergedNamespaces.length>0){const y=this.mergedNamespaces.map(b=>b.getName(d));m=`/*#__PURE__*/${Gs}(${m},${a}[${y.join(`,${a}`)}])`}else o&&(m=`/*#__PURE__*/Object.defineProperty(${m},${a}Symbol.toStringTag,${a}${Gn(c)})`),i&&(m=`/*#__PURE__*/Object.freeze(${m})`);return m=`${l} ${this.getName(d)}${a}=${a}${m};`,s==="system"&&t.has(this)&&(m+=`${p}${jt([this],e)};`),m}renderFirst(){return this.referencedEarly}setMergedNamespaces(e){this.mergedNamespaces=e;const t=this.context.getModuleExecIndex();for(const s of this.references){const{context:i}=s.scope;if(i.getModuleExecIndex()<=t){this.referencedEarly=!0;break}}}}Mn.prototype.isNamespace=!0;class Le extends Ut{constructor(e,t,s){super(t),this.baseVariable=null,this.context=e,this.module=e.module,this.syntheticNamespace=s}getBaseVariable(){if(this.baseVariable)return this.baseVariable;let e=this.syntheticNamespace;for(;e instanceof Je||e instanceof Le;){if(e instanceof Je){const t=e.getOriginalVariable();if(t===e)break;e=t}e instanceof Le&&(e=e.syntheticNamespace)}return this.baseVariable=e}getBaseVariableName(){return this.syntheticNamespace.getBaseVariableName()}getName(e){return`${this.syntheticNamespace.getName(e)}${e(this.name)}`}include(){super.include(),this.context.includeVariableInModule(this.syntheticNamespace)}setRenderNames(e,t){super.setRenderNames(e,t)}}var Tt;(function(n){n[n.LOAD_AND_PARSE=0]="LOAD_AND_PARSE",n[n.ANALYSE=1]="ANALYSE",n[n.GENERATE=2]="GENERATE"})(Tt||(Tt={}));const Jl=new WeakMap;function Wr(n,e){if(n){const t=Jl.get(n);t&&function(s){s.encodedMappings===void 0&&s.decodedMappings&&(s.encodedMappings=Nr.encode(s.decodedMappings)),s.decodedMappings=void 0}(t)}if(e)for(const t of e)t.missing||Wr(t)}function sn(n){if(!n)return null;if(typeof n=="string"&&(n=JSON.parse(n)),!n.mappings)return{mappings:[],names:[],sources:[],version:3};const e=n.mappings,t=Array.isArray(e),s={decodedMappings:t?e:void 0,encodedMappings:t?void 0:e},i={...n,get mappings(){return s.decodedMappings||(s.decodedMappings=s.encodedMappings?Nr.decode(s.encodedMappings):[],s.encodedMappings=void 0),s.decodedMappings}};return Jl.set(i,s),i}function Vi(n){return n.id}let Se;const at=new Array(128).fill(void 0);function J(n){return at[n]}at.push(void 0,null,!0,!1);let On=at.length;function Jo(n){const e=J(n);return function(t){t<132||(at[t]=On,On=t)}(n),e}const ec=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&ec.decode();let $n=null;function Sn(){return $n!==null&&$n.byteLength!==0||($n=new Uint8Array(Se.memory.buffer)),$n}function Ss(n,e){return n>>>=0,ec.decode(Sn().subarray(n,n+e))}function ce(n){On===at.length&&at.push(at.length+1);const e=On;return On=at[e],at[e]=n,e}let Fi=0;const Ns=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},Oh=typeof Ns.encodeInto=="function"?function(n,e){return Ns.encodeInto(n,e)}:function(n,e){const t=Ns.encode(n);return e.set(t),{read:n.length,written:t.length}};let Nn=null;function Ws(){return Nn!==null&&Nn.byteLength!==0||(Nn=new Int32Array(Se.memory.buffer)),Nn}function tc(n,e){try{const a=Se.__wbindgen_add_to_stack_pointer(-16),l=function(d,p,h){if(h===void 0){const b=Ns.encode(d),k=p(b.length,1)>>>0;return Sn().subarray(k,k+b.length).set(b),Fi=b.length,k}let f=d.length,A=p(f,1)>>>0;const m=Sn();let y=0;for(;y<f;y++){const b=d.charCodeAt(y);if(b>127)break;m[A+y]=b}if(y!==f){y!==0&&(d=d.slice(y)),A=h(A,f,f=y+3*d.length,1)>>>0;const b=Sn().subarray(A+y,A+f);y+=Oh(d,b).written}return Fi=y,A}(n,Se.__wbindgen_malloc,Se.__wbindgen_realloc),c=Fi;Se.parse(a,l,c,e);var t=Ws()[a/4+0],s=Ws()[a/4+1],i=(r=t,o=s,r>>>=0,Sn().subarray(r/1,r/1+o)).slice();return Se.__wbindgen_free(t,1*s,1),i}finally{Se.__wbindgen_add_to_stack_pointer(16)}var r,o}function it(n,e){try{return n.apply(this,e)}catch(t){Se.__wbindgen_exn_store(ce(t))}}function Lh(){const n={wbg:{}};return n.wbg.__wbindgen_object_drop_ref=function(e){Jo(e)},n.wbg.__wbg_crypto_d05b68a3572bb8ca=function(e){return ce(J(e).crypto)},n.wbg.__wbindgen_is_object=function(e){const t=J(e);return typeof t=="object"&&t!==null},n.wbg.__wbg_process_b02b3570280d0366=function(e){return ce(J(e).process)},n.wbg.__wbg_versions_c1cb42213cedf0f5=function(e){return ce(J(e).versions)},n.wbg.__wbg_node_43b1089f407e4ec2=function(e){return ce(J(e).node)},n.wbg.__wbindgen_is_string=function(e){return typeof J(e)=="string"},n.wbg.__wbg_msCrypto_10fc94afee92bd76=function(e){return ce(J(e).msCrypto)},n.wbg.__wbg_require_9a7e0f667ead4995=function(){return it(function(){return ce(module.require)},arguments)},n.wbg.__wbindgen_is_function=function(e){return typeof J(e)=="function"},n.wbg.__wbindgen_string_new=function(e,t){return ce(Ss(e,t))},n.wbg.__wbg_randomFillSync_b70ccbdf4926a99d=function(){return it(function(e,t){J(e).randomFillSync(Jo(t))},arguments)},n.wbg.__wbg_getRandomValues_7e42b4fb8779dc6d=function(){return it(function(e,t){J(e).getRandomValues(J(t))},arguments)},n.wbg.__wbg_newnoargs_5859b6d41c6fe9f7=function(e,t){return ce(new Function(Ss(e,t)))},n.wbg.__wbg_call_a79f1973a4f07d5e=function(){return it(function(e,t){return ce(J(e).call(J(t)))},arguments)},n.wbg.__wbindgen_object_clone_ref=function(e){return ce(J(e))},n.wbg.__wbg_self_086b5302bcafb962=function(){return it(function(){return ce(self.self)},arguments)},n.wbg.__wbg_window_132fa5d7546f1de5=function(){return it(function(){return ce(window.window)},arguments)},n.wbg.__wbg_globalThis_e5f801a37ad7d07b=function(){return it(function(){return ce(globalThis.globalThis)},arguments)},n.wbg.__wbg_global_f9a61fce4af6b7c1=function(){return it(function(){return ce(global.global)},arguments)},n.wbg.__wbindgen_is_undefined=function(e){return J(e)===void 0},n.wbg.__wbg_call_f6a2bc58c19c53c6=function(){return it(function(e,t,s){return ce(J(e).call(J(t),J(s)))},arguments)},n.wbg.__wbg_buffer_5d1b598a01b41a42=function(e){return ce(J(e).buffer)},n.wbg.__wbg_newwithbyteoffsetandlength_d695c7957788f922=function(e,t,s){return ce(new Uint8Array(J(e),t>>>0,s>>>0))},n.wbg.__wbg_new_ace717933ad7117f=function(e){return ce(new Uint8Array(J(e)))},n.wbg.__wbg_set_74906aa30864df5a=function(e,t,s){J(e).set(J(t),s>>>0)},n.wbg.__wbg_length_f0764416ba5bb237=function(e){return J(e).length},n.wbg.__wbg_newwithlength_728575f3bba9959b=function(e){return ce(new Uint8Array(e>>>0))},n.wbg.__wbg_subarray_7f7a652672800851=function(e,t,s){return ce(J(e).subarray(t>>>0,s>>>0))},n.wbg.__wbindgen_throw=function(e,t){throw new Error(Ss(e,t))},n.wbg.__wbindgen_memory=function(){return ce(Se.memory)},n}async function nc(n){if(Se!==void 0)return Se;n===void 0&&(n=new URL(""+new URL("../assets/bindings_wasm_bg.AhEWHRn7.wasm",import.meta.url).href,import.meta.url));const e=Lh();(typeof n=="string"||typeof Request=="function"&&n instanceof Request||typeof URL=="function"&&n instanceof URL)&&(n=fetch(n));const{instance:t,module:s}=await async function(i,r){if(typeof Response=="function"&&i instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(i,r)}catch(a){if(i.headers.get("Content-Type")=="application/wasm")throw a;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",a)}const o=await i.arrayBuffer();return await WebAssembly.instantiate(o,r)}{const o=await WebAssembly.instantiate(i,r);return o instanceof WebAssembly.Instance?{instance:o,module:i}:o}}(await n,e);return function(i,r){return Se=i.exports,nc.__wbindgen_wasm_module=r,Nn=null,$n=null,Se}(t,s)}function sc(n){if(typeof Buffer<"u"&&n instanceof Buffer)return function(e,t){return n.toString("utf8",e,e+t)};{const e=new TextDecoder;return function(t,s){return e.decode(n.subarray(t,t+s))}}}const Hr=(n,{allowReturnOutsideFunction:e=!1}={})=>{const t=tc(n,e);return ml(t.buffer,sc(t))},Dh=async(n,{allowReturnOutsideFunction:e=!1,signal:t}={})=>{const s=await async function(i,r,o){return tc(i,r)}(n,e);return ml(s.buffer,sc(s))},Bh=new Set(["assert","with"]);function _h(n){var a;const{scope:{context:e},options:t,start:s}=n;if(!(t instanceof Ar))return t&&e.module.log(j,vo(e.module.id),s),Me;const i=(a=t.properties.find(l=>Bh.has(wr(l))))==null?void 0:a.value;if(!i)return Me;if(!(i instanceof Ar))return e.module.log(j,(r=e.module.id,{code:ol,message:`Rollup could not statically analyze the options argument of a dynamic import in "${U(r)}". Dynamic import options need to be an object with a nested attributes object.`}),s),Me;var r;const o=i.properties.map(l=>{const c=wr(l);return typeof c=="string"&&typeof l.value.value=="string"?[c,l.value.value]:(e.module.log(j,vo(e.module.id),l.start),null)}).filter(l=>!!l);return o.length>0?Object.fromEntries(o):Me}const wr=n=>{const e=n.key;return e&&!n.computed&&(e.name||e.value)};function Ps(n,e){const t=Object.keys(n);return t.length!==Object.keys(e).length||t.some(s=>n[s]!==e[s])}var ic="performance"in(typeof globalThis>"u"?typeof window>"u"?{}:window:globalThis)?performance:{now:()=>0},rc={memoryUsage:()=>({heapUsed:0})};let Wn=new Map;function oc(n,e){switch(e){case 1:return`# ${n}`;case 2:return`## ${n}`;case 3:return n;default:return`${"  ".repeat(e-4)}- ${n}`}}function Th(n,e=3){n=oc(n,e);const t=rc.memoryUsage().heapUsed,s=ic.now(),i=Wn.get(n);i===void 0?Wn.set(n,{memory:0,startMemory:t,startTime:s,time:0,totalMemory:0}):(i.startMemory=t,i.startTime=s)}function zh(n,e=3){n=oc(n,e);const t=Wn.get(n);if(t!==void 0){const s=rc.memoryUsage().heapUsed;t.memory+=s-t.startMemory,t.time+=ic.now()-t.startTime,t.totalMemory=Math.max(t.totalMemory,s)}}function Vh(){const n={};for(const[e,{memory:t,time:s,totalMemory:i}]of Wn)n[e]=[s,t,i];return n}let Ae=Xe,fe=Xe;const Fh=["augmentChunkHash","buildEnd","buildStart","generateBundle","load","moduleParsed","options","outputOptions","renderChunk","renderDynamicImport","renderStart","resolveDynamicImport","resolveFileUrl","resolveId","resolveImportMeta","shouldTransformCachedModule","transform","writeBundle"];function jh(n,e){if(n._hasTimer)return n;n._hasTimer=!0;for(const t of Fh)if(t in n){let s=`plugin ${e}`;n.name&&(s+=` (${n.name})`),s+=` - ${t}`;const i=function(...o){Ae(s,4);const a=r.apply(this,o);return fe(s,4),a};let r;typeof n[t].handler=="function"?(r=n[t].handler,n[t].handler=i):(r=n[t],n[t]=i)}return n}function Pn(n){n.isExecuted=!0;const e=[n],t=new Set;for(const s of e)for(const i of[...s.dependencies,...s.implicitlyLoadedBefore])i instanceof re||i.isExecuted||!i.info.moduleSideEffects&&!s.implicitlyLoadedBefore.has(i)||t.has(i.id)||(i.isExecuted=!0,t.add(i.id),e.push(i))}const ea={identifier:null,localName:cn};function ji(n,e,t,s,i=new Map){const r=i.get(e);if(r){if(r.has(n))return s?[null]:L((o=e,a=n.id,{code:Cd,exporter:a,message:`"${o}" cannot be exported from "${U(a)}" as it is a reexport that references itself.`}));r.add(n)}else i.set(e,new Set([n]));var o,a;return n.getVariableForExportName(e,{importerForSideEffects:t,isExportAllSearch:s,searchedNamesAndModules:i})}function ta(n,e){const t=ze(e.sideEffectDependenciesByVariable,n,Ft);let s=n;const i=new Set([s]);for(;;){const r=s.module;if(s=s instanceof Je?s.getDirectOriginalVariable():s instanceof Le?s.syntheticNamespace:null,!s||i.has(s))break;i.add(s),t.add(r);const o=r.sideEffectDependenciesByVariable.get(s);if(o)for(const a of o)t.add(a)}return t}class de{constructor(e,t,s,i,r,o,a,l){this.graph=e,this.id=t,this.options=s,this.alternativeReexportModules=new Map,this.chunkFileNames=new Set,this.chunkNames=[],this.cycles=new Set,this.dependencies=new Set,this.dynamicDependencies=new Set,this.dynamicImporters=[],this.dynamicImports=[],this.execIndex=1/0,this.implicitlyLoadedAfter=new Set,this.implicitlyLoadedBefore=new Set,this.importDescriptions=new Map,this.importMetas=[],this.importedFromNotTreeshaken=!1,this.importers=[],this.includedDynamicImporters=[],this.includedImports=new Set,this.isExecuted=!1,this.isUserDefinedEntryPoint=!1,this.needsExportShim=!1,this.sideEffectDependenciesByVariable=new Map,this.sourcesWithAttributes=new Map,this.allExportNames=null,this.ast=null,this.exportAllModules=[],this.exportAllSources=new Set,this.exportNamesByVariable=null,this.exportShimVariable=new Mh(this),this.exports=new Map,this.namespaceReexportsByName=new Map,this.reexportDescriptions=new Map,this.relevantDependencies=null,this.syntheticExports=new Map,this.syntheticNamespace=null,this.transformDependencies=[],this.transitiveReexports=null,this.excludeFromSourcemap=/\0/.test(t),this.context=s.moduleContext(t),this.preserveSignature=this.options.preserveEntrySignatures;const c=this,{dynamicImports:d,dynamicImporters:p,exportAllSources:h,exports:f,implicitlyLoadedAfter:A,implicitlyLoadedBefore:m,importers:y,reexportDescriptions:b,sourcesWithAttributes:k}=this;this.info={ast:null,attributes:l,code:null,get dynamicallyImportedIdResolutions(){return d.map(({argument:g})=>typeof g=="string"&&c.resolvedIds[g]).filter(Boolean)},get dynamicallyImportedIds(){return d.map(({id:g})=>g).filter(g=>g!=null)},get dynamicImporters(){return p.sort()},get exportedBindings(){const g={".":[...f.keys()]};for(const[E,{source:w}]of b)(g[w]??(g[w]=[])).push(E);for(const E of h)(g[E]??(g[E]=[])).push("*");return g},get exports(){return[...f.keys(),...b.keys(),...[...h].map(()=>"*")]},get hasDefaultExport(){return c.ast?c.exports.has("default")||b.has("default"):null},id:t,get implicitlyLoadedAfterOneOf(){return Array.from(A,Vi).sort()},get implicitlyLoadedBefore(){return Array.from(m,Vi).sort()},get importedIdResolutions(){return Array.from(k.keys(),g=>c.resolvedIds[g]).filter(Boolean)},get importedIds(){return Array.from(k.keys(),g=>{var E;return(E=c.resolvedIds[g])==null?void 0:E.id}).filter(Boolean)},get importers(){return y.sort()},isEntry:i,isExternal:!1,get isIncluded(){return e.phase!==Tt.GENERATE?null:c.isIncluded()},meta:{...a},moduleSideEffects:r,syntheticNamedExports:o}}basename(){const e=dt(this.id),t=vt(this.id);return si(t?e.slice(0,-t.length):e)}bindReferences(){this.ast.bind()}error(e,t){return this.addLocationToLogProps(e,t),L(e)}estimateSize(){let e=0;for(const t of this.ast.body)t.included&&(e+=t.end-t.start);return e}getAllExportNames(){if(this.allExportNames)return this.allExportNames;this.allExportNames=new Set([...this.exports.keys(),...this.reexportDescriptions.keys()]);for(const e of this.exportAllModules)if(e instanceof re)this.allExportNames.add(`*${e.id}`);else for(const t of e.getAllExportNames())t!=="default"&&this.allExportNames.add(t);return typeof this.info.syntheticNamedExports=="string"&&this.allExportNames.delete(this.info.syntheticNamedExports),this.allExportNames}getDependenciesToBeIncluded(){if(this.relevantDependencies)return this.relevantDependencies;this.relevantDependencies=new Set;const e=new Set,t=new Set,s=new Set(this.includedImports);if(this.info.isEntry||this.includedDynamicImporters.length>0||this.namespace.included||this.implicitlyLoadedAfter.size>0)for(const i of[...this.getReexports(),...this.getExports()]){const[r]=this.getVariableForExportName(i);r!=null&&r.included&&s.add(r)}for(let i of s){const r=this.sideEffectDependenciesByVariable.get(i);if(r)for(const o of r)t.add(o);i instanceof Le?i=i.getBaseVariable():i instanceof Je&&(i=i.getOriginalVariable()),e.add(i.module)}if(this.options.treeshake&&this.info.moduleSideEffects!=="no-treeshake")this.addRelevantSideEffectDependencies(this.relevantDependencies,e,t);else for(const i of this.dependencies)this.relevantDependencies.add(i);for(const i of e)this.relevantDependencies.add(i);return this.relevantDependencies}getExportNamesByVariable(){if(this.exportNamesByVariable)return this.exportNamesByVariable;const e=new Map;for(const t of this.getAllExportNames()){let[s]=this.getVariableForExportName(t);if(s instanceof Je&&(s=s.getOriginalVariable()),!s||!(s.included||s instanceof Ds))continue;const i=e.get(s);i?i.push(t):e.set(s,[t])}return this.exportNamesByVariable=e}getExports(){return[...this.exports.keys()]}getReexports(){if(this.transitiveReexports)return this.transitiveReexports;this.transitiveReexports=[];const e=new Set(this.reexportDescriptions.keys());for(const t of this.exportAllModules)if(t instanceof re)e.add(`*${t.id}`);else for(const s of[...t.getReexports(),...t.getExports()])s!=="default"&&e.add(s);return this.transitiveReexports=[...e]}getRenderedExports(){const e=[],t=[];for(const s of this.exports.keys()){const[i]=this.getVariableForExportName(s);(i!=null&&i.included?e:t).push(s)}return{removedExports:t,renderedExports:e}}getSyntheticNamespace(){return this.syntheticNamespace===null&&(this.syntheticNamespace=void 0,[this.syntheticNamespace]=this.getVariableForExportName(typeof this.info.syntheticNamedExports=="string"?this.info.syntheticNamedExports:"default",{onlyExplicit:!0})),this.syntheticNamespace?this.syntheticNamespace:L((e=this.id,t=this.info.syntheticNamedExports,{code:"SYNTHETIC_NAMED_EXPORTS_NEED_NAMESPACE_EXPORT",exporter:e,message:`Module "${U(e)}" that is marked with \`syntheticNamedExports: ${JSON.stringify(t)}\` needs ${typeof t=="string"&&t!=="default"?`an explicit export named "${t}"`:"a default export"} that does not reexport an unresolved named export of the same module.`}));var e,t}getVariableForExportName(e,{importerForSideEffects:t,isExportAllSearch:s,onlyExplicit:i,searchedNamesAndModules:r}=Me){if(e[0]==="*")return e.length===1?[this.namespace]:this.graph.modulesById.get(e.slice(1)).getVariableForExportName("*");const o=this.reexportDescriptions.get(e);if(o){const[l]=ji(o.module,o.localName,t,!1,r);return l?(t&&(na(l,t,this),this.info.moduleSideEffects&&ze(t.sideEffectDependenciesByVariable,l,Ft).add(this)),[l]):this.error(Ts(o.localName,this.id,o.module.id),o.start)}const a=this.exports.get(e);if(a){if(a===ea)return[this.exportShimVariable];const l=a.localName,c=this.traceVariable(l,{importerForSideEffects:t,searchedNamesAndModules:r});return t&&(na(c,t,this),ze(t.sideEffectDependenciesByVariable,c,Ft).add(this)),[c]}if(i)return[null];if(e!=="default"){const l=this.namespaceReexportsByName.get(e)??this.getVariableFromNamespaceReexports(e,t,r);if(this.namespaceReexportsByName.set(e,l),l[0])return l}return this.info.syntheticNamedExports?[ze(this.syntheticExports,e,()=>new Le(this.astContext,e,this.getSyntheticNamespace()))]:!s&&this.options.shimMissingExports?(this.shimMissingExport(e),[this.exportShimVariable]):[null]}hasEffects(){return this.info.moduleSideEffects==="no-treeshake"||this.ast.hasCachedEffects()}include(){const e=ir();this.ast.shouldBeIncluded(e)&&this.ast.include(e,!1)}includeAllExports(e){this.isExecuted||(Pn(this),this.graph.needsTreeshakingPass=!0);for(const i of this.exports.keys())if(e||i!==this.info.syntheticNamedExports){const r=this.getVariableForExportName(i)[0];if(!r)return L((t=i,s=this.id,{binding:t,code:ll,exporter:s,message:`Exported variable "${t}" is not defined in "${U(s)}".`,url:we(tl)}));r.deoptimizePath(q),r.included||this.includeVariable(r)}var t,s;for(const i of this.getReexports()){const[r]=this.getVariableForExportName(i);r&&(r.deoptimizePath(q),r.included||this.includeVariable(r),r instanceof Ds&&(r.module.reexported=!0))}e&&this.namespace.setMergedNamespaces(this.includeAndGetAdditionalMergedNamespaces())}includeAllInBundle(){this.ast.include(ir(),!0),this.includeAllExports(!1)}includeExportsByNames(e){this.isExecuted||(Pn(this),this.graph.needsTreeshakingPass=!0);let t=!1;for(const s of e){const i=this.getVariableForExportName(s)[0];i&&(i.deoptimizePath(q),i.included||this.includeVariable(i)),this.exports.has(s)||this.reexportDescriptions.has(s)||(t=!0)}t&&this.namespace.setMergedNamespaces(this.includeAndGetAdditionalMergedNamespaces())}isIncluded(){return this.ast&&(this.ast.included||this.namespace.included||this.importedFromNotTreeshaken||this.exportShimVariable.included)}linkImports(){this.addModulesToImportDescriptions(this.importDescriptions),this.addModulesToImportDescriptions(this.reexportDescriptions);const e=[];for(const t of this.exportAllSources){const s=this.graph.modulesById.get(this.resolvedIds[t].id);s instanceof re?e.push(s):this.exportAllModules.push(s)}this.exportAllModules.push(...e)}log(e,t,s){this.addLocationToLogProps(t,s),this.options.onLog(e,t)}render(e){const t=this.magicString.clone();this.ast.render(t,e),t.trim();const{usesTopLevelAwait:s}=this.astContext;return s&&e.format!=="es"&&e.format!=="system"?L((i=this.id,r=e.format,{code:"INVALID_TLA_FORMAT",id:i,message:`Module format "${r}" does not support top-level await. Use the "es" or "system" output formats rather.`})):{source:t,usesTopLevelAwait:s};var i,r}async setSource({ast:e,code:t,customTransformCache:s,originalCode:i,originalSourcemap:r,resolvedIds:o,sourcemapChain:a,transformDependencies:l,transformFiles:c,...d}){if(t.startsWith("#!")){const f=t.indexOf(`
`);this.shebang=t.slice(2,f)}Ae("generate ast",3),this.info.code=t,this.originalCode=i,this.originalSourcemap=sn(r),this.sourcemapChain=a.map(f=>f.missing?f:sn(f)),Wr(this.originalSourcemap,this.sourcemapChain),c&&(this.transformFiles=c),this.transformDependencies=l,this.customTransformCache=s,this.updateOptions(d);const p=e??await this.tryParseAsync();fe("generate ast",3),Ae("analyze ast",3),this.resolvedIds=o??Object.create(null);const h=this.id;this.magicString=new zt(t,{filename:this.excludeFromSourcemap?null:h,indentExclusionRanges:[]}),this.astContext={addDynamicImport:this.addDynamicImport.bind(this),addExport:this.addExport.bind(this),addImport:this.addImport.bind(this),addImportMeta:this.addImportMeta.bind(this),code:t,deoptimizationTracker:this.graph.deoptimizationTracker,error:this.error.bind(this),fileName:h,getExports:this.getExports.bind(this),getModuleExecIndex:()=>this.execIndex,getModuleName:this.basename.bind(this),getNodeConstructor:f=>Qo[f]||Qo.UnknownNode,getReexports:this.getReexports.bind(this),importDescriptions:this.importDescriptions,includeAllExports:()=>this.includeAllExports(!0),includeDynamicImport:this.includeDynamicImport.bind(this),includeVariableInModule:this.includeVariableInModule.bind(this),log:this.log.bind(this),magicString:this.magicString,manualPureFunctions:this.graph.pureFunctions,module:this,moduleContext:this.context,options:this.options,requestTreeshakingPass:()=>this.graph.needsTreeshakingPass=!0,traceExport:f=>this.getVariableForExportName(f)[0],traceVariable:this.traceVariable.bind(this),usesTopLevelAwait:!1},this.scope=new Kl(this.graph.scope,this.astContext),this.namespace=new Mn(this.astContext),this.ast=new Xl(p,{context:this.astContext,type:"Module"},this.scope),e||this.options.cache!==!1?this.info.ast=p:Object.defineProperty(this.info,"ast",{get:()=>{if(this.graph.astLru.has(h))return this.graph.astLru.get(h);{const f=this.tryParse();return this.graph.astLru.set(h,f),f}}}),fe("analyze ast",3)}toJSON(){return{ast:this.info.ast,attributes:this.info.attributes,code:this.info.code,customTransformCache:this.customTransformCache,dependencies:Array.from(this.dependencies,Vi),id:this.id,meta:this.info.meta,moduleSideEffects:this.info.moduleSideEffects,originalCode:this.originalCode,originalSourcemap:this.originalSourcemap,resolvedIds:this.resolvedIds,sourcemapChain:this.sourcemapChain,syntheticNamedExports:this.info.syntheticNamedExports,transformDependencies:this.transformDependencies,transformFiles:this.transformFiles}}traceVariable(e,{importerForSideEffects:t,isExportAllSearch:s,searchedNamesAndModules:i}=Me){const r=this.scope.variables.get(e);if(r)return r;const o=this.importDescriptions.get(e);if(o){const a=o.module;if(a instanceof de&&o.name==="*")return a.namespace;const[l]=ji(a,o.name,t||this,s,i);return l||this.error(Ts(o.name,this.id,a.id),o.start)}return null}updateOptions({meta:e,moduleSideEffects:t,syntheticNamedExports:s}){t!=null&&(this.info.moduleSideEffects=t),s!=null&&(this.info.syntheticNamedExports=s),e!=null&&Object.assign(this.info.meta,e)}addDynamicImport(e){let t=e.source;t instanceof ql?t.quasis.length===1&&t.quasis[0].value.cooked&&(t=t.quasis[0].value.cooked):t instanceof Et&&typeof t.value=="string"&&(t=t.value),this.dynamicImports.push({argument:t,id:null,node:e,resolution:null})}assertUniqueExportName(e,t){(this.exports.has(e)||this.reexportDescriptions.has(e))&&this.error(function(s){return{code:"DUPLICATE_EXPORT",message:`Duplicate export "${s}"`}}(e),t)}addExport(e){if(e instanceof ai)this.assertUniqueExportName("default",e.start),this.exports.set("default",{identifier:e.variable.getAssignedVariableName(),localName:"default"});else if(e instanceof Ur){const t=e.source.value;if(this.addSource(t,e),e.exported){const s=e.exported instanceof Et?e.exported.value:e.exported.name;this.assertUniqueExportName(s,e.exported.start),this.reexportDescriptions.set(s,{localName:"*",module:null,source:t,start:e.start})}else this.exportAllSources.add(t)}else if(e.source instanceof Et){const t=e.source.value;this.addSource(t,e);for(const{exported:s,local:i,start:r}of e.specifiers){const o=s instanceof Et?s.value:s.name;this.assertUniqueExportName(o,r),this.reexportDescriptions.set(o,{localName:i instanceof Et?i.value:i.name,module:null,source:t,start:r})}}else if(e.declaration){const t=e.declaration;if(t instanceof Ql)for(const s of t.declarations)for(const i of nh(s.id))this.assertUniqueExportName(i,s.id.start),this.exports.set(i,{identifier:null,localName:i});else{const s=t.id.name;this.assertUniqueExportName(s,t.id.start),this.exports.set(s,{identifier:null,localName:s})}}else for(const{local:t,exported:s}of e.specifiers){const i=t.name,r=s instanceof se?s.name:s.value;this.assertUniqueExportName(r,s.start),this.exports.set(r,{identifier:null,localName:i})}}addImport(e){const t=e.source.value;this.addSource(t,e);for(const s of e.specifiers){const i=s.local.name;(this.scope.variables.has(i)||this.importDescriptions.has(i))&&this.error(pn(i),s.local.start);const r=s instanceof Vl?"default":s instanceof Wl?"*":s.imported instanceof se?s.imported.name:s.imported.value;this.importDescriptions.set(i,{module:null,name:r,source:t,start:s.start})}}addImportMeta(e){this.importMetas.push(e)}addLocationToLogProps(e,t){e.id=this.id,e.pos=t;let s=this.info.code;const i=Or(s,t,{offsetLine:1});if(i){let{column:r,line:o}=i;try{({column:r,line:o}=function(a,l){const c=a.filter(d=>!d.missing);e:for(;c.length>0;){const d=c.pop().mappings[l.line-1];if(d){const p=d.filter(f=>f.length>1),h=p[p.length-1];for(const f of p)if(f[0]>=l.column||f===h){l={column:f[3],line:f[2]+1};continue e}}throw new Error("Can't resolve original location of error.")}return l}(this.sourcemapChain,{column:r,line:o})),s=this.originalCode}catch(a){this.options.onLog(j,function(l,c,d,p,h){return{cause:l,code:"SOURCEMAP_ERROR",id:c,loc:{column:d,file:c,line:p},message:`Error when using sourcemap for reporting an error: ${l.message}`,pos:h}}(a,this.id,r,o,t))}_s(e,{column:r,line:o},s,this.id)}}addModulesToImportDescriptions(e){for(const t of e.values()){const{id:s}=this.resolvedIds[t.source];t.module=this.graph.modulesById.get(s)}}addRelevantSideEffectDependencies(e,t,s){const i=new Set,r=o=>{for(const a of o)i.has(a)||(i.add(a),t.has(a)?e.add(a):(a.info.moduleSideEffects||s.has(a))&&(a instanceof re||a.hasEffects()?e.add(a):r(a.dependencies)))};r(this.dependencies),r(s)}addSource(e,t){const s=(i=t.attributes,i!=null&&i.length?Object.fromEntries(i.map(o=>[wr(o),o.value.value])):Me);var i;const r=this.sourcesWithAttributes.get(e);r?Ps(r,s)&&this.log(j,ks(r,s,e,this.id),t.start):this.sourcesWithAttributes.set(e,s)}getVariableFromNamespaceReexports(e,t,s){let i=null;const r=new Map,o=new Set;for(const d of this.exportAllModules){if(d.info.syntheticNamedExports===e)continue;const[p,h]=ji(d,e,t,!0,Uh(s));d instanceof re||h?o.add(p):p instanceof Le?i||(i=p):p&&r.set(p,d)}if(r.size>0){const d=[...r],p=d[0][0];return d.length===1?[p]:(this.options.onLog(j,(a=e,l=this.id,c=d.map(([,h])=>h.id),{binding:a,code:"NAMESPACE_CONFLICT",ids:c,message:`Conflicting namespaces: "${U(l)}" re-exports "${a}" from one of the modules ${ht(c.map(h=>U(h)))} (will be ignored).`,reexporter:l})),[null])}var a,l,c;if(o.size>0){const d=[...o],p=d[0];return d.length>1&&this.options.onLog(j,function(h,f,A,m){return{binding:h,code:"AMBIGUOUS_EXTERNAL_NAMESPACES",ids:m,message:`Ambiguous external namespace resolution: "${U(f)}" re-exports "${h}" from one of the external modules ${ht(m.map(y=>U(y)))}, guessing "${U(A)}".`,reexporter:f}}(e,this.id,p.module.id,d.map(h=>h.module.id))),[p,!0]}return i?[i]:[null]}includeAndGetAdditionalMergedNamespaces(){const e=new Set,t=new Set;for(const s of[this,...this.exportAllModules])if(s instanceof re){const[i]=s.getVariableForExportName("*");i.include(),this.includedImports.add(i),e.add(i)}else if(s.info.syntheticNamedExports){const i=s.getSyntheticNamespace();i.include(),this.includedImports.add(i),t.add(i)}return[...t,...e]}includeDynamicImport(e){const t=this.dynamicImports.find(s=>s.node===e).resolution;if(t instanceof de){t.includedDynamicImporters.push(this);const s=this.options.treeshake?e.getDeterministicImportedNames():void 0;s?t.includeExportsByNames(s):t.includeAllExports(!0)}}includeVariable(e){const t=e.module;if(e.included)t instanceof de&&t!==this&&ta(e,this);else if(e.include(),this.graph.needsTreeshakingPass=!0,t instanceof de&&(t.isExecuted||Pn(t),t!==this)){const s=ta(e,this);for(const i of s)i.isExecuted||Pn(i)}}includeVariableInModule(e){this.includeVariable(e);const t=e.module;t&&t!==this&&this.includedImports.add(e)}shimMissingExport(e){var t,s;this.options.onLog(j,(t=this.id,{binding:s=e,code:"SHIMMED_EXPORT",exporter:t,message:`Missing export "${s}" has been shimmed in module "${U(t)}".`})),this.exports.set(e,ea)}tryParse(){try{return Hr(this.info.code)}catch(e){return this.error(xo(e,this.id),e.pos)}}async tryParseAsync(){try{return await Dh(this.info.code)}catch(e){return this.error(xo(e,this.id),e.pos)}}}function na(n,e,t){if(n.module instanceof de&&n.module!==t){const s=n.module.cycles;if(s.size>0){const i=t.cycles;for(const r of i)if(s.has(r)){e.alternativeReexportModules.set(n,t);break}}}}const Uh=n=>n&&new Map(Array.from(n,([e,t])=>[e,new Set(t)]));function ac(n){return n.endsWith(".js")?n.slice(0,-3):n}function sa(n,e){return n.autoId?`${n.basePath?n.basePath+"/":""}${ac(e)}`:n.id??""}function ms(n,e,t,s,i,r,o,a="return "){const{_:l,getDirectReturnFunction:c,getFunctionIntro:d,getPropertyAccess:p,n:h,s:f}=i;if(!t)return`${h}${h}${a}${function(m,y,b,k,g){if(m.length>0)return m[0].local;for(const{defaultVariableName:E,importPath:w,isChunk:$,name:P,namedExportsMode:S,namespaceVariableName:I,reexports:C}of y)if(C)return ia(P,C[0].imported,S,$,E,I,b,w,k,g)}(n,e,s,o,p)};`;let A="";for(const{defaultVariableName:m,importPath:y,isChunk:b,name:k,namedExportsMode:g,namespaceVariableName:E,reexports:w}of e)if(w&&t){for(const $ of w)if($.reexported!=="*"){const P=ia(k,$.imported,g,b,m,E,s,y,o,p);if(A&&(A+=h),$.imported!=="*"&&$.needsLiveBinding){const[S,I]=c([],{functionReturn:!0,lineBreakIndent:null,name:null});A+=`Object.defineProperty(exports,${l}${JSON.stringify($.reexported)},${l}{${h}${r}enumerable:${l}true,${h}${r}get:${l}${S}${P}${I}${h}});`}else $.reexported==="__proto__"?A+=`Object.defineProperty(exports,${l}"__proto__",${l}{${h}${r}enumerable:${l}true,${h}${r}value:${l}${P}${h}});`:A+=`exports${p($.reexported)}${l}=${l}${P};`}}for(const{exported:m,local:y}of n){const b=`exports${p(m)}`;b!==y&&(A&&(A+=h),A+=m==="__proto__"?`Object.defineProperty(exports,${l}"__proto__",${l}{${h}${r}enumerable:${l}true,${h}${r}value:${l}${y}${h}});`:`${b}${l}=${l}${y};`)}for(const{name:m,reexports:y}of e)if(y&&t){for(const b of y)if(b.reexported==="*"){A&&(A+=h);const k=`{${h}${r}if${l}(k${l}!==${l}'default'${l}&&${l}!Object.prototype.hasOwnProperty.call(exports,${l}k))${l}${Gh(m,b.needsLiveBinding,r,i)}${f}${h}}`;A+=`Object.keys(${m}).forEach(${d(["k"],{isAsync:!1,name:null})}${k});`}}return A?`${h}${h}${A}`:""}function ia(n,e,t,s,i,r,o,a,l,c){if(e==="default"){if(!s){const d=o(a),p=li[d]?i:n;return ci(d,l)?`${p}${c("default")}`:p}return t?`${n}${c("default")}`:n}return e==="*"?(s?!t:ns[o(a)])?r:n:`${n}${c(e)}`}function ra(n){return n([["value","true"]],{lineBreakIndent:null})}function gs(n,e,t,{_:s,getObject:i}){if(n){if(e)return t?`Object.defineProperties(exports,${s}${i([["__esModule",ra(i)],[null,`[Symbol.toStringTag]:${s}${Gn(i)}`]],{lineBreakIndent:null})});`:`Object.defineProperty(exports,${s}'__esModule',${s}${ra(i)});`;if(t)return`Object.defineProperty(exports,${s}Symbol.toStringTag,${s}${Gn(i)});`}return""}const Gh=(n,e,t,{_:s,getDirectReturnFunction:i,n:r})=>{if(e){const[o,a]=i([],{functionReturn:!0,lineBreakIndent:null,name:null});return`Object.defineProperty(exports,${s}k,${s}{${r}${t}${t}enumerable:${s}true,${r}${t}${t}get:${s}${o}${n}[k]${a}${r}${t}})`}return`k${s}===${s}'__proto__'${s}?${s}Object.defineProperty(exports,${s}k,${s}{${r}${t}${t}enumerable:${s}true,${r}${t}${t}value:${s}${n}[k]${r}${t}})${s}:${s}exports[k]${s}=${s}${n}[k]`};function ys(n,e,t,s,i,r,o,a){const{_:l,cnst:c,n:d}=a,p=new Set,h=[],f=(A,m,y)=>{p.add(m),h.push(`${c} ${A}${l}=${l}/*#__PURE__*/${m}(${y});`)};for(const{defaultVariableName:A,imports:m,importPath:y,isChunk:b,name:k,namedExportsMode:g,namespaceVariableName:E,reexports:w}of n)if(b){for(const{imported:$,reexported:P}of[...m||[],...w||[]])if($==="*"&&P!=="*"){g||f(E,Un,k);break}}else{const $=e(y);let P=!1,S=!1;for(const{imported:I,reexported:C}of[...m||[],...w||[]]){let V,M;I==="default"?P||(P=!0,A!==E&&(M=A,V=li[$])):I!=="*"||C==="*"||S||(S=!0,V=ns[$],M=E),V&&f(M,V,k)}}return`${gr(p,r,o,a,t,s,i)}${h.length>0?`${h.join(d)}${d}${d}`:""}`}function oa(n,e){return n[0]!=="."?n:e?(t=n).endsWith(".js")?t:t+".js":ac(n);var t}const Wh=new Set([...td(["assert","async_hooks","buffer","child_process","cluster","console","constants","crypto","dgram","diagnostics_channel","dns","domain","events","fs","http","http2","https","inspector","module","net","os","path","perf_hooks","process","punycode","querystring","readline","repl","stream","string_decoder","timers","tls","trace_events","tty","url","util","v8","vm","wasi","worker_threads","zlib"]),"assert/strict","dns/promises","fs/promises","path/posix","path/win32","readline/promises","stream/consumers","stream/promises","stream/web","timers/promises","util/types"]);function Ui(n,e){const t=e.map(({importPath:s})=>s).filter(s=>Wh.has(s)||s.startsWith("node:"));t.length!==0&&n(j,function(s){return{code:Vd,ids:s,message:`Creating a browser bundle that depends on Node.js built-in modules (${ht(s)}). You might need to include https://github.com/FredKSchott/rollup-plugin-polyfill-node`}}(t))}const Cs=(n,e)=>n.split(".").map(e).join("");function Gi(n,e,t,s,{_:i,getPropertyAccess:r}){const o=n.split(".");o[0]=(typeof t=="function"?t(o[0]):t[o[0]])||o[0];const a=o.pop();let l=e,c=[...o.map(d=>(l+=r(d),`${l}${i}=${i}${l}${i}||${i}{}`)),`${l}${r(a)}`].join(`,${i}`)+`${i}=${i}${s}`;return o.length>0&&(c=`(${c})`),c}function aa(n){let e=n.length;for(;e--;){const{imports:t,reexports:s}=n[e];if(t||s)return n.slice(0,e+1)}return[]}const Hh=({dependencies:n,exports:e})=>{const t=new Set(e.map(s=>s.exported));t.add("default");for(const{reexports:s}of n)if(s)for(const i of s)i.reexported!=="*"&&t.add(i.reexported);return t},Xh=(n,e,{_:t,cnst:s,getObject:i,n:r})=>{if(n){const o=[...n].map(a=>[a,"1"]);return o.unshift([null,`__proto__:${t}null`]),`${r}${e}${s} _starExcludes${t}=${t}${i(o,{lineBreakIndent:{base:e,t:e}})};`}return""},Zh=(n,e,{_:t,n:s})=>n.length>0?`${s}${e}var ${n.join(`,${t}`)};`:"",qh=(n,e,t)=>Xr(n.filter(s=>s.hoisted).map(s=>({name:s.exported,value:s.local})),e,t);function Xr(n,e,{_:t,n:s}){return n.length===0?"":n.length===1?`exports(${JSON.stringify(n[0].name)},${t}${n[0].value});${s}${s}`:`exports({${s}`+n.map(({name:i,value:r})=>`${e}${Mr(i)}:${t}${r}`).join(`,${s}`)+`${s}});${s}${s}`}const Yh=(n,e,t)=>Xr(n.filter(s=>s.expression).map(s=>({name:s.exported,value:s.local})),e,t),Kh=(n,e,t)=>Xr(n.filter(s=>s.local===cn).map(s=>({name:s.exported,value:cn})),e,t);function Wi(n,e,t){return n?`${e}${Cs(n,t)}`:"null"}var Qh={amd:function(n,{accessedGlobals:e,dependencies:t,exports:s,hasDefaultExport:i,hasExports:r,id:o,indent:a,intro:l,isEntryFacade:c,isModuleFacade:d,namedExportsMode:p,log:h,outro:f,snippets:A},{amd:m,esModule:y,externalLiveBindings:b,freeze:k,generatedCode:{symbols:g},interop:E,strict:w}){Ui(h,t);const $=t.map(_=>`'${oa(_.importPath,m.forceJsExtensionForImports)}'`),P=t.map(_=>_.name),{n:S,getNonArrowFunctionIntro:I,_:C}=A;p&&r&&(P.unshift("exports"),$.unshift("'exports'")),e.has("require")&&(P.unshift("require"),$.unshift("'require'")),e.has("module")&&(P.unshift("module"),$.unshift("'module'"));const V=sa(m,o),M=(V?`'${V}',${C}`:"")+($.length>0?`[${$.join(`,${C}`)}],${C}`:""),T=w?`${C}'use strict';`:"";n.prepend(`${l}${ys(t,E,b,k,g,e,a,A)}`);const D=ms(s,t,p,E,A,a,b);let O=gs(p&&r,c&&(y===!0||y==="if-default-prop"&&i),d&&g,A);O&&(O=S+S+O),n.append(`${D}${O}${f}`).indent(a).prepend(`${m.define}(${M}(${I(P,{isAsync:!1,name:null})}{${T}${S}${S}`).append(`${S}${S}}));`)},cjs:function(n,{accessedGlobals:e,dependencies:t,exports:s,hasDefaultExport:i,hasExports:r,indent:o,intro:a,isEntryFacade:l,isModuleFacade:c,namedExportsMode:d,outro:p,snippets:h},{compact:f,esModule:A,externalLiveBindings:m,freeze:y,interop:b,generatedCode:{symbols:k},strict:g}){const{_:E,n:w}=h,$=g?`'use strict';${w}${w}`:"";let P=gs(d&&r,l&&(A===!0||A==="if-default-prop"&&i),c&&k,h);P&&(P+=w+w);const S=function(V,{_:M,cnst:T,n:D},O){let _="",F=!1;for(const{importPath:H,name:oe,reexports:Q,imports:G}of V)Q||G?(_+=O&&F?",":`${_?`;${D}`:""}${T} `,F=!0,_+=`${oe}${M}=${M}require('${H}')`):(_&&(_+=O&&!F?",":`;${D}`),F=!1,_+=`require('${H}')`);return _?`${_};${D}${D}`:""}(t,h,f),I=ys(t,b,m,y,k,e,o,h);n.prepend(`${$}${a}${P}${S}${I}`);const C=ms(s,t,d,b,h,o,m,`module.exports${E}=${E}`);n.append(`${C}${p}`)},es:function(n,{accessedGlobals:e,indent:t,intro:s,outro:i,dependencies:r,exports:o,snippets:a},{externalLiveBindings:l,freeze:c,generatedCode:{symbols:d}}){const{n:p}=a,h=function(A,{_:m}){const y=[];for(const{importPath:b,reexports:k,imports:g,name:E,attributes:w}of A){const $=`'${b}'${w?`${m}assert${m}${w}`:""};`;if(k||g){if(g){let P=null,S=null;const I=[];for(const C of g)C.imported==="default"?P=C:C.imported==="*"?S=C:I.push(C);S&&y.push(`import${m}*${m}as ${S.local} from${m}${$}`),P&&I.length===0?y.push(`import ${P.local} from${m}${$}`):I.length>0&&y.push(`import ${P?`${P.local},${m}`:""}{${m}${I.map(C=>C.imported===C.local?C.imported:`${Xt(C.imported)} as ${C.local}`).join(`,${m}`)}${m}}${m}from${m}${$}`)}if(k){let P=null;const S=[],I=[];for(const C of k)C.reexported==="*"?P=C:C.imported==="*"?S.push(C):I.push(C);if(P&&y.push(`export${m}*${m}from${m}${$}`),S.length>0){g&&g.some(C=>C.imported==="*"&&C.local===E)||y.push(`import${m}*${m}as ${E} from${m}${$}`);for(const C of S)y.push(`export${m}{${m}${E===C.reexported?E:`${E} as ${Xt(C.reexported)}`} };`)}I.length>0&&y.push(`export${m}{${m}${I.map(C=>C.imported===C.reexported?Xt(C.imported):`${Xt(C.imported)} as ${Xt(C.reexported)}`).join(`,${m}`)}${m}}${m}from${m}${$}`)}}else y.push(`import${m}${$}`)}return y}(r,a);h.length>0&&(s+=h.join(p)+p+p),(s+=gr(null,e,t,a,l,c,d))&&n.prepend(s);const f=function(A,{_:m,cnst:y}){const b=[],k=[];for(const g of A)g.expression&&b.push(`${y} ${g.local}${m}=${m}${g.expression};`),k.push(g.exported===g.local?g.local:`${g.local} as ${Xt(g.exported)}`);return k.length>0&&b.push(`export${m}{${m}${k.join(`,${m}`)}${m}};`),b}(o,a);f.length>0&&n.append(p+p+f.join(p).trim()),i&&n.append(i),n.trim()},iife:function(n,{accessedGlobals:e,dependencies:t,exports:s,hasDefaultExport:i,hasExports:r,indent:o,intro:a,namedExportsMode:l,log:c,outro:d,snippets:p},{compact:h,esModule:f,extend:A,freeze:m,externalLiveBindings:y,globals:b,interop:k,name:g,generatedCode:{symbols:E},strict:w}){const{_:$,getNonArrowFunctionIntro:P,getPropertyAccess:S,n:I}=p,C=g&&g.includes("."),V=!A&&!C;if(g&&V&&(Ja(M=g)||Qa.test(M)))return L(function(ae){return{code:Ld,message:`Given name "${ae}" is not a legal JS identifier. If you need this, you can try "output.extend: true".`,url:we(wd)}}(g));var M;Ui(c,t);const T=aa(t),D=T.map(ae=>ae.globalName||"null"),O=T.map(ae=>ae.name);r&&!g&&c(j,{code:go,message:'If you do not supply "output.name", you may not be able to access the exports of an IIFE bundle.',url:we(mo)}),l&&r&&(A?(D.unshift(`this${Cs(g,S)}${$}=${$}this${Cs(g,S)}${$}||${$}{}`),O.unshift("exports")):(D.unshift("{}"),O.unshift("exports")));const _=w?`${o}'use strict';${I}`:"",F=ys(t,k,y,m,E,e,o,p);n.prepend(`${a}${F}`);let H=`(${P(O,{isAsync:!1,name:null})}{${I}${_}${I}`;r&&(!g||A&&l||(H=(V?`var ${g}`:`this${Cs(g,S)}`)+`${$}=${$}${H}`),C&&(H=function(ae,Pe,ve,{_:he,getPropertyAccess:$e,s:tt},ge){const ye=ae.split(".");ye[0]=(typeof ve=="function"?ve(ye[0]):ve[ye[0]])||ye[0],ye.pop();let pt=Pe;return ye.map(gn=>(pt+=$e(gn),`${pt}${he}=${he}${pt}${he}||${he}{}${tt}`)).join(ge?",":`
`)+(ge&&ye.length>0?";":`
`)}(g,"this",b,p,h)+H));let oe=`${I}${I}})(${D.join(`,${$}`)});`;r&&!A&&l&&(oe=`${I}${I}${o}return exports;${oe}`);const Q=ms(s,t,l,k,p,o,y);let G=gs(l&&r,f===!0||f==="if-default-prop"&&i,E,p);G&&(G=I+I+G),n.append(`${Q}${G}${d}`).indent(o).prepend(H).append(oe)},system:function(n,{accessedGlobals:e,dependencies:t,exports:s,hasExports:i,indent:r,intro:o,snippets:a,outro:l,usesTopLevelAwait:c},{externalLiveBindings:d,freeze:p,name:h,generatedCode:{symbols:f},strict:A,systemNullSetters:m}){const{_:y,getFunctionIntro:b,getNonArrowFunctionIntro:k,n:g,s:E}=a,{importBindings:w,setters:$,starExcludes:P}=function(M,T,D,{_:O,cnst:_,getObject:F,getPropertyAccess:H,n:oe}){const Q=[],G=[];let ae=null;for(const{imports:Pe,reexports:ve}of M){const he=[];if(Pe)for(const $e of Pe)Q.push($e.local),$e.imported==="*"?he.push(`${$e.local}${O}=${O}module;`):he.push(`${$e.local}${O}=${O}module${H($e.imported)};`);if(ve){const $e=[];let tt=!1;for(const{imported:ge,reexported:ye}of ve)ye==="*"?tt=!0:$e.push([ye,ge==="*"?"module":`module${H(ge)}`]);if($e.length>1||tt)if(tt){ae||(ae=Hh({dependencies:M,exports:T})),$e.unshift([null,`__proto__:${O}null`]);const ge=F($e,{lineBreakIndent:null});he.push(`${_} setter${O}=${O}${ge};`,`for${O}(${_} name in module)${O}{`,`${D}if${O}(!_starExcludes[name])${O}setter[name]${O}=${O}module[name];`,"}","exports(setter);")}else{const ge=F($e,{lineBreakIndent:null});he.push(`exports(${ge});`)}else{const[ge,ye]=$e[0];he.push(`exports(${JSON.stringify(ge)},${O}${ye});`)}}G.push(he.join(`${oe}${D}${D}${D}`))}return{importBindings:Q,setters:G,starExcludes:ae}}(t,s,r,a),S=h?`'${h}',${y}`:"",I=e.has("module")?["exports","module"]:i?["exports"]:[];let C=`System.register(${S}[`+t.map(({importPath:M})=>`'${M}'`).join(`,${y}`)+`],${y}(${k(I,{isAsync:!1,name:null})}{${g}${r}${A?"'use strict';":""}`+Xh(P,r,a)+Zh(w,r,a)+`${g}${r}return${y}{${$.length>0?`${g}${r}${r}setters:${y}[${$.map(M=>M?`${b(["module"],{isAsync:!1,name:null})}{${g}${r}${r}${r}${M}${g}${r}${r}}`:m?"null":`${b([],{isAsync:!1,name:null})}{}`).join(`,${y}`)}],`:""}${g}`;C+=`${r}${r}execute:${y}(${k([],{isAsync:c,name:null})}{${g}${g}`;const V=`${r}${r}})${g}${r}}${E}${g}}));`;n.prepend(o+gr(null,e,r,a,d,p,f)+qh(s,r,a)).append(`${l}${g}${g}`+Yh(s,r,a)+Kh(s,r,a)).indent(`${r}${r}${r}`).append(V).prepend(C)},umd:function(n,{accessedGlobals:e,dependencies:t,exports:s,hasDefaultExport:i,hasExports:r,id:o,indent:a,intro:l,namedExportsMode:c,log:d,outro:p,snippets:h},{amd:f,compact:A,esModule:m,extend:y,externalLiveBindings:b,freeze:k,interop:g,name:E,generatedCode:{symbols:w},globals:$,noConflict:P,strict:S}){const{_:I,cnst:C,getFunctionIntro:V,getNonArrowFunctionIntro:M,getPropertyAccess:T,n:D,s:O}=h,_=A?"f":"factory",F=A?"g":"global";if(r&&!E)return L({code:go,message:'You must supply "output.name" for UMD bundles that have exports so that the exports are accessible in environments without a module loader.',url:we(mo)});Ui(d,t);const H=t.map(Re=>`'${oa(Re.importPath,f.forceJsExtensionForImports)}'`),oe=t.map(Re=>`require('${Re.importPath}')`),Q=aa(t),G=Q.map(Re=>Wi(Re.globalName,F,T)),ae=Q.map(Re=>Re.name);c&&(r||P)&&(H.unshift("'exports'"),oe.unshift("exports"),G.unshift(Gi(E,F,$,(y?`${Wi(E,F,T)}${I}||${I}`:"")+"{}",h)),ae.unshift("exports"));const Pe=sa(f,o),ve=(Pe?`'${Pe}',${I}`:"")+(H.length>0?`[${H.join(`,${I}`)}],${I}`:""),he=f.define,$e=!c&&r?`module.exports${I}=${I}`:"",tt=S?`${I}'use strict';${D}`:"";let ge;if(P){const Re=A?"e":"exports";let yn;!c&&r?yn=`${C} ${Re}${I}=${I}${Gi(E,F,$,`${_}(${G.join(`,${I}`)})`,h)};`:yn=`${C} ${Re}${I}=${I}${G.shift()};${D}${a}${a}${_}(${[Re,...G].join(`,${I}`)});`,ge=`(${V([],{isAsync:!1,name:null})}{${D}${a}${a}${C} current${I}=${I}${function(gi,yi,{_:bn,getPropertyAccess:bi}){let Ei=yi;return gi.split(".").map(Ai=>Ei+=bi(Ai)).join(`${bn}&&${bn}`)}(E,F,h)};${D}${a}${a}${yn}${D}${a}${a}${Re}.noConflict${I}=${I}${V([],{isAsync:!1,name:null})}{${I}${Wi(E,F,T)}${I}=${I}current;${I}return ${Re}${O}${I}};${D}${a}})()`}else ge=`${_}(${G.join(`,${I}`)})`,!c&&r&&(ge=Gi(E,F,$,ge,h));const ye=r||P&&c||G.length>0,pt=[_];ye&&pt.unshift(F);const gn=ye?`this,${I}`:"",ss=ye?`(${F}${I}=${I}typeof globalThis${I}!==${I}'undefined'${I}?${I}globalThis${I}:${I}${F}${I}||${I}self,${I}`:"",hi=ye?")":"",pi=ye?`${a}typeof exports${I}===${I}'object'${I}&&${I}typeof module${I}!==${I}'undefined'${I}?${I}${$e}${_}(${oe.join(`,${I}`)})${I}:${D}`:"",fi=`(${M(pt,{isAsync:!1,name:null})}{${D}`+pi+`${a}typeof ${he}${I}===${I}'function'${I}&&${I}${he}.amd${I}?${I}${he}(${ve}${_})${I}:${D}${a}${ss}${ge}${hi};${D}})(${gn}(${M(ae,{isAsync:!1,name:null})}{${tt}${D}`,mi=D+D+"}));";n.prepend(`${l}${ys(t,g,b,k,w,e,a,h)}`);const is=ms(s,t,c,g,h,a,b);let Gt=gs(c&&r,m===!0||m==="if-default-prop"&&i,w,h);Gt&&(Gt=D+D+Gt),n.append(`${is}${Gt}${p}`).trim().indent(a).append(mi).prepend(fi)}};const la=(n,e)=>e?`${n}
${e}`:n,ca=(n,e)=>e?`${n}

${e}`:n;async function Jh(n,e,t){try{let[o,a,l,c]=await Promise.all([e.hookReduceValue("banner",n.banner(t),[t],la),e.hookReduceValue("footer",n.footer(t),[t],la),e.hookReduceValue("intro",n.intro(t),[t],ca),e.hookReduceValue("outro",n.outro(t),[t],ca)]);return l&&(l+=`

`),c&&(c=`

${c}`),o&&(o+=`
`),a&&(a=`
`+a),{banner:o,footer:a,intro:l,outro:c}}catch(o){return L((s=o.message,i=o.hook,r=o.plugin,{code:xd,message:`Could not retrieve "${i}". Check configuration of plugin "${r}".
	Error Message: ${s}`}))}var s,i,r}const ep={amd:bs,cjs:bs,es:ua,iife:bs,system:ua,umd:bs};function tp(n,e,t,s,i,r,o,a,l,c,d,p,h,f){const A=[...n].reverse();for(const m of A)m.scope.addUsedOutsideNames(s,i,p,h);(function(m,y,b){for(const k of y){for(const g of k.scope.variables.values())g.included&&!(g.renderBaseName||g instanceof Je&&g.getOriginalVariable()!==g)&&g.setRenderNames(null,Ye(g.name,m,g.forbiddenNames));if(b.has(k)){const g=k.namespace;g.setRenderNames(null,Ye(g.name,m,g.forbiddenNames))}}})(s,A,f),ep[i](s,t,e,r,o,a,l,c,d);for(const m of A)m.scope.deconflict(i,p,h)}function ua(n,e,t,s,i,r,o,a,l){for(const c of t.dependencies)(i||c instanceof Jt)&&(c.variableName=Ye(c.suggestedVariableName,n,null));for(const c of e){const d=c.module,p=c.name;c.isNamespace&&(i||d instanceof re)?c.setRenderNames(null,(d instanceof re?a.get(d):o.get(d)).variableName):d instanceof re&&p==="default"?c.setRenderNames(null,Ye([...d.exportedVariables].some(([h,f])=>f==="*"&&h.included)?d.suggestedVariableName+"__default":d.suggestedVariableName,n,c.forbiddenNames)):c.setRenderNames(null,Ye(si(p),n,c.forbiddenNames))}for(const c of l)c.setRenderNames(null,Ye(c.name,n,c.forbiddenNames))}function bs(n,e,{deconflictedDefault:t,deconflictedNamespace:s,dependencies:i},r,o,a,l,c){for(const d of i)d.variableName=Ye(d.suggestedVariableName,n,null);for(const d of s)d.namespaceVariableName=Ye(`${d.suggestedVariableName}__namespace`,n,null);for(const d of t)d.defaultVariableName=s.has(d)&&vh(r(d.id),a)?d.namespaceVariableName:Ye(`${d.suggestedVariableName}__default`,n,null);for(const d of e){const p=d.module;if(p instanceof re){const h=c.get(p),f=d.name;if(f==="default"){const A=r(p.id),m=li[A]?h.defaultVariableName:h.variableName;ci(A,a)?d.setRenderNames(m,"default"):d.setRenderNames(null,m)}else f==="*"?d.setRenderNames(null,ns[r(p.id)]?h.namespaceVariableName:h.variableName):d.setRenderNames(h.variableName,null)}else{const h=l.get(p);o&&d.isNamespace?d.setRenderNames(null,h.exportMode==="default"?h.namespaceVariableName:h.variableName):h.exportMode==="default"?d.setRenderNames(null,h.variableName):d.setRenderNames(h.variableName,h.getVariableExportName(d))}}}function np(n,{exports:e,name:t,format:s},i,r){const o=n.getExportNames();if(e==="default"){if(o.length!==1||o[0]!=="default")return L(wo("default",o,i))}else if(e==="none"&&o.length>0)return L(wo("none",o,i));return e==="auto"&&(o.length===0?e="none":o.length===1&&o[0]==="default"?e="default":(s!=="es"&&s!=="system"&&o.includes("default")&&r(j,function(a,l){return{code:jd,id:a,message:`Entry module "${U(a)}" is using named and default exports together. Consumers of your bundle will have to use \`${l||"chunk"}.default\` to access the default export, which may not be what you want. Use \`output.exports: "named"\` to disable this warning.`,url:we(Lr)}}(i,t)),e="named")),e}function sp(n){const e=n.split(`
`),t=e.filter(r=>/^\t+/.test(r)),s=e.filter(r=>/^ {2,}/.test(r));if(t.length===0&&s.length===0)return null;if(t.length>=s.length)return"	";const i=s.reduce((r,o)=>{const a=/^ +/.exec(o)[0].length;return Math.min(a,r)},1/0);return" ".repeat(i)}function lc(n,e,t,s,i,r){const o=n.getDependenciesToBeIncluded();for(const a of o){if(a instanceof re){e.push(r.get(a));continue}const l=i.get(a);l===s?t.has(a)||(t.add(a),lc(a,e,t,s,i,r)):e.push(l)}}const Zr="!~{",qr="}~",Yr=new RegExp(`${Zr}[0-9a-zA-Z_$]{1,17}${qr}`,"g"),Ot=(n,e)=>n.replace(Yr,t=>e.get(t)||t),ip=(n,e,t)=>n.replace(Yr,s=>s===e?t:s),rp=(n,e)=>{const t=new Set,s=n.replace(Yr,i=>e.has(i)?(t.add(i),`${Zr}${"0".repeat(i.length-5)}${qr}`):i);return{containedPlaceholders:t,transformedCode:s}},ui=Symbol("bundleKeys"),Kr={type:"placeholder"};function vr(n,e,t){return Os(n)?L(De(`Invalid pattern "${n}" for "${e}", patterns can be neither absolute nor relative paths. If you want your files to be stored in a subdirectory, write its name without a leading slash like this: subdirectory/pattern.`)):n.replace(/\[(\w+)(:\d+)?]/g,(s,i,r)=>{if(!t.hasOwnProperty(i)||r&&i!=="hash")return L(De(`"[${i}${r||""}]" is not a valid placeholder in the "${e}" pattern.`));const o=t[i](r&&Number.parseInt(r.slice(1)));return Os(o)?L(De(`Invalid substitution "${o}" for placeholder "[${i}]" in "${e}" pattern, can be neither absolute nor relative path.`)):o})}function kr(n,{[ui]:e}){if(!e.has(n.toLowerCase()))return n;const t=vt(n);n=n.slice(0,Math.max(0,n.length-t.length));let s,i=1;for(;e.has((s=n+ ++i+t).toLowerCase()););return s}const op=new Set([".js",".jsx",".ts",".tsx",".mjs",".mts",".cjs",".cts"]);function ap(n,e,t,s){return(typeof e=="function"?e(n.id):e[n.id])||(t?(s(j,(r=n.id,o=n.variableName,{code:zd,id:r,message:`No name was provided for external module "${r}" in "output.globals" – guessing "${o}".`,names:[o],url:we(vd)})),n.variableName):void 0);var r,o}class yt{constructor(e,t,s,i,r,o,a,l,c,d,p,h,f,A,m){this.orderedModules=e,this.inputOptions=t,this.outputOptions=s,this.unsetOptions=i,this.pluginDriver=r,this.modulesById=o,this.chunkByModule=a,this.externalChunkByModule=l,this.facadeChunkByModule=c,this.includedNamespaces=d,this.manualChunkAlias=p,this.getPlaceholder=h,this.bundle=f,this.inputBase=A,this.snippets=m,this.entryModules=[],this.exportMode="named",this.facadeModule=null,this.namespaceVariableName="",this.variableName="",this.accessedGlobalsByScope=new Map,this.dependencies=new Set,this.dynamicEntryModules=[],this.dynamicName=null,this.exportNamesByVariable=new Map,this.exports=new Set,this.exportsByName=new Map,this.fileName=null,this.implicitEntryModules=[],this.implicitlyLoadedBefore=new Set,this.imports=new Set,this.includedDynamicImports=null,this.includedReexportsByModule=new Map,this.isEmpty=!0,this.name=null,this.needsExportsShim=!1,this.preRenderedChunkInfo=null,this.preliminaryFileName=null,this.preliminarySourcemapFileName=null,this.renderedChunkInfo=null,this.renderedDependencies=null,this.renderedModules=Object.create(null),this.sortedExportNames=null,this.strictFacade=!1,this.execIndex=e.length>0?e[0].execIndex:1/0;const y=new Set(e);for(const b of e){a.set(b,this),b.namespace.included&&!s.preserveModules&&d.add(b),this.isEmpty&&b.isIncluded()&&(this.isEmpty=!1),(b.info.isEntry||s.preserveModules)&&this.entryModules.push(b);for(const k of b.includedDynamicImporters)y.has(k)||(this.dynamicEntryModules.push(b),b.info.syntheticNamedExports&&(d.add(b),this.exports.add(b.namespace)));b.implicitlyLoadedAfter.size>0&&this.implicitEntryModules.push(b)}this.suggestedVariableName=si(this.generateVariableName())}static generateFacade(e,t,s,i,r,o,a,l,c,d,p,h,f,A,m){const y=new yt([],e,t,s,i,r,o,a,l,c,null,h,f,A,m);y.assignFacadeName(p,d),l.has(d)||l.set(d,y);for(const b of d.getDependenciesToBeIncluded())y.dependencies.add(b instanceof de?o.get(b):a.get(b));return!y.dependencies.has(o.get(d))&&d.info.moduleSideEffects&&d.hasEffects()&&y.dependencies.add(o.get(d)),y.ensureReexportsAreAvailableForModule(d),y.facadeModule=d,y.strictFacade=!0,y}canModuleBeFacade(e,t){const s=e.getExportNamesByVariable();for(const i of this.exports)if(!s.has(i))return!1;for(const i of t)if(!(i.module===e||s.has(i)||i instanceof Le&&s.has(i.getBaseVariable())))return!1;return!0}finalizeChunk(e,t,s,i){const r=this.getRenderedChunkInfo(),o=c=>Ot(c,i),a=r.fileName,l=this.fileName=o(a);return{...r,code:e,dynamicImports:r.dynamicImports.map(o),fileName:l,implicitlyLoadedBefore:r.implicitlyLoadedBefore.map(o),importedBindings:Object.fromEntries(Object.entries(r.importedBindings).map(([c,d])=>[o(c),d])),imports:r.imports.map(o),map:t,preliminaryFileName:a,referencedFiles:r.referencedFiles.map(o),sourcemapFileName:s}}generateExports(){this.sortedExportNames=null;const e=new Set(this.exports);if(this.facadeModule!==null&&(this.facadeModule.preserveSignature!==!1||this.strictFacade)){const t=this.facadeModule.getExportNamesByVariable();for(const[s,i]of t){this.exportNamesByVariable.set(s,[...i]);for(const r of i)this.exportsByName.set(r,s);e.delete(s)}}this.outputOptions.minifyInternalExports?function(t,s,i){let r=0;for(const o of t){let[a]=o.name;if(s.has(a))do a=Fs(++r),a.charCodeAt(0)===49&&(r+=9*64**(a.length-1),a=Fs(r));while(ni.has(a)||s.has(a));s.set(a,o),i.set(o,[a])}}(e,this.exportsByName,this.exportNamesByVariable):function(t,s,i){for(const r of t){let o=0,a=r.name;for(;s.has(a);)a=r.name+"$"+ ++o;s.set(a,r),i.set(r,[a])}}(e,this.exportsByName,this.exportNamesByVariable),(this.outputOptions.preserveModules||this.facadeModule&&this.facadeModule.info.isEntry)&&(this.exportMode=np(this,this.outputOptions,this.facadeModule.id,this.inputOptions.onLog))}generateFacades(){var i;const e=[],t=new Set([...this.entryModules,...this.implicitEntryModules]),s=new Set(this.dynamicEntryModules.map(({namespace:r})=>r));for(const r of t)if(r.preserveSignature)for(const o of r.getExportNamesByVariable().keys())this.chunkByModule.get(o.module)===this&&s.add(o);for(const r of t){const o=Array.from(new Set(r.chunkNames.filter(({isUserDefined:a})=>a).map(({name:a})=>a)),a=>({name:a}));if(o.length===0&&r.isUserDefinedEntryPoint&&o.push({}),o.push(...Array.from(r.chunkFileNames,a=>({fileName:a}))),o.length===0&&o.push({}),!this.facadeModule){const a=!this.outputOptions.preserveModules&&(r.preserveSignature==="strict"||r.preserveSignature==="exports-only"&&r.getExportNamesByVariable().size>0);a&&!this.canModuleBeFacade(r,s)||(this.facadeModule=r,this.facadeChunkByModule.set(r,this),r.preserveSignature&&(this.strictFacade=a),this.assignFacadeName(o.shift(),r,this.outputOptions.preserveModules))}for(const a of o)e.push(yt.generateFacade(this.inputOptions,this.outputOptions,this.unsetOptions,this.pluginDriver,this.modulesById,this.chunkByModule,this.externalChunkByModule,this.facadeChunkByModule,this.includedNamespaces,r,a,this.getPlaceholder,this.bundle,this.inputBase,this.snippets))}for(const r of this.dynamicEntryModules)r.info.syntheticNamedExports||(!this.facadeModule&&this.canModuleBeFacade(r,s)?(this.facadeModule=r,this.facadeChunkByModule.set(r,this),this.strictFacade=!0,this.dynamicName=Hi(r)):this.facadeModule===r&&!this.strictFacade&&this.canModuleBeFacade(r,s)?this.strictFacade=!0:(i=this.facadeChunkByModule.get(r))!=null&&i.strictFacade||(this.includedNamespaces.add(r),this.exports.add(r.namespace)));return this.outputOptions.preserveModules||this.addNecessaryImportsForFacades(),e}getChunkName(){return this.name??(this.name=this.outputOptions.sanitizeFileName(this.getFallbackChunkName()))}getExportNames(){return this.sortedExportNames??(this.sortedExportNames=[...this.exportsByName.keys()].sort())}getFileName(){return this.fileName||this.getPreliminaryFileName().fileName}getImportPath(e){return Js(qa(e,this.getFileName(),this.outputOptions.format==="amd"&&!this.outputOptions.amd.forceJsExtensionForImports,!0))}getPreliminaryFileName(){var l;if(this.preliminaryFileName)return this.preliminaryFileName;let e,t=null;const{chunkFileNames:s,entryFileNames:i,file:r,format:o,preserveModules:a}=this.outputOptions;if(r)e=dt(r);else if(this.fileName===null){const[c,d]=a||(l=this.facadeModule)!=null&&l.isUserDefinedEntryPoint?[i,"output.entryFileNames"]:[s,"output.chunkFileNames"];e=vr(typeof c=="function"?c(this.getPreRenderedChunkInfo()):c,d,{format:()=>o,hash:p=>t||(t=this.getPlaceholder(d,p)),name:()=>this.getChunkName()}),t||(e=kr(e,this.bundle))}else e=this.fileName;return t||(this.bundle[e]=Kr),this.preliminaryFileName={fileName:e,hashPlaceholder:t}}getPreliminarySourcemapFileName(){if(this.preliminarySourcemapFileName)return this.preliminarySourcemapFileName;let e=null,t=null;const{sourcemapFileNames:s,format:i}=this.outputOptions;if(!s)return null;{const[r,o]=[s,"output.sourcemapFileNames"];e=vr(typeof r=="function"?r(this.getPreRenderedChunkInfo()):r,o,{chunkhash:()=>this.getPreliminaryFileName().hashPlaceholder||"",format:()=>i,hash:a=>t||(t=this.getPlaceholder(o,a)),name:()=>this.getChunkName()}),t||(e=kr(e,this.bundle))}return this.preliminarySourcemapFileName={fileName:e,hashPlaceholder:t}}getRenderedChunkInfo(){return this.renderedChunkInfo?this.renderedChunkInfo:this.renderedChunkInfo={...this.getPreRenderedChunkInfo(),dynamicImports:this.getDynamicDependencies().map(Es),fileName:this.getFileName(),implicitlyLoadedBefore:Array.from(this.implicitlyLoadedBefore,Es),importedBindings:lp(this.getRenderedDependencies(),Es),imports:Array.from(this.dependencies,Es),modules:this.renderedModules,referencedFiles:this.getReferencedFiles()}}getVariableExportName(e){return this.outputOptions.preserveModules&&e instanceof Mn?"*":this.exportNamesByVariable.get(e)[0]}link(){this.dependencies=function(e,t,s,i){const r=[],o=new Set;for(let l=t.length-1;l>=0;l--){const c=t[l];if(!o.has(c)){const d=[];lc(c,d,o,e,s,i),r.unshift(d)}}const a=new Set;for(const l of r)for(const c of l)a.add(c);return a}(this,this.orderedModules,this.chunkByModule,this.externalChunkByModule);for(const e of this.orderedModules)this.addImplicitlyLoadedBeforeFromModule(e),this.setUpChunkImportsAndExportsForModule(e)}async render(){const{dependencies:e,exportMode:t,facadeModule:s,inputOptions:{onLog:i},outputOptions:r,pluginDriver:o,snippets:a}=this,{format:l,hoistTransitiveImports:c,preserveModules:d}=r;if(c&&!d&&s!==null)for(const V of e)V instanceof yt&&this.inlineChunkDependencies(V);const p=this.getPreliminaryFileName(),h=this.getPreliminarySourcemapFileName(),{accessedGlobals:f,indent:A,magicString:m,renderedSource:y,usedModules:b,usesTopLevelAwait:k}=this.renderModules(p.fileName),g=[...this.getRenderedDependencies().values()],E=t==="none"?[]:this.getChunkExportDeclarations(l);let w=E.length>0,$=!1;for(const V of g){const{reexports:M}=V;M!=null&&M.length&&(w=!0,!$&&M.some(T=>T.reexported==="default")&&($=!0),l==="es"&&(V.reexports=M.filter(({reexported:T})=>!E.find(({exported:D})=>D===T))))}if(!$){for(const{exported:V}of E)if(V==="default"){$=!0;break}}const{intro:P,outro:S,banner:I,footer:C}=await Jh(r,o,this.getRenderedChunkInfo());if(Qh[l](y,{accessedGlobals:f,dependencies:g,exports:E,hasDefaultExport:$,hasExports:w,id:p.fileName,indent:A,intro:P,isEntryFacade:d||s!==null&&s.info.isEntry,isModuleFacade:s!==null,log:i,namedExportsMode:t!=="default",outro:S,snippets:a,usesTopLevelAwait:k},r),I&&m.prepend(I),l==="es"||l==="cjs"){const V=s!==null&&s.info.isEntry&&s.shebang;V&&m.prepend(`#!${V}
`)}return C&&m.append(C),{chunk:this,magicString:m,preliminaryFileName:p,preliminarySourcemapFileName:h,usedModules:b}}addImplicitlyLoadedBeforeFromModule(e){const{chunkByModule:t,implicitlyLoadedBefore:s}=this;for(const i of e.implicitlyLoadedBefore){const r=t.get(i);r&&r!==this&&s.add(r)}}addNecessaryImportsForFacades(){for(const[e,t]of this.includedReexportsByModule)if(this.includedNamespaces.has(e))for(const s of t)this.imports.add(s)}assignFacadeName({fileName:e,name:t},s,i){e?this.fileName=e:this.name=this.outputOptions.sanitizeFileName(t||(i?this.getPreserveModulesChunkNameFromModule(s):Hi(s)))}checkCircularDependencyImport(e,t){var c;const s=e.module;if(s instanceof de){const d=this.chunkByModule.get(s);let p;do p=t.alternativeReexportModules.get(e),p&&(this.chunkByModule.get(p)!==d&&this.inputOptions.onLog(j,(i=((c=s.getExportNamesByVariable().get(e))==null?void 0:c[0])||"*",r=s.id,o=p.id,a=t.id,l=this.outputOptions.preserveModules,{code:"CYCLIC_CROSS_CHUNK_REEXPORT",exporter:r,id:a,message:`Export "${i}" of module "${U(r)}" was reexported through module "${U(o)}" while both modules are dependencies of each other and will end up in different chunks by current Rollup settings. This scenario is not well supported at the moment as it will produce a circular dependency between chunks and will likely lead to broken execution order.
Either change the import in "${U(a)}" to point directly to the exporting module or ${l?'do not use "output.preserveModules"':'reconfigure "output.manualChunks"'} to ensure these modules end up in the same chunk.`,reexporter:o})),t=p);while(p)}var i,r,o,a,l}ensureReexportsAreAvailableForModule(e){const t=[],s=e.getExportNamesByVariable();for(const i of s.keys()){const r=i instanceof Le,o=r?i.getBaseVariable():i;if(this.checkCircularDependencyImport(o,e),!(o instanceof Mn&&this.outputOptions.preserveModules)){const a=o.module;if(a instanceof de){const l=this.chunkByModule.get(a);l&&l!==this&&(l.exports.add(o),t.push(o),r&&this.imports.add(o))}}}t.length>0&&this.includedReexportsByModule.set(e,t)}generateVariableName(){if(this.manualChunkAlias)return this.manualChunkAlias;const e=this.entryModules[0]||this.implicitEntryModules[0]||this.dynamicEntryModules[0]||this.orderedModules[this.orderedModules.length-1];return e?Hi(e):"chunk"}getChunkExportDeclarations(e){const t=[];for(const s of this.getExportNames()){if(s[0]==="*")continue;const i=this.exportsByName.get(s);if(!(i instanceof Le)){const l=i.module;if(l){const c=this.chunkByModule.get(l);if(c!==this){if(!c||e!=="es")continue;const d=this.renderedDependencies.get(c);if(!d)continue;const{imports:p,reexports:h}=d,f=h==null?void 0:h.find(({reexported:m})=>m===s);if(!(p==null?void 0:p.find(({imported:m})=>m===(f==null?void 0:f.imported))))continue}}}let r=null,o=!1,a=i.getName(this.snippets.getPropertyAccess);if(i instanceof Qe){for(const l of i.declarations)if(l.parent instanceof jn||l instanceof ai&&l.declaration instanceof jn){o=!0;break}}else i instanceof Le&&(r=a,e==="es"&&(a=i.renderName));t.push({exported:s,expression:r,hoisted:o,local:a})}return t}getDependenciesToBeDeconflicted(e,t,s){const i=new Set,r=new Set,o=new Set;for(const a of[...this.exportNamesByVariable.keys(),...this.imports])if(e||a.isNamespace){const l=a.module;if(l instanceof re){const c=this.externalChunkByModule.get(l);i.add(c),e&&(a.name==="default"?li[s(l.id)]&&r.add(c):a.name==="*"&&ns[s(l.id)]&&o.add(c))}else{const c=this.chunkByModule.get(l);c!==this&&(i.add(c),e&&c.exportMode==="default"&&a.isNamespace&&o.add(c))}}if(t)for(const a of this.dependencies)i.add(a);return{deconflictedDefault:r,deconflictedNamespace:o,dependencies:i}}getDynamicDependencies(){return this.getIncludedDynamicImports().map(e=>e.facadeChunk||e.chunk||e.externalChunk||e.resolution).filter(e=>e!==this&&(e instanceof yt||e instanceof Jt))}getDynamicImportStringAndAttributes(e,t){if(e instanceof re){const s=this.externalChunkByModule.get(e);return[`'${s.getImportPath(t)}'`,s.getImportAttributes(this.snippets)]}return[e||"",this.outputOptions.format==="es"&&this.outputOptions.externalImportAttributes||null]}getFallbackChunkName(){return this.manualChunkAlias?this.manualChunkAlias:this.dynamicName?this.dynamicName:this.fileName?tr(this.fileName):tr(this.orderedModules[this.orderedModules.length-1].id)}getImportSpecifiers(){const{interop:e}=this.outputOptions,t=new Map;for(const s of this.imports){const i=s.module;let r,o;if(i instanceof re){if(r=this.externalChunkByModule.get(i),o=s.name,o!=="default"&&o!=="*"&&e(i.id)==="defaultOnly")return L(Io(i.id,o,!1))}else r=this.chunkByModule.get(i),o=r.getVariableExportName(s);ze(t,r,ho).push({imported:o,local:s.getName(this.snippets.getPropertyAccess)})}return t}getIncludedDynamicImports(){if(this.includedDynamicImports)return this.includedDynamicImports;const e=[];for(const t of this.orderedModules)for(const{node:s,resolution:i}of t.dynamicImports)s.included&&e.push(i instanceof de?{chunk:this.chunkByModule.get(i),externalChunk:null,facadeChunk:this.facadeChunkByModule.get(i),node:s,resolution:i}:i instanceof re?{chunk:null,externalChunk:this.externalChunkByModule.get(i),facadeChunk:null,node:s,resolution:i}:{chunk:null,externalChunk:null,facadeChunk:null,node:s,resolution:i});return this.includedDynamicImports=e}getPreRenderedChunkInfo(){if(this.preRenderedChunkInfo)return this.preRenderedChunkInfo;const{dynamicEntryModules:e,facadeModule:t,implicitEntryModules:s,orderedModules:i}=this;return this.preRenderedChunkInfo={exports:this.getExportNames(),facadeModuleId:t&&t.id,isDynamicEntry:e.length>0,isEntry:!!(t!=null&&t.info.isEntry),isImplicitEntry:s.length>0,moduleIds:i.map(({id:r})=>r),name:this.getChunkName(),type:"chunk"}}getPreserveModulesChunkNameFromModule(e){const t=cc(e);if(t)return t;const{preserveModulesRoot:s,sanitizeFileName:i}=this.outputOptions,r=i(Yn(e.id.split(cp,1)[0])),o=vt(r),a=op.has(o)?r.slice(0,-o.length):r;return $t(a)?s&&We(a).startsWith(s)?a.slice(s.length).replace(/^[/\\]/,""):hn(this.inputBase,a):`_virtual/${dt(a)}`}getReexportSpecifiers(){const{externalLiveBindings:e,interop:t}=this.outputOptions,s=new Map;for(let i of this.getExportNames()){let r,o,a=!1;if(i[0]==="*"){const l=i.slice(1);t(l)==="defaultOnly"&&this.inputOptions.onLog(j,eh(l)),a=e,r=this.externalChunkByModule.get(this.modulesById.get(l)),o=i="*"}else{const l=this.exportsByName.get(i);if(l instanceof Le)continue;const c=l.module;if(c instanceof de){if(r=this.chunkByModule.get(c),r===this)continue;o=r.getVariableExportName(l),a=l.isReassigned}else{if(r=this.externalChunkByModule.get(c),o=l.name,o!=="default"&&o!=="*"&&t(c.id)==="defaultOnly")return L(Io(c.id,o,!0));a=e&&(o!=="default"||ci(t(c.id),!0))}}ze(s,r,ho).push({imported:o,needsLiveBinding:a,reexported:i})}return s}getReferencedFiles(){const e=new Set;for(const t of this.orderedModules)for(const s of t.importMetas){const i=s.getReferencedFileName(this.pluginDriver);i&&e.add(i)}return[...e]}getRenderedDependencies(){if(this.renderedDependencies)return this.renderedDependencies;const e=this.getImportSpecifiers(),t=this.getReexportSpecifiers(),s=new Map,i=this.getFileName();for(const r of this.dependencies){const o=e.get(r)||null,a=t.get(r)||null,l=r instanceof Jt||r.exportMode!=="default",c=r.getImportPath(i);s.set(r,{attributes:r instanceof Jt?r.getImportAttributes(this.snippets):null,defaultVariableName:r.defaultVariableName,globalName:r instanceof Jt&&(this.outputOptions.format==="umd"||this.outputOptions.format==="iife")&&ap(r,this.outputOptions.globals,(o||a)!==null,this.inputOptions.onLog),importPath:c,imports:o,isChunk:r instanceof yt,name:r.variableName,namedExportsMode:l,namespaceVariableName:r.namespaceVariableName,reexports:a})}return this.renderedDependencies=s}inlineChunkDependencies(e){for(const t of e.dependencies)this.dependencies.has(t)||(this.dependencies.add(t),t instanceof yt&&this.inlineChunkDependencies(t))}renderModules(e){var D;const{accessedGlobalsByScope:t,dependencies:s,exportNamesByVariable:i,includedNamespaces:r,inputOptions:{onLog:o},isEmpty:a,orderedModules:l,outputOptions:c,pluginDriver:d,renderedModules:p,snippets:h}=this,{compact:f,format:A,freeze:m,generatedCode:{symbols:y}}=c,{_:b,cnst:k,n:g}=h;this.setDynamicImportResolutions(e),this.setImportMetaResolutions(e),this.setIdentifierRenderResolutions();const E=new od({separator:`${g}${g}`}),w=function(O,_){if(_.indent!==!0)return _.indent;for(const F of O){const H=sp(F.originalCode);if(H!==null)return H}return"	"}(l,c),$=[];let P="";const S=new Set,I=new Map,C={accessedDocumentCurrentScript:!1,exportNamesByVariable:i,format:A,freeze:m,indent:w,pluginDriver:d,snippets:h,symbols:y,useOriginalName:null};let V=!1;for(const O of l){let _,F=0;if(O.isIncluded()||r.has(O)){const Q=O.render(C);!C.accessedDocumentCurrentScript&&Hl.includes(A)&&((D=this.accessedGlobalsByScope.get(O.scope))==null||D.delete(It)),C.accessedDocumentCurrentScript=!1,{source:_}=Q,V||(V=Q.usesTopLevelAwait),F=_.length(),F&&(f&&_.lastLine().includes("//")&&_.append(`
`),I.set(O,_),E.addSource(_),$.push(O));const G=O.namespace;if(r.has(O)){const Pe=G.renderBlock(C);G.renderFirst()?P+=g+Pe:E.addSource(new zt(Pe))}const ae=t.get(O.scope);if(ae)for(const Pe of ae)S.add(Pe)}const{renderedExports:H,removedExports:oe}=O.getRenderedExports();p[O.id]={get code(){return(_==null?void 0:_.toString())??null},originalLength:O.originalCode.length,removedExports:oe,renderedExports:H,renderedLength:F}}P&&E.prepend(P+g+g),this.needsExportsShim&&E.prepend(`${g}${k} ${cn}${b}=${b}void 0;${g}${g}`);const M=f?E:E.trim();var T;return a&&this.getExportNames().length===0&&s.size===0&&o(j,{code:"EMPTY_BUNDLE",message:`Generated an empty chunk: "${T=this.getChunkName()}".`,names:[T]}),{accessedGlobals:S,indent:w,magicString:E,renderedSource:M,usedModules:$,usesTopLevelAwait:V}}setDynamicImportResolutions(e){const{accessedGlobalsByScope:t,outputOptions:s,pluginDriver:i,snippets:r}=this;for(const o of this.getIncludedDynamicImports())if(o.chunk){const{chunk:a,facadeChunk:l,node:c,resolution:d}=o;a===this?c.setInternalResolution(d.namespace):c.setExternalResolution((l||a).exportMode,d,s,r,i,t,`'${(l||a).getImportPath(e)}'`,!(l!=null&&l.strictFacade)&&a.exportNamesByVariable.get(d.namespace)[0],null)}else{const{node:a,resolution:l}=o,[c,d]=this.getDynamicImportStringAndAttributes(l,e);a.setExternalResolution("external",l,s,r,i,t,c,!1,d)}}setIdentifierRenderResolutions(){const{format:e,generatedCode:{symbols:t},interop:s,preserveModules:i,externalLiveBindings:r}=this.outputOptions,o=new Set;for(const l of this.getExportNames()){const c=this.exportsByName.get(l);e!=="es"&&e!=="system"&&c.isReassigned&&!c.isId?c.setRenderNames("exports",l):c instanceof Le?o.add(c):c.setRenderNames(null,null)}for(const l of this.orderedModules)if(l.needsExportShim){this.needsExportsShim=!0;break}const a=new Set(["Object","Promise"]);switch(this.needsExportsShim&&a.add(cn),t&&a.add("Symbol"),e){case"system":a.add("module").add("exports");break;case"es":break;case"cjs":a.add("module").add("require").add("__filename").add("__dirname");default:a.add("exports");for(const l of br)a.add(l)}tp(this.orderedModules,this.getDependenciesToBeDeconflicted(e!=="es"&&e!=="system",e==="amd"||e==="umd"||e==="iife",s),this.imports,a,e,s,i,r,this.chunkByModule,this.externalChunkByModule,o,this.exportNamesByVariable,this.accessedGlobalsByScope,this.includedNamespaces)}setImportMetaResolutions(e){const{accessedGlobalsByScope:t,includedNamespaces:s,orderedModules:i,outputOptions:{format:r}}=this;for(const o of i){for(const a of o.importMetas)a.setResolution(r,t,e);s.has(o)&&o.namespace.prepare(t)}}setUpChunkImportsAndExportsForModule(e){const t=new Set(e.includedImports);if(!this.outputOptions.preserveModules&&this.includedNamespaces.has(e)){const s=e.namespace.getMemberVariables();for(const i of Object.values(s))i.included&&t.add(i)}for(let s of t){s instanceof Je&&(s=s.getOriginalVariable()),s instanceof Le&&(s=s.getBaseVariable());const i=this.chunkByModule.get(s.module);i!==this&&(this.imports.add(s),s.module instanceof de&&(this.checkCircularDependencyImport(s,e),s instanceof Mn&&this.outputOptions.preserveModules||i.exports.add(s)))}(this.includedNamespaces.has(e)||e.info.isEntry&&e.preserveSignature!==!1||e.includedDynamicImporters.some(s=>this.chunkByModule.get(s)!==this))&&this.ensureReexportsAreAvailableForModule(e);for(const{node:s,resolution:i}of e.dynamicImports)s.included&&i instanceof de&&this.chunkByModule.get(i)===this&&!this.includedNamespaces.has(i)&&(this.includedNamespaces.add(i),this.ensureReexportsAreAvailableForModule(i))}}function Hi(n){return cc(n)??tr(n.id)}function cc(n){var e,t;return((e=n.chunkNames.find(({isUserDefined:s})=>s))==null?void 0:e.name)??((t=n.chunkNames[0])==null?void 0:t.name)}function lp(n,e){const t={};for(const[s,i]of n){const r=new Set;if(i.imports)for(const{imported:o}of i.imports)r.add(o);if(i.reexports)for(const{imported:o}of i.reexports)r.add(o);t[e(s)]=[...r]}return t}const cp=/[#?]/,Es=n=>n.getFileName();function*uc(n){for(const e of n)yield*e}function up(n,e,t,s){const{chunkDefinitions:i,modulesInManualChunks:r}=function(y){const b=[],k=new Set(y.keys()),g=Object.create(null);for(const[E,w]of y)dp(E,g[w]||(g[w]=[]),k);for(const[E,w]of Object.entries(g))b.push({alias:E,modules:w});return{chunkDefinitions:b,modulesInManualChunks:k}}(e),{allEntries:o,dependentEntriesByModule:a,dynamicallyDependentEntriesByDynamicEntry:l,dynamicImportsByEntry:c}=function(y){const b=new Set,k=new Map,g=[],E=new Set(y);let w=0;for(const I of E){const C=new Set;g.push(C);const V=new Set([I]);for(const M of V){ze(k,M,Ft).add(w);for(const T of M.getDependenciesToBeIncluded())T instanceof re||V.add(T);for(const{resolution:T}of M.dynamicImports)T instanceof de&&T.includedDynamicImporters.length>0&&!E.has(T)&&(b.add(T),E.add(T),C.add(T));for(const T of M.implicitlyLoadedBefore)E.has(T)||(b.add(T),E.add(T))}w++}const $=[...E],{dynamicEntries:P,dynamicImportsByEntry:S}=function(I,C,V){const M=new Map,T=new Set;for(const[O,_]of I.entries())M.set(_,O),C.has(_)&&T.add(O);const D=[];for(const O of V){const _=new Set;for(const F of O)_.add(M.get(F));D.push(_)}return{dynamicEntries:T,dynamicImportsByEntry:D}}($,b,g);return{allEntries:$,dependentEntriesByModule:k,dynamicallyDependentEntriesByDynamicEntry:hp(k,P,$),dynamicImportsByEntry:S}}(n),d=function(y){var k;const b=Object.create(null);for(const{dependentEntries:g,modules:E}of y){let w=0n;for(const $ of g)w|=1n<<BigInt($);(b[k=String(w)]||(b[k]={dependentEntries:new Set(g),modules:[]})).modules.push(...E)}return Object.values(b)}(function*(y,b){for(const[k,g]of y)b.has(k)||(yield{dependentEntries:g,modules:[k]})}(a,r)),p=function(y,b){const k=y.map(()=>0n);let g=1n;for(const{dependentEntries:E}of b){for(const w of E)k[w]|=g;g<<=1n}return k}(o,d),h=function(y,b,k,g){const E=g.map((w,$)=>b.has($)?-1n:0n);for(const[w,$]of b){b.delete(w);const P=E[w];let S=P;for(const I of $)S&=y[I]|E[I];if(S!==P){E[w]=S;for(const I of k[w])ze(b,I,Ft).add(w)}}return E}(p,l,c,o);(function(y,b){let k=1n;for(const{dependentEntries:g}of y){for(const E of g)(b[E]&k)===k&&g.delete(E);k<<=1n}})(d,h);const{chunks:f,sideEffectAtoms:A,sizeByAtom:m}=function(y,b,k,g){var C;const E=Object.create(null),w=new Map,$=[];let P=0n,S=1n;for(const{dependentEntries:V,modules:M}of y){let T=0n,D=-1n;for(const H of V)T|=1n<<BigInt(H),D&=b[H]|k[H];const O=E[C=String(T)]||(E[C]={containedAtoms:0n,correlatedAtoms:D,dependencies:new Set,dependentChunks:new Set,dependentEntries:new Set(V),modules:[],pure:!0,size:0});let _=0,F=!0;for(const H of M)w.set(H,O),H.isIncluded()&&(F&&(F=!H.hasEffects()),_+=g>1?H.estimateSize():1);F||(P|=S),$.push(_),O.containedAtoms|=S,O.modules.push(...M),O.pure&&(O.pure=F),O.size+=_,S<<=1n}const I=Object.values(E);return P|=function(V,M,T){const D=new Map;let O=0n;for(const _ of V){const{dependencies:F,modules:H}=_;for(const oe of H)for(const Q of oe.getDependenciesToBeIncluded())if(Q instanceof re){if(Q.info.moduleSideEffects){const G=ze(D,Q,()=>{const ae=T;return T<<=1n,O|=ae,ae});_.containedAtoms|=G,_.correlatedAtoms|=G}}else{const G=M.get(Q);G&&G!==_&&(F.add(G),G.dependentChunks.add(_))}}return O}(I,w,S),{chunks:I,sideEffectAtoms:P,sizeByAtom:$}}(d,p,h,t);return i.push(...function(y,b,k,g,E){Ae("optimize chunks",3);const w=function($,P){const S=[],I=[];for(const C of $)(C.size<P?S:I).push(C);return S.length===0?null:(S.sort(da),I.sort(da),{big:new Set(I),small:new Set(S)})}(y,b);return w?(b>1&&E("info",ko(y.length,w.small.size,"Initially")),function($,P,S,I){const{small:C}=$;for(const V of C){const M=pp(V,$,S,I,P<=1?1:1/0);if(M){const{containedAtoms:T,correlatedAtoms:D,modules:O,pure:_,size:F}=V;C.delete(V),pa(M,P,$).delete(M),M.modules.push(...O),M.size+=F,M.pure&&(M.pure=_);const{dependencies:H,dependentChunks:oe,dependentEntries:Q}=M;M.correlatedAtoms&=D,M.containedAtoms|=T;for(const G of V.dependentEntries)Q.add(G);for(const G of V.dependencies)H.add(G),G.dependentChunks.delete(V),G.dependentChunks.add(M);for(const G of V.dependentChunks)oe.add(G),G.dependencies.delete(V),G.dependencies.add(M);H.delete(M),oe.delete(M),pa(M,P,$).add(M)}}}(w,b,k,g),b>1&&E("info",ko(w.small.size+w.big.size,w.small.size,"After merging chunks")),fe("optimize chunks",3),[...w.small,...w.big]):(fe("optimize chunks",3),y)}(f,t,A,m,s).map(({modules:y})=>({alias:null,modules:y}))),i}function dp(n,e,t){const s=new Set([n]);for(const i of s){t.add(i),e.push(i);for(const r of i.dependencies)r instanceof re||t.has(r)||s.add(r)}}function hp(n,e,t){const s=new Map;for(const i of e){const r=ze(s,i,Ft),o=t[i];for(const a of uc([o.includedDynamicImporters,o.implicitlyLoadedAfter]))for(const l of n.get(a))r.add(l)}return s}function da({size:n},{size:e}){return n-e}function pp(n,{big:e,small:t},s,i,r){let o=null;for(const a of uc([t,e])){if(n===a)continue;const l=fp(n,a,r,s,i);if(l<r){if(o=a,l===0)break;r=l}}return o}function fp(n,e,t,s,i){const r=ha(n,e,t,s,i);return r<t?r+ha(e,n,t-r,s,i):1/0}function ha(n,e,t,s,i){const{correlatedAtoms:r}=e;let o=n.containedAtoms;const a=o&s;if((r&a)!==a)return 1/0;const l=new Set(n.dependencies);for(const{dependencies:c,containedAtoms:d}of l){o|=d;const p=d&s;if((r&p)!==p)return 1/0;for(const h of c){if(h===e)return 1/0;l.add(h)}}return function(c,d,p){let h=0,f=0,A=1n;const{length:m}=p;for(;f<m;f++)if((c&A)===A&&(h+=p[f]),A<<=1n,h>=d)return 1/0;return h}(o&~r,t,i)}function pa(n,e,t){return n.size<e?t.small:t.big}const mp=(n,e)=>n.execIndex>e.execIndex?1:-1;function gp(n,e,t){const s=Symbol(n.id),i=[n.id];let r=e;for(n.cycles.add(s);r!==n;)r.cycles.add(s),i.push(r.id),r=t.get(r);return i.push(i[0]),i.reverse(),i}const fa=(n,e)=>e?`(${n})`:n;class ma{constructor(e,t){this.isOriginal=!0,this.filename=e,this.content=t}traceSegment(e,t,s){return{column:t,line:e,name:s,source:this}}}class Hs{constructor(e,t){this.sources=t,this.names=e.names,this.mappings=e.mappings}traceMappings(){const e=[],t=new Map,s=[],i=[],r=new Map,o=[];for(const a of this.mappings){const l=[];for(const c of a){if(c.length===1)continue;const d=this.sources[c[1]];if(!d)continue;const p=d.traceSegment(c[2],c[3],c.length===5?this.names[c[4]]:"");if(p){const{column:h,line:f,name:A,source:{content:m,filename:y}}=p;let b=t.get(y);if(b===void 0)b=e.length,e.push(y),t.set(y,b),s[b]=m;else if(s[b]==null)s[b]=m;else if(m!=null&&s[b]!==m)return L(Jd(y));const k=[c[0],b,f,h];if(A){let g=r.get(A);g===void 0&&(g=i.length,i.push(A),r.set(A,g)),k[4]=g}l.push(k)}}o.push(l)}return{mappings:o,names:i,sources:e,sourcesContent:s}}traceSegment(e,t,s){const i=this.mappings[e];if(!i)return null;let r=0,o=i.length-1;for(;r<=o;){const a=r+o>>1,l=i[a];if(l[0]===t||r===o){if(l.length==1)return null;const c=this.sources[l[1]];return c?c.traceSegment(l[2],l[3],l.length===5?this.names[l[4]]:s):null}l[0]>t?o=a-1:r=a+1}return null}}function dc(n){return function(e,t){return t.missing?(n(j,(s=t.plugin,{code:ul,message:`Sourcemap is likely to be incorrect: a plugin (${s}) was used to transform files, but didn't generate a sourcemap for the transformation. Consult the plugin documentation for help`,plugin:s,url:we(Ad)})),new Hs({mappings:[],names:[]},[e])):new Hs(t,[e]);var s}}function hc(n,e,t,s,i){let r;if(t){const o=t.sources,a=t.sourcesContent||[],l=Vt(n)||".",c=t.sourceRoot||".",d=o.map((p,h)=>new ma(We(l,c,p),a[h]));r=new Hs(t,d)}else r=new ma(n,e);return s.reduce(i,r)}let ga;function rn(n){let e;return typeof n=="string"?typeof Buffer>"u"?(ga??(ga=new TextEncoder),e=ga.encode(n)):e=Buffer.from(n):e=n,function(t){let s,i;try{const a=Se.__wbindgen_add_to_stack_pointer(-16);Se.xxhashBase64Url(a,ce(t));var r=Ws()[a/4+0],o=Ws()[a/4+1];return s=r,i=o,Ss(r,o)}finally{Se.__wbindgen_add_to_stack_pointer(16),Se.__wbindgen_free(s,i,1)}}(e)}let pc="sourceMa";async function yp(n,e,t,s,i){Ae("render chunks",2),function(h){for(const f of h)f.facadeModule&&f.facadeModule.isUserDefinedEntryPoint&&f.getPreliminaryFileName()}(n);const r=await Promise.all(n.map(h=>h.render()));fe("render chunks",2),Ae("transform chunks",2);const o=function(h){return Object.fromEntries(h.map(f=>{const A=f.getRenderedChunkInfo();return[A.fileName,A]}))}(n),{initialHashesByPlaceholder:a,nonHashedChunksWithPlaceholders:l,renderedChunksByPlaceholder:c,hashDependenciesByPlaceholder:d}=await async function(h,f,A,m,y){const b=[],k=new Map,g=new Map,E=new Map,w=new Set;for(const{preliminaryFileName:{hashPlaceholder:$}}of h)$&&w.add($);return await Promise.all(h.map(async({chunk:$,preliminaryFileName:{fileName:P,hashPlaceholder:S},preliminarySourcemapFileName:I,magicString:C,usedModules:V})=>{const M={chunk:$,fileName:P,sourcemapFileName:(I==null?void 0:I.fileName)??null,...await bp(C,P,V,f,A,m,y)},{code:T,map:D}=M;if(S){const{containedPlaceholders:_,transformedCode:F}=rp(T,w);let H=F;const oe=m.hookReduceValueSync("augmentChunkHash","",[$.getRenderedChunkInfo()],(Q,G)=>(G&&(Q+=G),Q));oe&&(H+=oe),k.set(S,M),g.set(S,{containedPlaceholders:_,contentHash:rn(H)})}else b.push(M);const O=I==null?void 0:I.hashPlaceholder;D&&O&&E.set(I.hashPlaceholder,rn(D.toString()).slice(0,I.hashPlaceholder.length))})),{hashDependenciesByPlaceholder:g,initialHashesByPlaceholder:E,nonHashedChunksWithPlaceholders:b,renderedChunksByPlaceholder:k}}(r,o,s,t,i),p=function(h,f,A,m){const y=new Map(A);for(const[b,{fileName:k}]of h){let g="";const E=new Set([b]);for(const P of E){const{containedPlaceholders:S,contentHash:I}=f.get(P);g+=I;for(const C of S)E.add(C)}let w,$;do $&&(g=$),$=rn(g).slice(0,b.length),w=ip(k,b,$);while(m[ui].has(w.toLowerCase()));m[w]=Kr,y.set(b,$)}return y}(c,d,a,e);(function(h,f,A,m,y,b){for(const{chunk:k,code:g,fileName:E,sourcemapFileName:w,map:$}of h.values()){let P=Ot(g,f);const S=Ot(E,f);let I=null;$&&(I=w?Ot(w,f):`${S}.map`,$.file=Ot($.file,f),P+=ya(I,$,y,b)),A[S]=k.finalizeChunk(P,$,I,f)}for(const{chunk:k,code:g,fileName:E,sourcemapFileName:w,map:$}of m){let P=f.size>0?Ot(g,f):g,S=null;$&&(S=w?Ot(w,f):`${E}.map`,P+=ya(S,$,y,b)),A[E]=k.finalizeChunk(P,$,S,f)}})(c,p,e,l,t,s),fe("transform chunks",2)}async function bp(n,e,t,s,i,r,o){let a=null;const l=[];let c=await r.hookReduceArg0("renderChunk",[n.toString(),s[e],i,{chunks:s}],(k,g,E)=>{if(g==null)return k;if(typeof g=="string"&&(g={code:g,map:void 0}),g.map!==null){const w=sn(g.map);l.push(w||{missing:!0,plugin:E.name})}return g.code});const{compact:d,dir:p,file:h,sourcemap:f,sourcemapExcludeSources:A,sourcemapFile:m,sourcemapPathTransform:y,sourcemapIgnoreList:b}=i;if(d||c[c.length-1]===`
`||(c+=`
`),f){let k;Ae("sourcemaps",3),k=h?We(m||h):p?We(p,e):We(e),a=function(g,E,w,$,P,S){const I=dc(S),C=w.filter(F=>!F.excludeFromSourcemap).map(F=>hc(F.id,F.originalCode,F.originalSourcemap,F.sourcemapChain,I)),V=new Hs(E,C),M=$.reduce(I,V);let{sources:T,sourcesContent:D,names:O,mappings:_}=M.traceMappings();if(g){const F=Vt(g);T=T.map(H=>hn(F,H)),g=dt(g)}D=P?null:D;for(const F of w)Wr(F.originalSourcemap,F.sourcemapChain);return new Qs({file:g,mappings:_,names:O,sources:T,sourcesContent:D})}(k,n.generateDecodedMap({}),t,l,A,o);for(let g=0;g<a.sources.length;++g){let E=a.sources[g];const w=`${k}.map`,$=b(E,w);typeof $!="boolean"&&L(De("sourcemapIgnoreList function must return a boolean.")),$&&(a.x_google_ignoreList===void 0&&(a.x_google_ignoreList=[]),a.x_google_ignoreList.includes(g)||a.x_google_ignoreList.push(g)),y&&(E=y(E,w),typeof E!="string"&&L(De("sourcemapPathTransform function must return a string."))),a.sources[g]=Yn(E)}fe("sourcemaps",3)}return{code:c,map:a}}function ya(n,e,t,{sourcemap:s,sourcemapBaseUrl:i}){let r;if(s==="inline")r=e.toUrl();else{const o=dt(n);r=i?new URL(o,i).toString():o,t.emitFile({fileName:n,source:e.toString(),type:"asset"})}return s==="hidden"?"":`//# ${pc}=${r}
`}pc+="ppingURL";class Ep{constructor(e,t,s,i,r){this.outputOptions=e,this.unsetOptions=t,this.inputOptions=s,this.pluginDriver=i,this.graph=r,this.facadeChunkByModule=new Map,this.includedNamespaces=new Set}async generate(e){Ae("GENERATE",1);const t=Object.create(null),s=(i=>{const r=new Set;return new Proxy(i,{deleteProperty:(o,a)=>(typeof a=="string"&&r.delete(a.toLowerCase()),Reflect.deleteProperty(o,a)),get:(o,a)=>a===ui?r:Reflect.get(o,a),set:(o,a,l)=>(typeof a=="string"&&r.add(a.toLowerCase()),Reflect.set(o,a,l))})})(t);this.pluginDriver.setOutputBundle(s,this.outputOptions);try{Ae("initialize render",2),await this.pluginDriver.hookParallel("renderStart",[this.outputOptions,this.inputOptions]),fe("initialize render",2),Ae("generate chunks",2);const i=(()=>{let o=0;return(a,l=8)=>{if(l>22)return L(De(`Hashes cannot be longer than 22 characters, received ${l}. Check the "${a}" option.`));const c=`${Zr}${Fs(++o).padStart(l-5,"0")}${qr}`;return c.length>l?L(De(`To generate hashes for this number of chunks (currently ${o}), you need a minimum hash size of ${c.length}, received ${l}. Check the "${a}" option.`)):c}})(),r=await this.generateChunks(s,i);r.length>1&&function(o,a){if(o.format==="umd"||o.format==="iife")return L(Ee("output.format",sl,"UMD and IIFE output formats are not supported for code-splitting builds",o.format));if(typeof o.file=="string")return L(Ee("output.file",Bn,'when building multiple chunks, the "output.dir" option must be used, not "output.file". To inline dynamic imports, set the "inlineDynamicImports" option'));if(o.sourcemapFile)return L(Ee("output.sourcemapFile",kd,'"output.sourcemapFile" is only supported for single-file builds'));!o.amd.autoId&&o.amd.id&&a(j,Ee("output.amd.id",nl,'this option is only properly supported for single-file builds. Use "output.amd.autoId" and "output.amd.basePath" instead'))}(this.outputOptions,this.inputOptions.onLog),this.pluginDriver.setChunkInformation(this.facadeChunkByModule);for(const o of r)o.generateExports();fe("generate chunks",2),await yp(r,s,this.pluginDriver,this.outputOptions,this.inputOptions.onLog)}catch(i){throw await this.pluginDriver.hookParallel("renderError",[i]),i}return(i=>{const r=new Set,o=Object.values(i);for(const a of o)a.type==="asset"&&a.needsCodeReference&&r.add(a.fileName);for(const a of o)if(a.type==="chunk")for(const l of a.referencedFiles)r.has(l)&&r.delete(l);for(const a of r)delete i[a]})(s),Ae("generate bundle",2),await this.pluginDriver.hookSeq("generateBundle",[this.outputOptions,s,e]),this.finaliseAssets(s),fe("generate bundle",2),fe("GENERATE",1),t}async addManualChunks(e){const t=new Map,s=await Promise.all(Object.entries(e).map(async([i,r])=>({alias:i,entries:await this.graph.moduleLoader.addAdditionalModules(r,!0)})));for(const{alias:i,entries:r}of s)for(const o of r)ba(i,o,t);return t}assignManualChunks(e){const t=[],s={getModuleIds:()=>this.graph.modulesById.keys(),getModuleInfo:this.graph.getModuleInfo};for(const r of this.graph.modulesById.values())if(r instanceof de){const o=e(r.id,s);typeof o=="string"&&t.push([o,r])}t.sort(([r],[o])=>r>o?1:r<o?-1:0);const i=new Map;for(const[r,o]of t)ba(r,o,i);return i}finaliseAssets(e){if(this.outputOptions.validate){for(const t of Object.values(e))if("code"in t)try{Hr(t.code)}catch(s){this.inputOptions.onLog(j,Zd(t,s))}}this.pluginDriver.finaliseAssets()}async generateChunks(e,t){const{experimentalMinChunkSize:s,inlineDynamicImports:i,manualChunks:r,preserveModules:o}=this.outputOptions,a=typeof r=="object"?await this.addManualChunks(r):this.assignManualChunks(r),l=function({compact:m,generatedCode:{arrowFunctions:y,constBindings:b,objectShorthand:k,reservedNamesAsProps:g}}){const{_:E,n:w,s:$}=m?{_:"",n:"",s:""}:{_:" ",n:`
`,s:";"},P=b?"const":"var",S=(M,{isAsync:T,name:D})=>`${T?"async ":""}function${D?` ${D}`:""}${E}(${M.join(`,${E}`)})${E}`,I=y?(M,{isAsync:T,name:D})=>{const O=M.length===1;return`${D?`${P} ${D}${E}=${E}`:""}${T?`async${O?" ":E}`:""}${O?M[0]:`(${M.join(`,${E}`)})`}${E}=>${E}`}:S,C=(M,{functionReturn:T,lineBreakIndent:D,name:O})=>[`${I(M,{isAsync:!1,name:O})}${y?D?`${w}${D.base}${D.t}`:"":`{${D?`${w}${D.base}${D.t}`:E}${T?"return ":""}`}`,y?`${O?";":""}${D?`${w}${D.base}`:""}`:`${$}${D?`${w}${D.base}`:E}}`],V=g?M=>Bs.test(M):M=>!ni.has(M)&&Bs.test(M);return{_:E,cnst:P,getDirectReturnFunction:C,getDirectReturnIifeLeft:(M,T,{needsArrowReturnParens:D,needsWrappedFunction:O})=>{const[_,F]=C(M,{functionReturn:!0,lineBreakIndent:null,name:null});return`${fa(`${_}${fa(T,y&&D)}${F}`,y||O)}(`},getFunctionIntro:I,getNonArrowFunctionIntro:S,getObject(M,{lineBreakIndent:T}){const D=T?`${w}${T.base}${T.t}`:E;return`{${M.map(([O,_])=>{if(O===null)return`${D}${_}`;const F=Mr(O);return O===_&&k&&O===F?D+O:`${D}${F}:${E}${_}`}).join(",")}${M.length===0?"":T?`${w}${T.base}`:E}}`},getPropertyAccess:M=>V(M)?`.${M}`:`[${JSON.stringify(M)}]`,n:w,s:$}}(this.outputOptions),c=function(m){const y=[];for(const b of m.values())b instanceof de&&(b.isIncluded()||b.info.isEntry||b.includedDynamicImporters.length>0)&&y.push(b);return y}(this.graph.modulesById),d=function(m){if(m.length===0)return"/";if(m.length===1)return Vt(m[0]);const y=m.slice(1).reduce((b,k)=>{const g=k.split(/\/+|\\+/);let E;for(E=0;b[E]===g[E]&&E<Math.min(b.length,g.length);E++);return b.slice(0,E)},m[0].split(/\/+|\\+/));return y.length>1?y.join("/"):"/"}(function(m,y){const b=[];for(const k of m)(k.info.isEntry||y)&&$t(k.id)&&b.push(k.id);return b}(c,o)),p=function(m,y,b){const k=new Map;for(const g of m.values())g instanceof re&&k.set(g,new Jt(g,y,b));return k}(this.graph.modulesById,this.outputOptions,d),h=[],f=new Map;for(const{alias:m,modules:y}of i?[{alias:null,modules:c}]:o?c.map(b=>({alias:null,modules:[b]})):up(this.graph.entryModules,a,s,this.inputOptions.onLog)){y.sort(mp);const b=new yt(y,this.inputOptions,this.outputOptions,this.unsetOptions,this.pluginDriver,this.graph.modulesById,f,p,this.facadeChunkByModule,this.includedNamespaces,m,t,e,d,l);h.push(b)}for(const m of h)m.link();const A=[];for(const m of h)A.push(...m.generateFacades());return[...h,...A]}}function ba(n,e,t){const s=t.get(e);if(typeof s=="string"&&s!==n)return L((i=e.id,r=n,o=s,{code:Dd,message:`Cannot assign "${U(i)}" to the "${r}" chunk as it is already in the "${o}" chunk.`}));var i,r,o;t.set(e,n)}const di=n=>()=>L(function(e){return{code:"NO_FS_IN_BROWSER",message:`Cannot access the file system (via "${e}") when using the browser build of Rollup. Make sure you supply a plugin with custom resolveId and load hooks to Rollup.`,url:we("plugin-development/#a-simple-example")}}(n)),Ap=di("fs.mkdir"),wp=di("fs.readFile"),vp=di("fs.writeFile");async function Ea(n,e,t,s,i,r,o,a,l){const c=await function(d,p,h,f,A,m,y,b){let k=null,g=null;if(A){k=new Set;for(const E of A)d===E.source&&p===E.importer&&k.add(E.plugin);g=(E,w)=>({...E,resolve:($,P,{attributes:S,custom:I,isEntry:C,skipSelf:V}=Ne)=>(V??(V=!0),f($,P,I,C,S||Me,V?[...A,{importer:P,plugin:w,source:$}]:A))})}return h.hookFirstAndGetPlugin("resolveId",[d,p,{attributes:b,custom:m,isEntry:y}],g,k)}(n,e,s,i,r,o,a,l);return c==null?di("path.resolve")():c[0]}const Qr="at position ",Jr="at output position ",kp={delete:()=>!1,get(){},has:()=>!1,set(){}};function As(n){return n.startsWith(Qr)||n.startsWith(Jr)?L({code:$d,message:"A plugin is trying to use the Rollup cache but is not declaring a plugin name or cacheKey."}):L({code:Md,message:`The plugin name ${n} is being used twice in the same build. Plugin names must be distinct or provide a cacheKey (please post an issue to the plugin if you are a plugin user).`})}const Aa=(n,e,t=Ip)=>{const{onwarn:s,onLog:i}=n,r=xp(t,s);if(i){const o=_t[e];return(a,l)=>i(a,fc(l),(c,d)=>{if(c==="error")return L(et(d));_t[c]>=o&&r(c,et(d))})}return r},xp=(n,e)=>e?(t,s)=>{t===j?e(fc(s),i=>n(j,et(i))):n(t,s)}:n,fc=n=>(Object.defineProperty(n,"toString",{value:()=>mc(n),writable:!0}),n),et=n=>typeof n=="string"?{message:n}:typeof n=="function"?et(n()):n,mc=n=>{let e="";return n.plugin&&(e+=`(${n.plugin} plugin) `),n.loc&&(e+=`${U(n.loc.file)} (${n.loc.line}:${n.loc.column}) `),e+n.message},Ip=(n,e)=>{const t=mc(e);switch(n){case j:return console.warn(t);case Kn:return console.debug(t);default:return console.info(t)}};function gc(n,e,t,s,i=/$./){const r=new Set(e),o=Object.keys(n).filter(a=>!(r.has(a)||i.test(a)));o.length>0&&s(j,function(a,l,c){return{code:Hd,message:`Unknown ${a}: ${l.join(", ")}. Allowed options: ${c.join(", ")}`}}(t,o,[...r].sort()))}const $p={recommended:{annotations:!0,correctVarValueBeforeDeclaration:!1,manualPureFunctions:pe,moduleSideEffects:()=>!0,propertyReadSideEffects:!0,tryCatchDeoptimization:!0,unknownGlobalSideEffects:!1},safest:{annotations:!0,correctVarValueBeforeDeclaration:!0,manualPureFunctions:pe,moduleSideEffects:()=>!0,propertyReadSideEffects:!0,tryCatchDeoptimization:!0,unknownGlobalSideEffects:!0},smallest:{annotations:!0,correctVarValueBeforeDeclaration:!1,manualPureFunctions:pe,moduleSideEffects:()=>!1,propertyReadSideEffects:!1,tryCatchDeoptimization:!1,unknownGlobalSideEffects:!1}},Sp={es2015:{arrowFunctions:!0,constBindings:!0,objectShorthand:!0,reservedNamesAsProps:!0,symbols:!0},es5:{arrowFunctions:!1,constBindings:!1,objectShorthand:!1,reservedNamesAsProps:!0,symbols:!1}},yc=(n,e,t,s,i)=>{const r=n==null?void 0:n.preset;if(r){const o=e[r];if(o)return{...o,...n};L(Ee(`${t}.preset`,s,`valid values are ${ht(Object.keys(e))}`,r))}return((o,a,l,c)=>d=>{if(typeof d=="string"){const p=o[d];if(p)return p;L(Ee(a,l,`valid values are ${c}${ht(Object.keys(o))}. You can also supply an object for more fine-grained control`,d))}return(p=>p&&typeof p=="object"?p:{})(d)})(e,t,s,i)(n)},Xs=async n=>(await async function(e){do e=(await Promise.all(e)).flat(1/0);while(e.some(t=>t==null?void 0:t.then));return e}([n])).filter(Boolean);async function Np(n,e,t,s){const i=e.id,r=[];let o=n.map===null?null:sn(n.map);const a=n.code;let l=n.ast;const c=[],d=[];let p=!1;const h=()=>p=!0;let f="",A=n.code;const m=b=>(k,g)=>{k=et(k),g&&_s(k,g,A,i),k.id=i,k.hook="transform",b(k)};let y;try{y=await t.hookReduceArg0("transform",[A,i],function(b,k,g){let E,w;if(typeof k=="string")E=k;else{if(!k||typeof k!="object")return b;if(e.updateOptions(k),k.code==null)return(k.map||k.ast)&&s(j,function($){return{code:Ud,message:`The plugin "${$}" returned a "map" or "ast" without returning a "code". This will be ignored.`}}(g.name)),b;({code:E,map:w,ast:l}=k)}return w!==null&&r.push(sn(typeof w=="string"?JSON.parse(w):w)||{missing:!0,plugin:g.name}),A=E,E},(b,k)=>{return f=k.name,{...b,addWatchFile(w){c.push(w),b.addWatchFile(w)},cache:p?b.cache:(g=b.cache,E=h,{delete:w=>(E(),g.delete(w)),get:w=>(E(),g.get(w)),has:w=>(E(),g.has(w)),set:(w,$)=>(E(),g.set(w,$))}),debug:m(b.debug),emitFile:w=>(d.push(w),t.emitFile(w)),error:(w,$)=>(typeof w=="string"&&(w={message:w}),$&&_s(w,$,A,i),w.id=i,w.hook="transform",b.error(w)),getCombinedSourcemap(){const w=function($,P,S,I,C){return I.length===0?S:sn({version:3,...hc($,P,S,I,dc(C)).traceMappings()})}(i,a,o,r,s);return w?(o!==w&&(o=w,r.length=0),new Qs({...w,file:null,sourcesContent:w.sourcesContent})):new zt(a).generateMap({hires:!0,includeContent:!0,source:i})},info:m(b.info),setAssetSource(){return this.error({code:Td,message:"setAssetSource cannot be called in transform for caching reasons. Use emitFile with a source, or call setAssetSource in another hook."})},warn:m(b.warn)};var g,E})}catch(b){return L(_n(b,f,{hook:"transform",id:i}))}return!p&&d.length>0&&(e.transformFiles=d),{ast:l,code:y,customTransformCache:p,originalCode:a,originalSourcemap:o,sourcemapChain:r,transformDependencies:c}}const Xi="resolveDependencies";class Pp{constructor(e,t,s,i){this.graph=e,this.modulesById=t,this.options=s,this.pluginDriver=i,this.implicitEntryModules=new Set,this.indexedEntryModules=[],this.latestLoadModulesPromise=Promise.resolve(),this.moduleLoadPromises=new Map,this.modulesWithLoadedDependencies=new Set,this.nextChunkNamePriority=0,this.nextEntryModuleIndex=0,this.resolveId=async(r,o,a,l,c,d=null)=>this.getResolvedIdWithDefaults(this.getNormalizedResolvedIdWithoutDefaults(!this.options.external(r,o,!1)&&await Ea(r,o,this.options.preserveSymlinks,this.pluginDriver,this.resolveId,d,a,typeof l=="boolean"?l:!o,c),o,r),c),this.hasModuleSideEffects=s.treeshake?s.treeshake.moduleSideEffects:()=>!0}async addAdditionalModules(e,t){const s=this.extendLoadModulesPromise(Promise.all(e.map(i=>this.loadEntryModule(i,!1,void 0,null,t))));return await this.awaitLoadModulesPromise(),s}async addEntryModules(e,t){const s=this.nextEntryModuleIndex;this.nextEntryModuleIndex+=e.length;const i=this.nextChunkNamePriority;this.nextChunkNamePriority+=e.length;const r=await this.extendLoadModulesPromise(Promise.all(e.map(({id:o,importer:a})=>this.loadEntryModule(o,!0,a,null))).then(o=>{for(const[a,l]of o.entries()){l.isUserDefinedEntryPoint=l.isUserDefinedEntryPoint||t,va(l,e[a],t,i+a);const c=this.indexedEntryModules.find(d=>d.module===l);c?c.index=Math.min(c.index,s+a):this.indexedEntryModules.push({index:s+a,module:l})}return this.indexedEntryModules.sort(({index:a},{index:l})=>a>l?1:-1),o}));return await this.awaitLoadModulesPromise(),{entryModules:this.indexedEntryModules.map(({module:o})=>o),implicitEntryModules:[...this.implicitEntryModules],newEntryModules:r}}async emitChunk({fileName:e,id:t,importer:s,name:i,implicitlyLoadedAfterOneOf:r,preserveSignature:o}){const a={fileName:e||null,id:t,importer:s,name:i||null},l=r?await this.addEntryWithImplicitDependants(a,r):(await this.addEntryModules([a],!1)).newEntryModules[0];return o!=null&&(l.preserveSignature=o),l}async preloadModule(e){return(await this.fetchModule(this.getResolvedIdWithDefaults(e,Me),void 0,!1,!e.resolveDependencies||Xi)).info}addEntryWithImplicitDependants(e,t){const s=this.nextChunkNamePriority++;return this.extendLoadModulesPromise(this.loadEntryModule(e.id,!1,e.importer,null).then(async i=>{if(va(i,e,!1,s),!i.info.isEntry){const r=await Promise.all(t.map(o=>this.loadEntryModule(o,!1,e.importer,i.id)));if(!i.info.isEntry){this.implicitEntryModules.add(i);for(const o of r)i.implicitlyLoadedAfter.add(o);for(const o of i.implicitlyLoadedAfter)o.implicitlyLoadedBefore.add(i)}}return i}))}async addModuleSource(e,t,s){let i;try{i=await this.graph.fileOperationQueue.run(async()=>{const l=await this.pluginDriver.hookFirst("load",[e]);return l!==null?l:(this.graph.watchFiles[e]=!0,await wp(e,"utf8"))})}catch(l){let c=`Could not load ${e}`;throw t&&(c+=` (imported by ${U(t)})`),c+=`: ${l.message}`,l.message=c,l}const r=typeof i=="string"?{code:i}:i!=null&&typeof i=="object"&&typeof i.code=="string"?i:L(function(l){return{code:"BAD_LOADER",message:`Error loading "${U(l)}": plugin load hook should return a string, a { code, map } object, or nothing/null.`}}(e)),o=r.code;o.charCodeAt(0)===65279&&(r.code=o.slice(1));const a=this.graph.cachedModules.get(e);if(!a||a.customTransformCache||a.originalCode!==r.code||await this.pluginDriver.hookFirst("shouldTransformCachedModule",[{ast:a.ast,code:a.code,id:a.id,meta:a.meta,moduleSideEffects:a.moduleSideEffects,resolvedSources:a.resolvedIds,syntheticNamedExports:a.syntheticNamedExports}]))s.updateOptions(r),await s.setSource(await Np(r,s,this.pluginDriver,this.options.onLog));else{if(a.transformFiles)for(const l of a.transformFiles)this.pluginDriver.emitFile(l);await s.setSource(a)}}async awaitLoadModulesPromise(){let e;do e=this.latestLoadModulesPromise,await e;while(e!==this.latestLoadModulesPromise)}extendLoadModulesPromise(e){return this.latestLoadModulesPromise=Promise.all([e,this.latestLoadModulesPromise]),this.latestLoadModulesPromise.catch(()=>{}),e}async fetchDynamicDependencies(e,t){const s=await Promise.all(t.map(i=>i.then(async([r,o])=>o===null?null:typeof o=="string"?(r.resolution=o,null):r.resolution=await this.fetchResolvedDependency(U(o.id),e.id,o))));for(const i of s)i&&(e.dynamicDependencies.add(i),i.dynamicImporters.push(e.id))}async fetchModule({attributes:e,id:t,meta:s,moduleSideEffects:i,syntheticNamedExports:r},o,a,l){const c=this.modulesById.get(t);if(c instanceof de)return o&&Ps(e,c.info.attributes)&&this.options.onLog(j,ks(c.info.attributes,e,t,o)),await this.handleExistingModule(c,a,l),c;if(c instanceof re)return L({code:"EXTERNAL_MODULES_CANNOT_BE_TRANSFORMED_TO_MODULES",message:`${c.id} is resolved as a module now, but it was an external module before. Please check whether there are conflicts in your Rollup options "external" and "manualChunks", manualChunks cannot include external modules.`});const d=new de(this.graph,t,this.options,a,i,r,s,e);this.modulesById.set(t,d);const p=this.addModuleSource(t,o,d).then(()=>[this.getResolveStaticDependencyPromises(d),this.getResolveDynamicImportPromises(d),h]),h=ka(p).then(()=>this.pluginDriver.hookParallel("moduleParsed",[d.info]));h.catch(()=>{}),this.moduleLoadPromises.set(d,p);const f=await p;return l?l===Xi&&await h:await this.fetchModuleDependencies(d,...f),d}async fetchModuleDependencies(e,t,s,i){this.modulesWithLoadedDependencies.has(e)||(this.modulesWithLoadedDependencies.add(e),await Promise.all([this.fetchStaticDependencies(e,t),this.fetchDynamicDependencies(e,s)]),e.linkImports(),await i)}fetchResolvedDependency(e,t,s){if(s.external){const{attributes:i,external:r,id:o,moduleSideEffects:a,meta:l}=s;let c=this.modulesById.get(o);if(c){if(!(c instanceof re))return L(function(d,p){return{code:"INVALID_EXTERNAL_ID",message:`"${d}" is imported as an external by "${U(p)}", but is already an existing non-external module id.`}}(e,t));Ps(c.info.attributes,i)&&this.options.onLog(j,ks(c.info.attributes,i,e,t))}else c=new re(this.options,o,a,l,r!=="absolute"&&$t(o),i),this.modulesById.set(o,c);return Promise.resolve(c)}return this.fetchModule(s,t,!1,!1)}async fetchStaticDependencies(e,t){for(const s of await Promise.all(t.map(i=>i.then(([r,o])=>this.fetchResolvedDependency(r,e.id,o)))))e.dependencies.add(s),s.importers.push(e.id);if(!this.options.treeshake||e.info.moduleSideEffects==="no-treeshake")for(const s of e.dependencies)s instanceof de&&(s.importedFromNotTreeshaken=!0)}getNormalizedResolvedIdWithoutDefaults(e,t,s){const{makeAbsoluteExternalsRelative:i}=this.options;if(e){if(typeof e=="object"){const a=e.external||this.options.external(e.id,t,!0);return{...e,external:a&&(a==="relative"||!$t(e.id)||a===!0&&Zi(e.id,s,i)||"absolute")}}const o=this.options.external(e,t,!0);return{external:o&&(Zi(e,s,i)||"absolute"),id:o&&i?wa(e,t):e}}const r=i?wa(s,t):s;return e===!1||this.options.external(r,t,!0)?{external:Zi(r,s,i)||"absolute",id:r}:null}getResolveDynamicImportPromises(e){return e.dynamicImports.map(async t=>{const s=await this.resolveDynamicImport(e,typeof t.argument=="string"?t.argument:t.argument.esTreeNode,e.id,_h(t.node));return s&&typeof s=="object"&&(t.id=s.id),[t,s]})}getResolveStaticDependencyPromises(e){return Array.from(e.sourcesWithAttributes,async([t,s])=>[t,e.resolvedIds[t]=e.resolvedIds[t]||this.handleInvalidResolvedId(await this.resolveId(t,e.id,Me,!1,s),t,e.id,s)])}getResolvedIdWithDefaults(e,t){if(!e)return null;const s=e.external||!1;return{attributes:e.attributes||t,external:s,id:e.id,meta:e.meta||{},moduleSideEffects:e.moduleSideEffects??this.hasModuleSideEffects(e.id,!!s),resolvedBy:e.resolvedBy??"rollup",syntheticNamedExports:e.syntheticNamedExports??!1}}async handleExistingModule(e,t,s){const i=this.moduleLoadPromises.get(e);if(s)return s===Xi?ka(i):i;if(t){e.info.isEntry=!0,this.implicitEntryModules.delete(e);for(const r of e.implicitlyLoadedAfter)r.implicitlyLoadedBefore.delete(e);e.implicitlyLoadedAfter.clear()}return this.fetchModuleDependencies(e,...await i)}handleInvalidResolvedId(e,t,s,i){return e===null?Pr(t)?L(function(r,o){return{code:bo,exporter:r,id:o,message:`Could not resolve "${r}" from "${U(o)}"`}}(t,s)):(this.options.onLog(j,function(r,o){return{code:bo,exporter:r,id:o,message:`"${r}" is imported by "${U(o)}", but could not be resolved – treating it as an external dependency.`,url:we("troubleshooting/#warning-treating-module-as-external-dependency")}}(t,s)),{attributes:i,external:!0,id:t,meta:{},moduleSideEffects:this.hasModuleSideEffects(t,!0),resolvedBy:"rollup",syntheticNamedExports:!1}):(e.external&&e.syntheticNamedExports&&this.options.onLog(j,function(r,o){return{code:"EXTERNAL_SYNTHETIC_EXPORTS",exporter:r,message:`External "${r}" cannot have "syntheticNamedExports" enabled (imported by "${U(o)}").`}}(t,s)),e)}async loadEntryModule(e,t,s,i,r=!1){const o=await Ea(e,s,this.options.preserveSymlinks,this.pluginDriver,this.resolveId,null,Me,!0,Me);if(o==null)return L(i===null?function(l){return{code:yo,message:`Could not resolve entry module "${U(l)}".`}}(e):function(l,c){return{code:sr,message:`Module "${U(l)}" that should be implicitly loaded before "${U(c)}" could not be resolved.`}}(e,i));const a=typeof o=="object"&&o.external;return o===!1||a?L(i===null?a&&r?{code:"EXTERNAL_MODULES_CANNOT_BE_INCLUDED_IN_MANUAL_CHUNKS",message:`"${e}" cannot be included in manualChunks because it is resolved as an external module by the "external" option or plugins.`}:function(l){return{code:yo,message:`Entry module "${U(l)}" cannot be external.`}}(e):function(l,c){return{code:sr,message:`Module "${U(l)}" that should be implicitly loaded before "${U(c)}" cannot be external.`}}(e,i)):this.fetchModule(this.getResolvedIdWithDefaults(typeof o=="object"?o:{id:o},Me),void 0,t,!1)}async resolveDynamicImport(e,t,s,i){const r=await this.pluginDriver.hookFirst("resolveDynamicImport",[t,s,{attributes:i}]);if(typeof t!="string")return typeof r=="string"?r:r?this.getResolvedIdWithDefaults(r,i):null;if(r==null){const o=e.resolvedIds[t];return o?(Ps(o.attributes,i)&&this.options.onLog(j,ks(o.attributes,i,t,s)),o):e.resolvedIds[t]=this.handleInvalidResolvedId(await this.resolveId(t,e.id,Me,!1,i),t,e.id,i)}return this.handleInvalidResolvedId(this.getResolvedIdWithDefaults(this.getNormalizedResolvedIdWithoutDefaults(r,s,t),i),t,s,i)}}function wa(n,e){return Pr(n)?e?We(e,"..",n):We(n):n}function va(n,{fileName:e,name:t},s,i){var r;if(e!==null)n.chunkFileNames.add(e);else if(t!==null){let o=0;for(;((r=n.chunkNames[o])==null?void 0:r.priority)<i;)o++;n.chunkNames.splice(o,0,{isUserDefined:s,name:t,priority:i})}}function Zi(n,e,t){return t===!0||t==="ifRelativeSource"&&Pr(e)||!$t(n)}async function ka(n){const[e,t]=await n;return Promise.all([...e,...t])}class Cp extends kl{constructor(){super(),this.parent=null,this.variables.set("undefined",new Yl)}findVariable(e){let t=this.variables.get(e);return t||(t=new zr(e),this.variables.set(e,t)),t}}function xa(n,e,t,s,i){const r=s.sanitizeFileName(n||"asset");return kr(vr(typeof s.assetFileNames=="function"?s.assetFileNames({name:n,source:e,type:"asset"}):s.assetFileNames,"output.assetFileNames",{ext:()=>vt(r).slice(1),extname:()=>vt(r),hash:o=>t.slice(0,Math.max(0,o||8)),name:()=>r.slice(0,Math.max(0,r.length-vt(r).length))}),i)}function Ia(n,{bundle:e},t){e[ui].has(n.toLowerCase())?t(j,function(s){return{code:Od,message:`The emitted file "${s}" overwrites a previously emitted file of the same name.`}}(n)):e[n]=Kr}const Rp=new Set(["chunk","asset","prebuilt-chunk"]);function $a(n,e,t){if(!(typeof n=="string"||n instanceof Uint8Array)){const s=e.fileName||e.name||t;return L(De(`Could not set source for ${typeof s=="string"?`asset "${s}"`:"unnamed asset"}, asset source needs to be a string, Uint8Array or Buffer.`))}return n}function Mp(n,e){return typeof n.fileName!="string"?L((t=n.name||e,{code:Sd,message:`Plugin error - Unable to get file name for asset "${t}". Ensure that the source is set and that generate is called first. If you reference assets via import.meta.ROLLUP_FILE_URL_<referenceId>, you need to either have set their source after "renderStart" or need to provide an explicit "fileName" when emitting them.`})):n.fileName;var t}function Op(n,e){return n.fileName?n.fileName:e?e.get(n.module).getFileName():L((t=n.fileName||n.name,{code:Pd,message:`Plugin error - Unable to get file name for emitted chunk "${t}". You can only get file names once chunks have been generated after the "renderStart" hook.`}));var t}class Lp{constructor(e,t,s){this.graph=e,this.options=t,this.facadeChunkByModule=null,this.nextIdBase=1,this.output=null,this.outputFileEmitters=[],this.emitFile=i=>function(r){return!!(r&&Rp.has(r.type))}(i)?i.type==="prebuilt-chunk"?this.emitPrebuiltChunk(i):function(r){const o=r.fileName||r.name;return!o||typeof o=="string"&&!Os(o)}(i)?i.type==="chunk"?this.emitChunk(i):this.emitAsset(i):L(De(`The "fileName" or "name" properties of emitted chunks and assets must be strings that are neither absolute nor relative paths, received "${i.fileName||i.name}".`)):L(De(`Emitted files must be of type "asset", "chunk" or "prebuilt-chunk", received "${i&&i.type}".`)),this.finaliseAssets=()=>{for(const[i,r]of this.filesByReferenceId)if(r.type==="asset"&&typeof r.fileName!="string")return L({code:"ASSET_SOURCE_MISSING",message:`Plugin error creating asset "${r.name||i}" - no asset source set.`})},this.getFileName=i=>{const r=this.filesByReferenceId.get(i);return r?r.type==="chunk"?Op(r,this.facadeChunkByModule):r.type==="prebuilt-chunk"?r.fileName:Mp(r,i):L({code:"FILE_NOT_FOUND",message:`Plugin error - Unable to get file name for unknown file "${i}".`})},this.setAssetSource=(i,r)=>{const o=this.filesByReferenceId.get(i);if(!o)return L({code:"ASSET_NOT_FOUND",message:`Plugin error - Unable to set the source for unknown asset "${i}".`});if(o.type!=="asset")return L(De(`Asset sources can only be set for emitted assets but "${i}" is an emitted chunk.`));if(o.source!==void 0)return L({code:"ASSET_SOURCE_ALREADY_SET",message:`Unable to set the source for asset "${o.name||i}", source already set.`});const a=$a(r,o,i);if(this.output)this.finalizeAdditionalAsset(o,a,this.output);else{o.source=a;for(const l of this.outputFileEmitters)l.finalizeAdditionalAsset(o,a,l.output)}},this.setChunkInformation=i=>{this.facadeChunkByModule=i},this.setOutputBundle=(i,r)=>{const o=this.output={bundle:i,fileNamesBySource:new Map,outputOptions:r};for(const l of this.filesByReferenceId.values())l.fileName&&Ia(l.fileName,o,this.options.onLog);const a=new Map;for(const l of this.filesByReferenceId.values())l.type==="asset"&&l.source!==void 0?l.fileName?this.finalizeAdditionalAsset(l,l.source,o):ze(a,rn(l.source),()=>[]).push(l):l.type==="prebuilt-chunk"&&(this.output.bundle[l.fileName]=this.createPrebuiltChunk(l));for(const[l,c]of a)this.finalizeAssetsWithSameSource(c,l,o)},this.filesByReferenceId=s?new Map(s.filesByReferenceId):new Map,s==null||s.addOutputFileEmitter(this)}addOutputFileEmitter(e){this.outputFileEmitters.push(e)}assignReferenceId(e,t){let s=t;do s=rn(s).slice(0,8).replaceAll("-","$");while(this.filesByReferenceId.has(s)||this.outputFileEmitters.some(({filesByReferenceId:i})=>i.has(s)));e.referenceId=s,this.filesByReferenceId.set(s,e);for(const{filesByReferenceId:i}of this.outputFileEmitters)i.set(s,e);return s}createPrebuiltChunk(e){return{code:e.code,dynamicImports:[],exports:e.exports||[],facadeModuleId:null,fileName:e.fileName,implicitlyLoadedBefore:[],importedBindings:{},imports:[],isDynamicEntry:!1,isEntry:!1,isImplicitEntry:!1,map:e.map||null,moduleIds:[],modules:{},name:e.fileName,preliminaryFileName:e.fileName,referencedFiles:[],sourcemapFileName:e.sourcemapFileName||null,type:"chunk"}}emitAsset(e){const t=e.source===void 0?void 0:$a(e.source,e,null),s={fileName:e.fileName,name:e.name,needsCodeReference:!!e.needsCodeReference,referenceId:"",source:t,type:"asset"},i=this.assignReferenceId(s,e.fileName||e.name||String(this.nextIdBase++));if(this.output)this.emitAssetWithReferenceId(s,this.output);else for(const r of this.outputFileEmitters)r.emitAssetWithReferenceId(s,r.output);return i}emitAssetWithReferenceId(e,t){const{fileName:s,source:i}=e;s&&Ia(s,t,this.options.onLog),i!==void 0&&this.finalizeAdditionalAsset(e,i,t)}emitChunk(e){if(this.graph.phase>Tt.LOAD_AND_PARSE)return L({code:"INVALID_ROLLUP_PHASE",message:"Cannot emit chunks after module loading has finished."});if(typeof e.id!="string")return L(De(`Emitted chunks need to have a valid string id, received "${e.id}"`));const t={fileName:e.fileName,module:null,name:e.name||e.id,referenceId:"",type:"chunk"};return this.graph.moduleLoader.emitChunk(e).then(s=>t.module=s).catch(()=>{}),this.assignReferenceId(t,e.id)}emitPrebuiltChunk(e){if(typeof e.code!="string")return L(De(`Emitted prebuilt chunks need to have a valid string code, received "${e.code}".`));if(typeof e.fileName!="string"||Os(e.fileName))return L(De(`The "fileName" property of emitted prebuilt chunks must be strings that are neither absolute nor relative paths, received "${e.fileName}".`));const t={code:e.code,exports:e.exports,fileName:e.fileName,map:e.map,referenceId:"",type:"prebuilt-chunk"},s=this.assignReferenceId(t,t.fileName);return this.output&&(this.output.bundle[t.fileName]=this.createPrebuiltChunk(t)),s}finalizeAdditionalAsset(e,t,{bundle:s,fileNamesBySource:i,outputOptions:r}){let{fileName:o,needsCodeReference:a,referenceId:l}=e;if(!o){const p=rn(t);o=i.get(p),o||(o=xa(e.name,t,p,r,s),i.set(p,o))}const c={...e,fileName:o,source:t};this.filesByReferenceId.set(l,c);const d=s[o];(d==null?void 0:d.type)==="asset"?d.needsCodeReference&&(d.needsCodeReference=a):s[o]={fileName:o,name:e.name,needsCodeReference:a,source:t,type:"asset"}}finalizeAssetsWithSameSource(e,t,{bundle:s,fileNamesBySource:i,outputOptions:r}){let o,a="",l=!0;for(const c of e){l&&(l=c.needsCodeReference);const d=xa(c.name,c.source,t,r,s);(!a||d.length<a.length||d.length===a.length&&d<a)&&(a=d,o=c)}i.set(t,a);for(const c of e){const d={...c,fileName:a};this.filesByReferenceId.set(c.referenceId,d)}s[a]={fileName:a,name:o.name,needsCodeReference:l,source:o.source,type:"asset"}}}function on(n,e,t,s,i){return _t[n]<_t[i]?Xe:(r,o)=>{o!=null&&t(j,{code:Bd,message:`Plugin "${s}" tried to add a file position to a log or warning. This is only supported in the "transform" hook at the moment and will be ignored.`}),(r=et(r)).code&&!r.pluginCode&&(r.pluginCode=r.code),r.code=e,r.plugin=s,t(n,r)}}function Dp(n,e,t,s,i,r){const{logLevel:o,onLog:a}=s;let l,c=!0;if(typeof n.cacheKey!="string"&&(n.name.startsWith(Qr)||n.name.startsWith(Jr)||r.has(n.name)?c=!1:r.add(n.name)),e)if(c){const h=n.cacheKey||n.name;p=e[h]||(e[h]=Object.create(null)),l={delete:f=>delete p[f],get(f){const A=p[f];if(A)return A[0]=0,A[1]},has(f){const A=p[f];return!!A&&(A[0]=0,!0)},set(f,A){p[f]=[0,A]}}}else d=n.name,l={delete:()=>As(d),get:()=>As(d),has:()=>As(d),set:()=>As(d)};else l=kp;var d,p;return{addWatchFile(h){t.watchFiles[h]=!0},cache:l,debug:on(Kn,"PLUGIN_LOG",a,n.name,o),emitFile:i.emitFile.bind(i),error:h=>L(_n(et(h),n.name)),getFileName:i.getFileName,getModuleIds:()=>t.modulesById.keys(),getModuleInfo:t.getModuleInfo,getWatchFiles:()=>Object.keys(t.watchFiles),info:on(Bt,"PLUGIN_LOG",a,n.name,o),load:h=>t.moduleLoader.preloadModule(h),meta:{rollupVersion:Sr,watchMode:t.watchMode},parse:Hr,resolve:(h,f,{attributes:A,custom:m,isEntry:y,skipSelf:b}=Ne)=>(b??(b=!0),t.moduleLoader.resolveId(h,f,m,y,A||Me,b?[{importer:f,plugin:n,source:h}]:null)),setAssetSource:i.setAssetSource,warn:on(j,"PLUGIN_WARNING",a,n.name,o)}}const Bp=Object.keys({buildEnd:1,buildStart:1,closeBundle:1,closeWatcher:1,load:1,moduleParsed:1,onLog:1,options:1,resolveDynamicImport:1,resolveId:1,shouldTransformCachedModule:1,transform:1,watchChange:1});class eo{constructor(e,t,s,i,r){this.graph=e,this.options=t,this.pluginCache=i,this.sortedPlugins=new Map,this.unfulfilledActions=new Set,this.fileEmitter=new Lp(e,t,r&&r.fileEmitter),this.emitFile=this.fileEmitter.emitFile.bind(this.fileEmitter),this.getFileName=this.fileEmitter.getFileName.bind(this.fileEmitter),this.finaliseAssets=this.fileEmitter.finaliseAssets.bind(this.fileEmitter),this.setChunkInformation=this.fileEmitter.setChunkInformation.bind(this.fileEmitter),this.setOutputBundle=this.fileEmitter.setOutputBundle.bind(this.fileEmitter),this.plugins=[...r?r.plugins:[],...s];const o=new Set;if(this.pluginContexts=new Map(this.plugins.map(l=>[l,Dp(l,i,e,t,this.fileEmitter,o)])),r)for(const l of s)for(const c of Bp)c in l&&t.onLog(j,(a=l.name,{code:"INPUT_HOOK_IN_OUTPUT_PLUGIN",message:`The "${c}" hook used by the output plugin ${a} is a build time hook and will not be run for that plugin. Either this plugin cannot be used as an output plugin, or it should have an option to configure it as an output plugin.`}));var a}createOutputPluginDriver(e){return new eo(this.graph,this.options,e,this.pluginCache,this)}getUnfulfilledHookActions(){return this.unfulfilledActions}hookFirst(e,t,s,i){return this.hookFirstAndGetPlugin(e,t,s,i).then(r=>r&&r[0])}async hookFirstAndGetPlugin(e,t,s,i){for(const r of this.getSortedPlugins(e)){if(i!=null&&i.has(r))continue;const o=await this.runHook(e,t,r,s);if(o!=null)return[o,r]}return null}hookFirstSync(e,t,s){for(const i of this.getSortedPlugins(e)){const r=this.runHookSync(e,t,i,s);if(r!=null)return r}return null}async hookParallel(e,t,s){const i=[];for(const r of this.getSortedPlugins(e))r[e].sequential?(await Promise.all(i),i.length=0,await this.runHook(e,t,r,s)):i.push(this.runHook(e,t,r,s));await Promise.all(i)}hookReduceArg0(e,[t,...s],i,r){let o=Promise.resolve(t);for(const a of this.getSortedPlugins(e))o=o.then(l=>this.runHook(e,[l,...s],a,r).then(c=>i.call(this.pluginContexts.get(a),l,c,a)));return o}hookReduceArg0Sync(e,[t,...s],i,r){for(const o of this.getSortedPlugins(e)){const a=[t,...s],l=this.runHookSync(e,a,o,r);t=i.call(this.pluginContexts.get(o),t,l,o)}return t}async hookReduceValue(e,t,s,i){const r=[],o=[];for(const a of this.getSortedPlugins(e,Tp))a[e].sequential?(r.push(...await Promise.all(o)),o.length=0,r.push(await this.runHook(e,s,a))):o.push(this.runHook(e,s,a));return r.push(...await Promise.all(o)),r.reduce(i,await t)}hookReduceValueSync(e,t,s,i,r){let o=t;for(const a of this.getSortedPlugins(e)){const l=this.runHookSync(e,s,a,r);o=i.call(this.pluginContexts.get(a),o,l,a)}return o}hookSeq(e,t,s){let i=Promise.resolve();for(const r of this.getSortedPlugins(e))i=i.then(()=>this.runHook(e,t,r,s));return i.then(zp)}getSortedPlugins(e,t){return ze(this.sortedPlugins,e,()=>to(e,this.plugins,t))}runHook(e,t,s,i){const r=s[e],o=typeof r=="object"?r.handler:r;let a=this.pluginContexts.get(s);i&&(a=i(a,s));let l=null;return Promise.resolve().then(()=>{if(typeof o!="function")return o;const c=o.apply(a,t);return c!=null&&c.then?(l=[s.name,e,t],this.unfulfilledActions.add(l),Promise.resolve(c).then(d=>(this.unfulfilledActions.delete(l),d))):c}).catch(c=>(l!==null&&this.unfulfilledActions.delete(l),L(_n(c,s.name,{hook:e}))))}runHookSync(e,t,s,i){const r=s[e],o=typeof r=="object"?r.handler:r;let a=this.pluginContexts.get(s);i&&(a=i(a,s));try{return o.apply(a,t)}catch(l){return L(_n(l,s.name,{hook:e}))}}}function to(n,e,t=_p){const s=[],i=[],r=[];for(const o of e){const a=o[n];if(a){if(typeof a=="object"){if(t(a.handler,n,o),a.order==="pre"){s.push(o);continue}if(a.order==="post"){r.push(o);continue}}else t(a,n,o);i.push(o)}}return[...s,...i,...r]}function _p(n,e,t){typeof n!="function"&&L(function(s,i){return{code:al,hook:s,message:`Error running plugin hook "${s}" for plugin "${i}", expected a function hook or an object with a "handler" function.`,plugin:i}}(e,t.name))}function Tp(n,e,t){if(typeof n!="string"&&typeof n!="function")return L(function(s,i){return{code:al,hook:s,message:`Error running plugin hook "${s}" for plugin "${i}", expected a string, a function hook or an object with a "handler" string or function.`,plugin:i}}(e,t.name))}function zp(){}class Vp{constructor(e){this.maxParallel=e,this.queue=[],this.workerCount=0}run(e){return new Promise((t,s)=>{this.queue.push({reject:s,resolve:t,task:e}),this.work()})}async work(){if(this.workerCount>=this.maxParallel)return;let e;for(this.workerCount++;e=this.queue.shift();){const{reject:t,resolve:s,task:i}=e;try{s(await i())}catch(r){t(r)}}this.workerCount--}}class Fp{constructor(e,t){var s,i;if(this.options=e,this.astLru=function(r){var o,a,l,c=r||1;function d(h,f){++o>c&&(l=a,p(1),++o),a[h]=f}function p(h){o=0,a=Object.create(null),h||(l=Object.create(null))}return p(),{clear:p,has:function(h){return a[h]!==void 0||l[h]!==void 0},get:function(h){var f=a[h];return f!==void 0?f:(f=l[h])!==void 0?(d(h,f),f):void 0},set:function(h,f){a[h]!==void 0?a[h]=f:d(h,f)}}}(5),this.cachedModules=new Map,this.deoptimizationTracker=new ln,this.entryModules=[],this.modulesById=new Map,this.needsTreeshakingPass=!1,this.phase=Tt.LOAD_AND_PARSE,this.scope=new Cp,this.watchFiles=Object.create(null),this.watchMode=!1,this.externalModules=[],this.implicitEntryModules=[],this.modules=[],this.getModuleInfo=r=>{const o=this.modulesById.get(r);return o?o.info:null},e.cache!==!1){if((s=e.cache)!=null&&s.modules)for(const r of e.cache.modules)this.cachedModules.set(r.id,r);this.pluginCache=((i=e.cache)==null?void 0:i.plugins)||Object.create(null);for(const r in this.pluginCache){const o=this.pluginCache[r];for(const a of Object.values(o))a[0]++}}if(t){this.watchMode=!0;const r=(...a)=>this.pluginDriver.hookParallel("watchChange",a),o=()=>this.pluginDriver.hookParallel("closeWatcher",[]);t.onCurrentRun("change",r),t.onCurrentRun("close",o)}this.pluginDriver=new eo(this,e,e.plugins,this.pluginCache),this.moduleLoader=new Pp(this,this.modulesById,this.options,this.pluginDriver),this.fileOperationQueue=new Vp(e.maxParallelFileOps),this.pureFunctions=(({treeshake:r})=>{const o=Object.create(null);for(const a of r?r.manualPureFunctions:[]){let l=o;for(const c of a.split("."))l=l[c]||(l[c]=Object.create(null));l[ar]=!0}return o})(e)}async build(){Ae("generate module graph",2),await this.generateModuleGraph(),fe("generate module graph",2),Ae("sort and bind modules",2),this.phase=Tt.ANALYSE,this.sortModules(),fe("sort and bind modules",2),Ae("mark included statements",2),this.includeStatements(),fe("mark included statements",2),this.phase=Tt.GENERATE}getCache(){for(const e in this.pluginCache){const t=this.pluginCache[e];let s=!0;for(const[i,r]of Object.entries(t))r[0]>=this.options.experimentalCacheExpiry?delete t[i]:s=!1;s&&delete this.pluginCache[e]}return{modules:this.modules.map(e=>e.toJSON()),plugins:this.pluginCache}}async generateModuleGraph(){var e;if({entryModules:this.entryModules,implicitEntryModules:this.implicitEntryModules}=await this.moduleLoader.addEntryModules((e=this.options.input,Array.isArray(e)?e.map(t=>({fileName:null,id:t,implicitlyLoadedAfter:[],importer:void 0,name:null})):Object.entries(e).map(([t,s])=>({fileName:null,id:s,implicitlyLoadedAfter:[],importer:void 0,name:t}))),!0),this.entryModules.length===0)throw new Error("You must supply options.input to rollup");for(const t of this.modulesById.values())t instanceof de?this.modules.push(t):this.externalModules.push(t)}includeStatements(){const e=[...this.entryModules,...this.implicitEntryModules];for(const t of e)Pn(t);if(this.options.treeshake){let t=1;do{Ae(`treeshaking pass ${t}`,3),this.needsTreeshakingPass=!1;for(const s of this.modules)s.isExecuted&&(s.info.moduleSideEffects==="no-treeshake"?s.includeAllInBundle():s.include());if(t===1)for(const s of e)s.preserveSignature!==!1&&(s.includeAllExports(!1),this.needsTreeshakingPass=!0);fe("treeshaking pass "+t++,3)}while(this.needsTreeshakingPass)}else for(const t of this.modules)t.includeAllInBundle();for(const t of this.externalModules)t.warnUnusedImports();for(const t of this.implicitEntryModules)for(const s of t.implicitlyLoadedAfter)s.info.isEntry||s.isIncluded()||L(Qd(s))}sortModules(){const{orderedModules:e,cyclePaths:t}=function(s){let i=0;const r=[],o=new Set,a=new Set,l=new Map,c=[],d=p=>{if(p instanceof de){for(const h of p.dependencies)l.has(h)?o.has(h)||r.push(gp(h,p,l)):(l.set(h,p),d(h));for(const h of p.implicitlyLoadedBefore)a.add(h);for(const{resolution:h}of p.dynamicImports)h instanceof de&&a.add(h);c.push(p)}p.execIndex=i++,o.add(p)};for(const p of s)l.has(p)||(l.set(p,null),d(p));for(const p of a)l.has(p)||(l.set(p,null),d(p));return{cyclePaths:r,orderedModules:c}}(this.entryModules);for(const s of t)this.options.onLog(j,qd(s));this.modules=e;for(const s of this.modules)s.bindReferences();this.warnForMissingExports()}warnForMissingExports(){for(const e of this.modules)for(const t of e.importDescriptions.values())t.name==="*"||t.module.getVariableForExportName(t.name)[0]||e.log(j,Ts(t.name,e.id,t.module.id),t.start)}}function bc(n,e){return e()}function Sa(n,e,t,s){n=to("onLog",n);const i=_t[s],r=(o,a,l=Ka)=>{if(!(_t[o]<i)){for(const c of n){if(l.has(c))continue;const{onLog:d}=c,p=h=>_t[h]<i?Xe:f=>r(h,et(f),new Set(l).add(c));if(("handler"in d?d.handler:d).call({debug:p(Kn),error:h=>L(et(h)),info:p(Bt),meta:{rollupVersion:Sr,watchMode:t},warn:p(j)},o,a)===!1)return}e(o,a)}};return r}const jp=n=>{var e;return n.cache===!0?void 0:((e=n.cache)==null?void 0:e.cache)||n.cache},Up=n=>{if(n===!0)return()=>!0;if(typeof n=="function")return(t,...s)=>!t.startsWith("\0")&&n(t,...s)||!1;if(n){const t=new Set,s=[];for(const i of(e=n,Array.isArray(e)?e.filter(Boolean):e?[e]:[]))i instanceof RegExp?s.push(i):t.add(i);return(i,...r)=>t.has(i)||s.some(o=>o.test(i))}var e;return()=>!1},Gp=n=>{const e=n.input;return e==null?[]:typeof e=="string"?[e]:e},Wp=n=>{const e=n.maxParallelFileOps;return typeof e=="number"?e<=0?1/0:e:20},Hp=(n,e)=>{const t=n.moduleContext;if(typeof t=="function")return s=>t(s)??e;if(t){const s=Object.create(null);for(const[i,r]of Object.entries(t))s[We(i)]=r;return i=>s[i]??e}return()=>e},Xp=n=>{if(n.treeshake===!1)return!1;const e=yc(n.treeshake,$p,"treeshake","configuration-options/#treeshake","false, true, ");return{annotations:e.annotations!==!1,correctVarValueBeforeDeclaration:e.correctVarValueBeforeDeclaration===!0,manualPureFunctions:e.manualPureFunctions??pe,moduleSideEffects:Zp(e.moduleSideEffects),propertyReadSideEffects:e.propertyReadSideEffects==="always"?"always":e.propertyReadSideEffects!==!1,tryCatchDeoptimization:e.tryCatchDeoptimization!==!1,unknownGlobalSideEffects:e.unknownGlobalSideEffects!==!1}},Zp=n=>{if(typeof n=="boolean")return()=>n;if(n==="no-external")return(e,t)=>!t;if(typeof n=="function")return(e,t)=>!!e.startsWith("\0")||n(e,t)!==!1;if(Array.isArray(n)){const e=new Set(n);return t=>e.has(t)}return n&&L(Ee("treeshake.moduleSideEffects","configuration-options/#treeshake-modulesideeffects",'please use one of false, "no-external", a function or an array')),()=>!0},qp=/[\u0000-\u001F"#$&*+,:;<=>?[\]^`{|}\u007F]/g,Yp=/^[a-z]:/i;function Kp(n){const e=Yp.exec(n),t=e?e[0]:"";return t+n.slice(t.length).replace(qp,"_")}const Qp=(n,e,t)=>{const{file:s}=n;if(typeof s=="string"){if(e)return L(Ee("output.file",Bn,'you must set "output.dir" instead of "output.file" when using the "output.preserveModules" option'));if(!Array.isArray(t.input))return L(Ee("output.file",Bn,'you must set "output.dir" instead of "output.file" when providing named inputs'))}return s},Jp=n=>{const e=n.format;switch(e){case void 0:case"es":case"esm":case"module":return"es";case"cjs":case"commonjs":return"cjs";case"system":case"systemjs":return"system";case"amd":case"iife":case"umd":return e;default:return L(Ee("output.format",sl,'Valid values are "amd", "cjs", "system", "es", "iife" or "umd"',e))}},ef=(n,e)=>{const t=n.inlineDynamicImports||!1,{input:s}=e;return t&&(Array.isArray(s)?s:Object.keys(s)).length>1?L(Ee("output.inlineDynamicImports",il,'multiple inputs are not supported when "output.inlineDynamicImports" is true')):t},tf=(n,e,t)=>{const s=n.preserveModules||!1;if(s){if(e)return L(Ee("output.inlineDynamicImports",il,'this option is not supported for "output.preserveModules"'));if(t.preserveEntrySignatures===!1)return L(Ee("preserveEntrySignatures","configuration-options/#preserveentrysignatures",'setting this option to false is not supported for "output.preserveModules"'))}return s},nf=n=>{const{preserveModulesRoot:e}=n;if(e!=null)return We(e)},sf=n=>{const e={autoId:!1,basePath:"",define:"define",forceJsExtensionForImports:!1,...n.amd};return(e.autoId||e.basePath)&&e.id?L(Ee("output.amd.id",nl,'this option cannot be used together with "output.amd.autoId"/"output.amd.basePath"')):e.basePath&&!e.autoId?L(Ee("output.amd.basePath","configuration-options/#output-amd-basepath",'this option only works with "output.amd.autoId"')):e.autoId?{autoId:!0,basePath:e.basePath,define:e.define,forceJsExtensionForImports:e.forceJsExtensionForImports}:{autoId:!1,define:e.define,forceJsExtensionForImports:e.forceJsExtensionForImports,id:e.id}},ws=(n,e)=>{const t=n[e];return typeof t=="function"?t:()=>t||""},rf=(n,e)=>{const{dir:t}=n;return typeof t=="string"&&typeof e=="string"?L(Ee("output.dir",Bn,'you must set either "output.file" for a single-file build or "output.dir" when generating multiple chunks')):t},of=(n,e)=>{const t=n.entryFileNames;return t==null&&e.add("entryFileNames"),t??"[name].js"};function af(n,e){const t=n.exports;if(t==null)e.add("exports");else if(!["default","named","none","auto"].includes(t))return L({code:rl,message:`"output.exports" must be "default", "named", "none", "auto", or left unspecified (defaults to "auto"), received "${t}".`,url:we(Lr)});return t||"auto"}const lf=(n,e)=>(n.externalImportAssertions!=null&&th('The "output.externalImportAssertions" option is deprecated. Use the "output.externalImportAttributes" option instead.',"configuration-options/#output-externalimportattributes",!0,e),n.externalImportAttributes??n.externalImportAssertions??!0),cf=n=>{const e=yc(n.generatedCode,Sp,"output.generatedCode","configuration-options/#output-generatedcode","");return{arrowFunctions:e.arrowFunctions===!0,constBindings:e.constBindings===!0,objectShorthand:e.objectShorthand===!0,reservedNamesAsProps:e.reservedNamesAsProps!==!1,symbols:e.symbols===!0}},uf=(n,e)=>{if(e)return"";const t=n.indent;return t===!1?"":t??!0},Na=new Set(["compat","auto","esModule","default","defaultOnly"]),df=n=>{const e=n.interop;if(typeof e=="function"){const t=Object.create(null);let s=null;return i=>i===null?s||qi(s=e(i)):i in t?t[i]:qi(t[i]=e(i))}return e===void 0?()=>"default":()=>qi(e)},qi=n=>Na.has(n)?n:L(Ee("output.interop",Dr,`use one of ${Array.from(Na,e=>JSON.stringify(e)).join(", ")}`,n)),hf=(n,e,t)=>{const s=n.manualChunks;if(s){if(e)return L(Ee("output.manualChunks",fo,'this option is not supported for "output.inlineDynamicImports"'));if(t)return L(Ee("output.manualChunks",fo,'this option is not supported for "output.preserveModules"'))}return s||{}},pf=(n,e,t)=>n.minifyInternalExports??(t||e==="es"||e==="system"),ff=(n,e)=>{const t=n.sourcemapFileNames;return t==null&&e.add("sourcemapFileNames"),t},mf=n=>{const{sourcemapBaseUrl:e}=n;if(e)return function(s){try{new URL(s)}catch{return!1}return!0}(e)?(t=e).endsWith("/")?t:t+"/":L(Ee("output.sourcemapBaseUrl","configuration-options/#output-sourcemapbaseurl",`must be a valid URL, received ${JSON.stringify(e)}`));var t};function gf(n){return async function(e,t){const{options:s,unsetOptions:i}=await async function(l,c){if(!l)throw new Error("You must supply an options object to rollup");const d=await async function(f,A){const m=to("options",await Xs(f.plugins)),y=f.logLevel||Bt,b=Sa(m,Aa(f,y),A,y);for(const k of m){const{name:g,options:E}=k,w="handler"in E?E.handler:E,$=await w.call({debug:on(Kn,"PLUGIN_LOG",b,g,y),error:P=>L(_n(et(P),g,{hook:"onLog"})),info:on(Bt,"PLUGIN_LOG",b,g,y),meta:{rollupVersion:Sr,watchMode:A},warn:on(j,"PLUGIN_WARNING",b,g,y)},f);$&&(f=$)}return f}(l,c),{options:p,unsetOptions:h}=await async function(f,A){const m=new Set,y=f.context??"undefined",b=await Xs(f.plugins),k=f.logLevel||Bt,g=Sa(b,Aa(f,k),A,k),E=f.strictDeprecations||!1,w=Wp(f),$={cache:jp(f),context:y,experimentalCacheExpiry:f.experimentalCacheExpiry??10,experimentalLogSideEffects:f.experimentalLogSideEffects||!1,external:Up(f.external),input:Gp(f),logLevel:k,makeAbsoluteExternalsRelative:f.makeAbsoluteExternalsRelative??"ifRelativeSource",maxParallelFileOps:w,moduleContext:Hp(f,y),onLog:g,perf:f.perf||!1,plugins:b,preserveEntrySignatures:f.preserveEntrySignatures??"exports-only",preserveSymlinks:f.preserveSymlinks||!1,shimMissingExports:f.shimMissingExports||!1,strictDeprecations:E,treeshake:Xp(f)};return gc(f,[...Object.keys($),"onwarn","watch"],"input options",g,/^(output)$/),{options:$,unsetOptions:m}}(d,c);return Ec(p.plugins,Qr),{options:p,unsetOptions:h}}(e,t!==null);(function(l){l.perf?(Wn=new Map,Ae=Th,fe=zh,l.plugins=l.plugins.map(jh)):(Ae=Xe,fe=Xe)})(s),await async function(){await nc()}();const r=new Fp(s,t),o=e.cache!==!1;e.cache&&(s.cache=void 0,e.cache=void 0),Ae("BUILD",1),await bc(r.pluginDriver,async()=>{try{Ae("initialize",2),await r.pluginDriver.hookParallel("buildStart",[s]),fe("initialize",2),await r.build()}catch(l){const c=Object.keys(r.watchFiles);throw c.length>0&&(l.watchFiles=c),await r.pluginDriver.hookParallel("buildEnd",[l]),await r.pluginDriver.hookParallel("closeBundle",[]),l}await r.pluginDriver.hookParallel("buildEnd",[])}),fe("BUILD",1);const a={cache:o?r.getCache():void 0,async close(){a.closed||(a.closed=!0,await r.pluginDriver.hookParallel("closeBundle",[]))},closed:!1,generate:async l=>a.closed?L(Eo()):Pa(!1,s,i,l,r),get watchFiles(){return Object.keys(r.watchFiles)},write:async l=>a.closed?L(Eo()):Pa(!0,s,i,l,r)};return s.perf&&(a.getTimings=Vh),a}(n,null)}function Ec(n,e){for(const[t,s]of n.entries())s.name||(s.name=`${e}${t+1}`)}async function Pa(n,e,t,s,i){const{options:r,outputPluginDriver:o,unsetOptions:a}=await async function(l,c,d,p){if(!l)throw new Error("You must supply an options object");const h=await Xs(l.plugins);Ec(h,Jr);const f=c.createOutputPluginDriver(h);return{...await yf(d,p,l,f),outputPluginDriver:f}}(s,i.pluginDriver,e,t);return bc(0,async()=>{const l=new Ep(r,a,e,o,i),c=await l.generate(n);if(n){if(Ae("WRITE",1),!r.dir&&!r.file)return L({code:Fd,message:'You must specify "output.file" or "output.dir" for the build.',url:we(Bn)});await Promise.all(Object.values(c).map(p=>i.fileOperationQueue.run(()=>async function(h,f){const A=We(f.dir||Vt(f.file),h.fileName);return await Ap(Vt(A),{recursive:!0}),vp(A,h.type==="asset"?h.source:h.code)}(p,r)))),await o.hookParallel("writeBundle",[r,c]),fe("WRITE",1)}return d=c,{output:Object.values(d).filter(p=>Object.keys(p).length>0).sort((p,h)=>Ca(p)-Ca(h))};var d})}function yf(n,e,t,s){return async function(i,r,o){const a=new Set(o),l=i.compact||!1,c=Jp(i),d=ef(i,r),p=tf(i,d,r),h=Qp(i,p,r),f=cf(i),A=lf(i,r),m={amd:sf(i),assetFileNames:i.assetFileNames??"assets/[name]-[hash][extname]",banner:ws(i,"banner"),chunkFileNames:i.chunkFileNames??"[name]-[hash].js",compact:l,dir:rf(i,h),dynamicImportInCjs:i.dynamicImportInCjs??!0,entryFileNames:of(i,a),esModule:i.esModule??"if-default-prop",experimentalMinChunkSize:i.experimentalMinChunkSize??1,exports:af(i,a),extend:i.extend||!1,externalImportAssertions:A,externalImportAttributes:A,externalLiveBindings:i.externalLiveBindings??!0,file:h,footer:ws(i,"footer"),format:c,freeze:i.freeze??!0,generatedCode:f,globals:i.globals||{},hoistTransitiveImports:i.hoistTransitiveImports??!0,indent:uf(i,l),inlineDynamicImports:d,interop:df(i),intro:ws(i,"intro"),manualChunks:hf(i,d,p),minifyInternalExports:pf(i,c,l),name:i.name,noConflict:i.noConflict||!1,outro:ws(i,"outro"),paths:i.paths||{},plugins:await Xs(i.plugins),preserveModules:p,preserveModulesRoot:nf(i),sanitizeFileName:typeof i.sanitizeFileName=="function"?i.sanitizeFileName:i.sanitizeFileName===!1?y=>y:Kp,sourcemap:i.sourcemap||!1,sourcemapBaseUrl:mf(i),sourcemapExcludeSources:i.sourcemapExcludeSources||!1,sourcemapFile:i.sourcemapFile,sourcemapFileNames:ff(i,a),sourcemapIgnoreList:typeof i.sourcemapIgnoreList=="function"?i.sourcemapIgnoreList:i.sourcemapIgnoreList===!1?()=>!1:y=>y.includes("node_modules"),sourcemapPathTransform:i.sourcemapPathTransform,strict:i.strict??!0,systemNullSetters:i.systemNullSetters??!0,validate:i.validate||!1};return gc(i,Object.keys(m),"output options",r.onLog),{options:m,unsetOptions:a}}(s.hookReduceArg0Sync("outputOptions",[t],(i,r)=>r||i,i=>{const r=()=>i.error({code:Nd,message:'Cannot emit files or set asset sources in the "outputOptions" hook, use the "renderStart" hook instead.'});return{...i,emitFile:r,setAssetSource:r}}),n,e)}var Ln;function Ca(n){return n.type==="asset"?Ln.ASSET:n.isEntry?Ln.ENTRY_CHUNK:Ln.SECONDARY_CHUNK}(function(n){n[n.ENTRY_CHUNK=0]="ENTRY_CHUNK",n[n.SECONDARY_CHUNK=1]="SECONDARY_CHUNK",n[n.ASSET=2]="ASSET"})(Ln||(Ln={}));const bf=new URL(""+new URL("../assets/_preview2-shim.zWH3_7f-.js",import.meta.url).href,import.meta.url);async function Nf(n,e=[]){const t=await fetch(bf).then(A=>A.text());let s="./shim.js",i="component";e=e.reduce((A,m)=>{let y=Object.keys(m)[0],b=m[y],k="./"+y.replace(":","_").replace(/\//g,"_")+".js";return A[0][y]=k,A[1].push([k,b]),A},[{},[]]);let r=Object.assign({"wasi:cli/*":`${s}#*`,"wasi:filesystem/*":`${s}#*`,"wasi:io/*":`${s}#*`,"wasi:sockets/*":`${s}#*`,"wasi:random/*":`${s}#*`,"wasi:clocks/*":`${s}#*`},{...e[0]}),o={name:i,map:Object.entries(r??{}),validLiftingOptimization:!1,noNodejsCompat:!0,tlaCompat:!1,base64Cutoff:4096},{files:a,imports:l,exports:c}=await ed(n,o),d=await gf({input:i+".js",plugins:[Ic([...a,...e[1],[s,t]])]}).then(A=>A.generate({format:"es"})).then(({output:A})=>A[0].code),p=new Blob([d],{type:"text/javascript"}),h=URL.createObjectURL(p);return await Ra(()=>import(h),__vite__mapDeps([]),import.meta.url)}export{Ic as default,Nf as load,Ic as plugin};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
